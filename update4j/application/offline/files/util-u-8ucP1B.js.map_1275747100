{"version":3,"file":"util-u-8ucP1B.js","sources":["../../../../../src/main/javascript/season/decode/Artifact.tsx","../../../../../src/main/javascript/util.ts"],"sourcesContent":["import {ArtifactType} from \"ftc-common/javaTypes\";\n\nimport './Artifact.css';\n\nexport const randomizationArtifacts: Record<number, ArtifactType[]> = {\n    [1]: [ArtifactType.GREEN, ArtifactType.PURPLE, ArtifactType.PURPLE],\n    [2]: [ArtifactType.PURPLE, ArtifactType.GREEN, ArtifactType.PURPLE],\n    [3]: [ArtifactType.PURPLE, ArtifactType.PURPLE, ArtifactType.GREEN]\n}\n\nexport default function Artifact({value, matches}: {value: ArtifactType, matches?: boolean}) {\n    return <span className={`artifact artifact-${value.toLowerCase()} ${matches ? 'matches' : ''}`}>{({\n        [ArtifactType.GREEN]: 'G',\n        [ArtifactType.PURPLE]: 'P',\n        [ArtifactType.NONE]: '\\u00A0',\n    })[value]}</span>;\n}\n","import {t} from \"ftc-common/i18n\";\nimport {Dispatch, RefObject, SetStateAction, useRef, useState} from \"react\";\n\nexport function delayStr(scheduledStart?: number, start?: number) {\n    if(!scheduledStart || !start) {\n        return '';\n    }\n    const startDiff = start - scheduledStart;\n    const diffMin = Math.round(Math.abs(startDiff) / 60000);\n\n    if(diffMin === 0) {\n        return t`On Time`;\n    } else if(startDiff > 0) {\n        return t`${diffMin}m behind`\n    } else {\n        return t`${diffMin}m ahead`\n    }\n}\n\n// Types adapted from react\n// useful when you want to track something with state but also want to be able to access the current value without rebinding callbacks\nexport function useStateRef<S>(initialState: S | (() => S)): [S, Dispatch<SetStateAction<S>>, RefObject<S>];\nexport function useStateRef<S = undefined>(): [S | undefined, Dispatch<SetStateAction<S | undefined>>, RefObject<S>];\nexport function useStateRef<S>(initialState?: S | (() => S)) {\n    const [state, setState] = useState(initialState);\n    const ref = useRef(initialState);\n\n    function realSetState(action: SetStateAction<S>) {\n        setState((prev) => {\n            const newState = typeof action === 'function' ? (action as (prevState: S | undefined) => S)(prev) : action;\n            ref.current = newState;\n            return newState;\n        });\n    }\n\n    return [state, realSetState, ref];\n}"],"names":["randomizationArtifacts","ArtifactType","Artifact","value","matches","jsx","delayStr","scheduledStart","start","startDiff","diffMin","t","useStateRef","initialState","state","setState","useState","ref","useRef","realSetState","action","prev","newState"],"mappings":"4aAIO,MAAMA,EAAyD,CACjE,EAAI,CAACC,EAAa,MAAOA,EAAa,OAAQA,EAAa,MAAM,EACjE,EAAI,CAACA,EAAa,OAAQA,EAAa,MAAOA,EAAa,MAAM,EACjE,EAAI,CAACA,EAAa,OAAQA,EAAa,OAAQA,EAAa,KAAK,CACtE,EAEA,SAAwBC,EAAS,CAAC,MAAAC,EAAO,QAAAC,GAAoD,CAClF,OAAAC,EAAA,IAAC,OAAK,CAAA,UAAW,qBAAqBF,EAAM,YAAY,CAAC,IAAIC,EAAU,UAAY,EAAE,GAAM,SAAA,CAC9F,CAACH,EAAa,KAAK,EAAG,IACtB,CAACA,EAAa,MAAM,EAAG,IACvB,CAACA,EAAa,IAAI,EAAG,GAAA,EACtBE,CAAK,CAAE,CAAA,CACd,CCbgB,SAAAG,EAASC,EAAyBC,EAAgB,CAC3D,GAAA,CAACD,GAAkB,CAACC,EACZ,MAAA,GAEX,MAAMC,EAAYD,EAAQD,EACpBG,EAAU,KAAK,MAAM,KAAK,IAAID,CAAS,EAAI,GAAK,EAEtD,OAAGC,IAAY,EACJC,WACDF,EAAY,EACXE,IAAID,CAAO,WAEXC,IAAID,CAAO,SAE1B,CAMO,SAASE,EAAeC,EAA8B,CACzD,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAASH,CAAY,EACzCI,EAAMC,SAAOL,CAAY,EAE/B,SAASM,EAAaC,EAA2B,CAC7CL,EAAUM,GAAS,CACf,MAAMC,EAAW,OAAOF,GAAW,WAAcA,EAA2CC,CAAI,EAAID,EACpG,OAAAH,EAAI,QAAUK,EACPA,CAAA,CACV,CAAA,CAGE,MAAA,CAACR,EAAOK,EAAcF,CAAG,CACpC"}