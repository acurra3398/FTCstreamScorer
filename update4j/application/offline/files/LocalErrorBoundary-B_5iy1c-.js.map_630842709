{"version":3,"file":"LocalErrorBoundary-B_5iy1c-.js","sources":["../../../../../src/main/javascript/LocalErrorBoundary.tsx"],"sourcesContent":["import { Component, ErrorInfo, ReactNode } from \"react\";\nimport * as Sentry from \"@sentry/browser\";\nimport {t} from \"ftc-common/i18n\";\n\ninterface Props {\n    children?: ReactNode;\n}\n\ninterface State {\n    hasError: boolean;\n    error?: Error\n}\n\nexport default class ErrorBoundary extends Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = { hasError: false };\n    }\n\n    static getDerivedStateFromError(error: Error): State {\n        // Update state so the next render will show the fallback UI.\n        return { hasError: true, error };\n    }\n\n    componentDidCatch(error: Error, info: ErrorInfo) {\n        Sentry.captureException(error)\n    }\n\n    resetError() {\n        this.setState({ hasError: false })\n    }\n\n    render() {\n        if (this.state.hasError) {\n            // You can render any custom fallback UI\n            return <div>\n                <p>\n                    An error occurred. Please <a href=\"/feedback/\" target=\"_blank\">contact support</a> if clicking \"Try\n                    again\" or refreshing the page does not\n                    resolve the issue.\n                </p>\n                <details style={{ whiteSpace: 'pre-wrap', margin: '10px' }}>\n                    {this.state.error && this.state.error.toString()}\n                </details>\n                <button onClick={this.resetError} className={\"btn btn-secondary\"}>{t`Try again`}</button>\n            </div>\n        }\n\n        return this.props.children;\n    }\n}"],"names":["ErrorBoundary","Component","props","error","info","Sentry.captureException","jsxs","t"],"mappings":"0aAaA,MAAqBA,UAAsBC,EAAAA,SAAwB,CAC/D,YAAYC,EAAc,CACtB,MAAMA,CAAK,EACN,KAAA,MAAQ,CAAE,SAAU,EAAM,CAAA,CAGnC,OAAO,yBAAyBC,EAAqB,CAE1C,MAAA,CAAE,SAAU,GAAM,MAAAA,CAAM,CAAA,CAGnC,kBAAkBA,EAAcC,EAAiB,CAC7CC,EAAwBF,CAAK,CAAA,CAGjC,YAAa,CACT,KAAK,SAAS,CAAE,SAAU,EAAA,CAAO,CAAA,CAGrC,QAAS,CACD,OAAA,KAAK,MAAM,gBAEH,MACJ,CAAA,SAAA,CAAAG,OAAC,IAAE,CAAA,SAAA,CAAA,mCAC4B,IAAE,CAAA,KAAK,aAAa,OAAO,SAAS,SAAe,kBAAA,EAAI,6EAAA,EAGtF,QACC,UAAQ,CAAA,MAAO,CAAE,WAAY,WAAY,OAAQ,MAC7C,EAAA,SAAA,KAAK,MAAM,OAAS,KAAK,MAAM,MAAM,WAC1C,QACC,SAAO,CAAA,QAAS,KAAK,WAAY,UAAW,oBAAsB,SAAaC,YAAA,CAAA,CAAA,EACpF,EAGG,KAAK,MAAM,QAAA,CAE1B"}