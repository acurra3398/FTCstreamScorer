{"version":3,"file":"PresentAwards-BZ6HQI77.js","sources":["../../../../../../.yarn/__virtual__/react-bootstrap-virtual-7bf9f73a65/0/cache/react-bootstrap-npm-1.6.8-caaf8304af-a1fbf0975d.zip/node_modules/react-bootstrap/esm/ListGroupItem.js","../../../../../../.yarn/__virtual__/react-bootstrap-virtual-7bf9f73a65/0/cache/react-bootstrap-npm-1.6.8-caaf8304af-a1fbf0975d.zip/node_modules/react-bootstrap/esm/ListGroup.js","../../../../../../FTCCommon/src/main/javascript/awards/manage/PresentAwards.tsx"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"active\", \"disabled\", \"className\", \"variant\", \"action\", \"as\", \"onClick\"];\nimport classNames from 'classnames';\nimport React, { useCallback } from 'react';\nimport AbstractNavItem from './AbstractNavItem';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  variant: undefined,\n  active: false,\n  disabled: false\n};\nvar ListGroupItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      variant = _ref.variant,\n      action = _ref.action,\n      as = _ref.as,\n      onClick = _ref.onClick,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'list-group-item');\n  var handleClick = useCallback(function (event) {\n    if (disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n\n    if (onClick) onClick(event);\n  }, [disabled, onClick]);\n\n  if (disabled && props.tabIndex === undefined) {\n    props.tabIndex = -1;\n    props['aria-disabled'] = true;\n  }\n\n  return /*#__PURE__*/React.createElement(AbstractNavItem, _extends({\n    ref: ref\n  }, props, {\n    // eslint-disable-next-line no-nested-ternary\n    as: as || (action ? props.href ? 'a' : 'button' : 'div'),\n    onClick: handleClick,\n    className: classNames(className, bsPrefix, active && 'active', disabled && 'disabled', variant && bsPrefix + \"-\" + variant, action && bsPrefix + \"-action\")\n  }));\n});\nListGroupItem.defaultProps = defaultProps;\nListGroupItem.displayName = 'ListGroupItem';\nexport default ListGroupItem;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"bsPrefix\", \"variant\", \"horizontal\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport warning from 'warning';\nimport { useUncontrolled } from 'uncontrollable';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport AbstractNav from './AbstractNav';\nimport ListGroupItem from './ListGroupItem';\nvar defaultProps = {\n  variant: undefined,\n  horizontal: undefined\n};\nvar ListGroup = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _useUncontrolled = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  }),\n      className = _useUncontrolled.className,\n      initialBsPrefix = _useUncontrolled.bsPrefix,\n      variant = _useUncontrolled.variant,\n      horizontal = _useUncontrolled.horizontal,\n      _useUncontrolled$as = _useUncontrolled.as,\n      as = _useUncontrolled$as === void 0 ? 'div' : _useUncontrolled$as,\n      controlledProps = _objectWithoutPropertiesLoose(_useUncontrolled, _excluded);\n\n  var bsPrefix = useBootstrapPrefix(initialBsPrefix, 'list-group');\n  var horizontalVariant;\n\n  if (horizontal) {\n    horizontalVariant = horizontal === true ? 'horizontal' : \"horizontal-\" + horizontal;\n  } else {\n    horizontalVariant = null;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(!(horizontal && variant === 'flush'), '`variant=\"flush\"` and `horizontal` should not be used together.') : void 0;\n  return /*#__PURE__*/React.createElement(AbstractNav, _extends({\n    ref: ref\n  }, controlledProps, {\n    as: as,\n    className: classNames(className, bsPrefix, variant && bsPrefix + \"-\" + variant, horizontalVariant && bsPrefix + \"-\" + horizontalVariant)\n  }));\n});\nListGroup.defaultProps = defaultProps;\nListGroup.displayName = 'ListGroup';\nListGroup.Item = ListGroupItem;\nexport default ListGroup;","import {\n    listAwardAssignments,\n    listAwards,\n    showAdvancement,\n    showAward,\n    showBlank,\n    useAwardPresentationContext\n} from \"../api\";\nimport {useQuery} from \"@tanstack/react-query\";\nimport {AdvancementStatus, Award, AwardAssignment, AwardPresentationContext, CommonAdvancement} from \"../../javaTypes\";\nimport {\n    AdvancementEntry,\n    assignmentIsPopulated,\n    filterAdvancements,\n    getAwardLabel,\n    sortAndFilterAssignments\n} from \"../utils\";\nimport {t} from \"../../i18n\";\nimport {useEffect, useRef, useState} from \"react\";\nimport {moreThanTwoAllianceBreakDescriptions, twoAllianceBreakDescriptions} from \"../ViewScript\";\nimport {Button, ListGroup, ToggleButton, ToggleButtonGroup} from \"react-bootstrap\";\nimport './PresentAwards.scss';\n\nconst placeholderAdvancement = {\n    criteria: \"\",\n    teamName: \"\",\n    displayTeam: \"\",\n    team: 0,\n    status: AdvancementStatus.NULL\n}\nconst isCloud = window.FIRST_ENV.projectName == 'FTCCloud'\n\ntype AwardAssignmentEntry = AwardAssignment & { awardId: string };\n\nfunction AwardAssignmentPresenter({award, assignment, assignmentCount, stealthMode, active, present}: { award: Award, assignment: AwardAssignmentEntry, assignmentCount: number, stealthMode: boolean, active: boolean, present: () => void }) {\n    const [isPeeking, setIsPeeking] = useState(false);\n    const containerRef = useRef<HTMLAnchorElement>(null)\n    useEffect(() => {\n        if(active) {\n            containerRef.current?.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        }\n    }, [active]);\n\n    return <ListGroup.Item action variant=\"secondary\" active={active} ref={containerRef} onClick={(e) => {\n        if((e.target as Element).closest(\".peek-btn\")) return;\n        present();\n    }}>\n        <b dangerouslySetInnerHTML={{__html: getAwardLabel(award, assignment.series, assignmentCount)}} className={\"ml-4\"}></b>&nbsp;\n        {!stealthMode || isPeeking ? (award.isTeamAward ? assignment.team?.displayNumber + \" - \" + assignment.team?.name : assignment.name + (assignment.team ? ` (${assignment.team.displayNumber})` : '')) : '<Hidden>'}\n        {stealthMode ? <ToggleButtonGroup type=\"checkbox\" value={isPeeking ? [1] : []} onChange={(v) => setIsPeeking(v.includes(1))} className=\"float-right mr-1 peek-btn\">\n            <ToggleButton variant=\"light\" value={1} className={\"btn-xs\"}>Peek</ToggleButton>\n        </ToggleButtonGroup> : null}\n    </ListGroup.Item>\n}\n\nfunction AwardPresenter({award, assignments, stealthMode, active, activeAssignment, presentEntry}: { award: Award, assignments: AwardAssignmentEntry[], stealthMode: boolean, active: boolean, activeAssignment: AwardAssignmentEntry | null, presentEntry: (entry: Award | AwardAssignmentEntry) => void }) {\n    const containerRef = useRef<HTMLAnchorElement>(null)\n    useEffect(() => {\n        if(active) {\n            containerRef.current?.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        }\n    }, [active]);\n\n    return <>\n        <ListGroup.Item action active={active} ref={containerRef} onClick={() => presentEntry(award)}><b>{award.name}</b> About Award</ListGroup.Item>\n\n        {sortAndFilterAssignments(award, assignments).map(aa =>\n            <AwardAssignmentPresenter key={aa.series} award={award} assignment={aa} assignmentCount={assignments.length} stealthMode={stealthMode} active={activeAssignment == aa} present={() => presentEntry(aa)} />\n        )}\n    </>\n}\n\nfunction SingleAdvancementPresentation({advancement, stealthMode, active, present, index}: { advancement: CommonAdvancement, stealthMode: boolean, active: boolean, present: () => void, index: number }) {\n    const [isPeeking, setIsPeeking] = useState(false);\n    return <ListGroup.Item action variant=\"secondary\" active={active} onClick={(e) => {\n        if((e.target as Element).closest(\".peek-btn\")) return;\n        present();\n    }}>\n        <b>#{index}</b> {!stealthMode || isPeeking ? (advancement.displayTeam + ' - ' + advancement.teamName) : '<Hidden>'}\n        {stealthMode ? <ToggleButtonGroup type=\"checkbox\" value={isPeeking ? [1] : []} onChange={(v) => setIsPeeking(v.includes(1))} className=\"float-right mr-1 peek-btn\">\n            <ToggleButton variant=\"light\" value={1} className={\"btn-xs\"}>Peek</ToggleButton>\n        </ToggleButtonGroup> : null}\n    </ListGroup.Item>\n}\n\nfunction AdvancementPresentation({context, stealthMode, activeEntry, presentEntry}: { context: AwardPresentationContext, stealthMode: boolean, activeEntry: CommonAdvancement | null, presentEntry: (entry: CommonAdvancement) => void }) {\n    const containerRef = useRef<HTMLAnchorElement>(null)\n\n    if (!context.advancementConfig || context.advancementConfig.advancementCount == 0) {\n        return null;\n    }\n    const applicableAdvancements = filterAdvancements(context.advancements, context.advancementConfig.advancementCount)\n    return <>\n        <ListGroup.Item variant=\"primary\">Advancement presentation:</ListGroup.Item>\n        <ListGroup.Item action active={activeEntry == placeholderAdvancement} ref={containerRef} onClick={() => presentEntry(placeholderAdvancement)}><b>Preview Advancement</b></ListGroup.Item>\n        {applicableAdvancements.map((a, idx) => <SingleAdvancementPresentation key={idx} index={idx + 1} advancement={a} stealthMode={stealthMode} active={activeEntry == a} present={() => presentEntry(a)} />)}\n    </>;\n}\n\nexport default function PresentAwards() {\n    const awardData = useQuery({\n        queryKey: [\"awards\", window.eventCode],\n        queryFn: () => listAwards(window.eventCode)\n    })\n    const awardAssignmentData = useQuery({\n        queryKey: [\"awardAssignments\", window.eventCode],\n        queryFn: async () => {\n            const list = await listAwardAssignments(window.eventCode)\n            const ret: Record<string, AwardAssignmentEntry[]> = {}\n            Object.keys(list).forEach(k => {\n                ret[k] = list[k].map(a => ({...a, awardId: k}))\n            })\n            return ret\n        }\n    })\n    const awardPresentationContext = useAwardPresentationContext(window.eventCode);\n\n    const [stealthMode, setStealthMode] = useState(true);\n    const [currentEntry, setCurrentEntry] = useState(-1);\n\n    if (awardData.isLoading || awardAssignmentData.isLoading || awardPresentationContext.isLoading || awardData.isPending || awardAssignmentData.isPending || awardPresentationContext.isPending) {\n        return <div>{t`Loading...`}</div>\n    }\n    if(awardData.isError || awardAssignmentData.isError || awardPresentationContext.isError) {\n        return <div>{t`Error loading data`}</div>\n    }\n\n    const givenAwards = awardData.data.filter(a => awardAssignmentData.data[a.awardId] && awardAssignmentData.data[a.awardId].filter(assignmentIsPopulated).length > 0).toSorted((a, b) => a.displayOrder - b.displayOrder)\n    const awardsNotInAnyGroup = givenAwards.filter(a => !awardPresentationContext.data.presentationGroups.some(pg => pg.includes(a.awardTypeId)))\n    const chunkedAwards = awardPresentationContext.data.presentationGroups.map(pg => pg.length == 0 ? awardsNotInAnyGroup : givenAwards.filter(a => pg.includes(a.awardTypeId)))\n\n    const orderedEntries = [\n        ...(chunkedAwards.flatMap(as => as.flatMap(a => [a, sortAndFilterAssignments(a, awardAssignmentData.data[a.awardId])].flat()))),\n        (awardPresentationContext.data.advancementConfig?.advancementCount ? placeholderAdvancement : null),\n        ...(filterAdvancements(awardPresentationContext.data.advancements, awardPresentationContext.data.advancementConfig?.advancementCount || 0))\n    ].filter(e => e != null);\n    const currentEntryDesc = orderedEntries[currentEntry]\n    // These properties are chosen to easily differentiate these three types; they are not generic checks\n    const currentAward = currentEntryDesc && currentEntryDesc.hasOwnProperty(\"awardTypeId\") ? currentEntryDesc as Award : null;\n    const currentAwardAssignment = currentEntryDesc && currentEntryDesc.hasOwnProperty(\"series\") ? currentEntryDesc as AwardAssignmentEntry : null;\n    const currentAdvancement = currentEntryDesc && currentEntryDesc.hasOwnProperty(\"criteria\") ? currentEntryDesc as AdvancementEntry : null;\n\n    function presentEntryByIdx(idx: number){\n        const entryDesc = orderedEntries[idx]\n\n        if(entryDesc.hasOwnProperty(\"awardTypeId\")) {\n            const award = entryDesc as Award;\n            showAward(window.eventCode, award.awardId);\n        } else if(entryDesc.hasOwnProperty(\"series\")) {\n            const awardAssignment = entryDesc as AwardAssignmentEntry;\n            showAward(window.eventCode, awardAssignment.awardId, awardAssignment.series);\n        } else if(entryDesc.hasOwnProperty(\"criteria\")) {\n            const advancement = entryDesc as AdvancementEntry;\n            showAdvancement(window.eventCode, advancement.index);\n        }\n    }\n\n    function presentPrevious() {\n        setCurrentEntry((ce) => {\n            presentEntryByIdx(ce - 1);\n            return ce - 1;\n        });\n    }\n\n    function presentNext() {\n        setCurrentEntry((ce) => {\n            let ret = ce + 1;\n            if(ce < 0) {\n                ret = 0;\n            }\n            presentEntryByIdx(ret);\n            return ret;\n        });\n    }\n\n    function presentEntry(entry: Award | AwardAssignmentEntry | AdvancementEntry) {\n        const idx = orderedEntries.indexOf(entry);\n        setCurrentEntry(idx)\n        presentEntryByIdx(idx);\n    }\n\n\n    return <div>\n        <div className=\"row justify-content-center\">\n            <h2 className=\"text-center col-10\">{t`Awards/Advancement Presentation`}</h2>\n        </div>\n        {isCloud ?\n            <div className=\"row justify-content-center\">\n                <a href={`/event/${window.eventCode}/awards/display`} target=\"_blank\" rel=\"noreferrer\">\n                    {t`Open Awards Display`}\n                </a>\n            </div> : null}\n\n        <div className=\"row pt-2 pb-2 sticky-top present-header\">\n            <div className=\"col\">\n                <Button size={\"sm\"} variant={\"secondary\"} onClick={presentPrevious} disabled={currentEntry < 1}>\n                    <i className=\"fa fa-arrow-up\"></i> {t`Previous`}\n                </Button>\n            </div>\n            <label><input type=\"checkbox\" checked={stealthMode} title=\"Disable stealth mode to show winners here\"\n                          onChange={() => setStealthMode((was) => !was)} /> {t`Stealth Mode`}</label>\n\n            <div className=\"col text-right\">\n                <Button size={\"sm\"} variant={\"warning\"} className={\"mr-2\"} onClick={() => showBlank(window.eventCode)}>\n                    {t`Show Blank/Video`}\n                </Button>\n                <Button size={\"sm\"} variant={\"secondary\"} onClick={presentNext} disabled={currentEntry >= orderedEntries.length - 1}>\n                    <i className=\"fa fa-arrow-down\"></i> {t`Next`}\n                </Button>\n            </div>\n        </div>\n\n        <ListGroup>\n            {chunkedAwards.map((as, idx) => <>\n                <ListGroup.Item variant=\"primary\" key={`award_group_heading_${idx}`}>These awards will be\n                        presented {awardPresentationContext.data.allianceCount > 2 ? moreThanTwoAllianceBreakDescriptions[idx] : twoAllianceBreakDescriptions[idx]}:</ListGroup.Item>\n                {as.map(a => <AwardPresenter key={a.awardId} award={a} assignments={awardAssignmentData.data[a.awardId]} stealthMode={stealthMode} active={currentAward == a} activeAssignment={currentAwardAssignment} presentEntry={presentEntry}/>)}\n            </>)}\n            <AdvancementPresentation context={awardPresentationContext.data} stealthMode={stealthMode} activeEntry={currentAdvancement} presentEntry={presentEntry} />\n        </ListGroup>\n    </div>\n}\n"],"names":["_excluded","defaultProps","ListGroupItem","React","_ref","ref","bsPrefix","active","disabled","className","variant","action","as","onClick","props","_objectWithoutPropertiesLoose","useBootstrapPrefix","handleClick","useCallback","event","AbstractNavItem","_extends","classNames","ListGroup","_useUncontrolled","useUncontrolled","initialBsPrefix","horizontal","_useUncontrolled$as","controlledProps","horizontalVariant","AbstractNav","placeholderAdvancement","AdvancementStatus","isCloud","AwardAssignmentPresenter","award","assignment","assignmentCount","stealthMode","present","isPeeking","setIsPeeking","useState","containerRef","useRef","useEffect","_a","jsxs","e","jsx","getAwardLabel","_b","ToggleButtonGroup","v","ToggleButton","AwardPresenter","assignments","activeAssignment","presentEntry","Fragment","sortAndFilterAssignments","aa","SingleAdvancementPresentation","advancement","index","AdvancementPresentation","context","activeEntry","applicableAdvancements","filterAdvancements","a","idx","PresentAwards","awardData","useQuery","listAwards","awardAssignmentData","list","listAwardAssignments","ret","k","awardPresentationContext","useAwardPresentationContext","setStealthMode","currentEntry","setCurrentEntry","t","givenAwards","assignmentIsPopulated","b","awardsNotInAnyGroup","pg","chunkedAwards","orderedEntries","currentEntryDesc","currentAward","currentAwardAssignment","currentAdvancement","presentEntryByIdx","entryDesc","showAward","awardAssignment","showAdvancement","presentPrevious","ce","presentNext","entry","Button","was","showBlank","moreThanTwoAllianceBreakDescriptions","twoAllianceBreakDescriptions"],"mappings":"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","x_google_ignoreList":[0,1]}