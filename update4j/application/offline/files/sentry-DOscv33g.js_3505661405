import{D as es,l as S,g as pt,G as q,b as fe,d as me,e as F,S as Rt,f as Mt,h as Nn,i as _c,T as yc,j as Sc,s as j,k as ts,m as At,n as et,o as Lt,p as ze,q as ns,r as fn,t as bc,u as rs,v as ss,w as pe,x as Ot,y as ge,z as Ld,A as In,B as Be,C as wo,E as Pd,F as Ii,H as Fd,I as O,J as X,K as Tn,L as Ti,M as $d,N as Io,O as To,P as Ae,_ as Hd,Q as Ec,R as ki,U as vc,V as Wn,W as wc,X as Us,Y as Bd,Z as Ic,$ as Tt,a0 as Ci,a1 as ko,a2 as xi,a3 as Ke,a4 as Tc,a5 as kc,a6 as Ud,a7 as Cc,a8 as Rr,a9 as xc,aa as Mr,ab as Ar,ac as Wd,ad as Rc,ae as zd,af as jd,ag as qd,ah as Co,ai as st,aj as dt,ak as Ln,al as xo,am as Mc,an as Te,ao as Ri,ap as Dt,aq as Or,c as Dr,a as os,ar as Ws,as as kt,at as Gd,au as Yd,av as Ro,aw as Vd,ax as zs,ay as Nr,az as Mo,aA as Ac,aB as Oc,aC as Lr,aD as Dc,aE as Ao,aF as pn,aG as Xd,aH as js,aI as Nc,aJ as Mi,aK as Kd,aL as Oo,aM as Jd,aN as Zd,aO as ht,aP as Se,aQ as Lc,aR as kn,aS as Qd,aT as Je,aU as qs,aV as Do,aW as ef,aX as Pc,aY as tf,aZ as Fc,a_ as $c,a$ as nf,b0 as rf,b1 as sf,b2 as of,b3 as af,b4 as cf,b5 as uf,b6 as lf,b7 as df,b8 as ff,b9 as pf}from"../exports-gx3CWV9A.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="343c36f1-8d6d-4de6-bd56-d7ee409ad5ce",e._sentryDebugIdIdentifier="sentry-dbid-343c36f1-8d6d-4de6-bd56-d7ee409ad5ce")}catch{}const gr={},Ai={};function mt(e,t){gr[e]=gr[e]||[],gr[e].push(t)}function gt(e,t){if(!Ai[e]){Ai[e]=!0;try{t()}catch(n){es&&S.error(`Error while instrumenting ${e}`,n)}}}function Me(e,t){const n=e&&gr[e];if(n)for(const r of n)try{r(t)}catch(s){es&&S.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${pt(r)}
Error:`,s)}}let Es=null;function Hc(e){const t="error";mt(t,e),gt(t,hf)}function hf(){Es=q.onerror,q.onerror=function(e,t,n,r,s){return Me("error",{column:r,error:s,line:n,msg:e,url:t}),Es?Es.apply(this,arguments):!1},q.onerror.__SENTRY_INSTRUMENTED__=!0}let vs=null;function Bc(e){const t="unhandledrejection";mt(t,e),gt(t,mf)}function mf(){vs=q.onunhandledrejection,q.onunhandledrejection=function(e){return Me("unhandledrejection",e),vs?vs.apply(this,arguments):!0},q.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}let Oi=!1;function No(){Oi||(Oi=!0,Hc(Gs),Bc(Gs))}function Gs(){const e=fe(),t=e&&me(e);if(t){const n="internal_error";F&&S.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:Rt,message:n})}}Gs.tag="sentry_tracingErrorCallback";const Uc="_sentryScope",Wc="_sentryIsolationScope";function gf(e,t,n){e&&(Mt(e,Wc,n),Mt(e,Uc,t))}function Di(e){return{scope:e[Uc],isolationScope:e[Wc]}}function _f(){No()}class _t{constructor(t={}){this._traceId=t.traceId||Nn(),this._spanId=t.spanId||_c()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:yc}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function Lo(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return yf(r,t,n)}function yf(e,t,n){return Sc(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function Sf(e){if(!F)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=j(e),{spanId:s}=e.spanContext(),o=ts(e),i=me(e),a=i===e,c=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=j(i);u.push(`root ID: ${i.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}S.log(`${c}
  ${u.join(`
  `)}`)}function bf(e){if(!F)return;const{description:t="< unknown name >",op:n="< unknown op >"}=j(e),{spanId:r}=e.spanContext(),o=me(e)===e,i=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;S.log(i)}function Pr(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){F&&S.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function Ef(e,t){if(!At(e))return[!1];const n=et().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...t,normalizedRequest:t.normalizedRequest||n};let s;typeof e.tracesSampler=="function"?s=e.tracesSampler(r):r.parentSampled!==void 0?s=r.parentSampled:typeof e.tracesSampleRate<"u"?s=e.tracesSampleRate:s=1;const o=Pr(s);return o===void 0?(F&&S.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):o?Math.random()<o?[!0,o]:(F&&S.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[!1,o]):(F&&S.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o])}const vf=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function wf(e){return e==="http"||e==="https"}function Pt(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${i}`}function zc(e){const t=vf.exec(e);if(!t){Lt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",o="",i="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return jc({host:o,pass:s,path:c,projectId:u,port:i,protocol:n,publicKey:r})}function jc(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function If(e){if(!es)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(S.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?wf(r)?t&&isNaN(parseInt(t,10))?(S.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(S.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(S.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function qc(e){const t=typeof e=="string"?zc(e):jc(e);if(!(!t||!If(t)))return t}function tt(e,t=[]){return[e,t]}function Tf(e,t){const[n,r]=e;return[n,[...r,t]]}function Nt(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function Ni(e,t){return Nt(e,(n,r)=>t.includes(r))}function Fr(e){return q.__SENTRY__&&q.__SENTRY__.encodePolyfill?q.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function kf(e){return q.__SENTRY__&&q.__SENTRY__.decodePolyfill?q.__SENTRY__.decodePolyfill(e):new TextDecoder().decode(e)}function $r(e){const[t,n]=e;let r=JSON.stringify(t);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[Fr(r),o]:r.push(typeof o=="string"?Fr(o):o)}for(const o of n){const[i,a]=o;if(s(`
${JSON.stringify(i)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(ns(a))}s(c)}}return typeof r=="string"?r:Cf(r)}function Cf(e){const t=e.reduce((s,o)=>s+o.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function xf(e){let t=typeof e=="string"?Fr(e):e;function n(i){const a=t.subarray(0,i);return t=t.subarray(i+1),a}function r(){let i=t.indexOf(10);return i<0&&(i=t.length),JSON.parse(kf(n(i)))}const s=r(),o=[];for(;t.length;){const i=r(),a=typeof i.length=="number"?i.length:void 0;o.push([i,a?n(a):r()])}return[s,o]}function Rf(e){return[{type:"span"},e]}function Mf(e){const t=typeof e.data=="string"?Fr(e.data):e.data;return[ze({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const Af={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Li(e){return Af[e]}function Po(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Gc(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Pt(r)},...s&&{trace:ze({...s})}}}function Of(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Df(e,t,n,r){const s=Po(n),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Pt(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return tt(o,[i])}function Nf(e,t,n,r){const s=Po(n),o=e.type&&e.type!=="replay_event"?e.type:"event";Of(e,n&&n.sdk);const i=Gc(e,s,r,t);return delete e.sdkProcessingMetadata,tt(i,[[{type:o},e]])}function Lf(e,t){function n(d){return!!d.trace_id&&!!d.public_key}const r=fn(e[0]),s=t&&t.getDsn(),o=t&&t.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&s&&{dsn:Pt(s)}},a=t&&t.getOptions().beforeSendSpan,c=a?d=>{const l=a(j(d));return l||bc(),l}:d=>j(d),u=[];for(const d of e){const l=c(d);l&&u.push(Rf(l))}return tt(i,u)}function Yc(e,t,n,r=fe()){const s=r&&me(r);s&&(F&&S.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[ss]:t,[rs]:n}))}function Pi(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[rs],o=r[ss];typeof s=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:s})}),t}const Fi=1e3;class Fo{constructor(t={}){this._traceId=t.traceId||Nn(),this._spanId=t.spanId||_c(),this._startTime=t.startTimestamp||pe(),this._attributes={},this.setAttributes({[ge]:"manual",[Ot]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Ld:yc}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=In(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Be,"custom"),this}end(t){this._endTime||(this._endTime=In(t),bf(this),this._onSpanEnded())}getSpanJSON(){return ze({data:this._attributes,description:this._name,op:this._attributes[Ot],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Fd(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ge],_metrics_summary:Ii(this),profile_id:this._attributes[Pd],exclusive_time:this._attributes[wo],measurements:Pi(this._events),is_segment:this._isStandaloneSpan&&me(this)===this||void 0,segment_id:this._isStandaloneSpan?me(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){F&&S.log("[Tracing] Adding an event to span:",t);const s=$i(n)?n:r||pe(),o=$i(n)?{}:n||{},i={name:t,time:In(s),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=O();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===me(this)))return;if(this._isStandaloneSpan){this._sampled?Ff(Lf([this],t)):(F&&S.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(Di(this).scope||X()).captureEvent(r)}_convertSpanToTransaction(){if(!Hi(j(this)))return;this._name||(F&&S.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=Di(this),s=(t||X()).getClient()||O();if(this._sampled!==!0){F&&S.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),s&&s.recordDroppedEvent("sample_rate","transaction");return}const i=Tn(this).filter(l=>l!==this&&!Pf(l)).map(l=>j(l)).filter(Hi),a=this._attributes[Be];delete this._attributes[Ti],i.forEach(l=>{l.data&&delete l.data[Ti]});const c={contexts:{trace:$d(this)},spans:i.length>Fi?i.sort((l,f)=>l.start_timestamp-f.start_timestamp).slice(0,Fi):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...ze({dynamicSamplingContext:fn(this)})},_metrics_summary:Ii(this),...a&&{transaction_info:{source:a}}},u=Pi(this._events);return u&&Object.keys(u).length&&(F&&S.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),c.measurements=u),c}}function $i(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Hi(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Pf(e){return e instanceof Fo&&e.isStandaloneSpan()}function Ff(e){const t=O();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}const $o="__SENTRY_SUPPRESS_TRACING__";function $f(e,t){const n=jn();if(n.startSpan)return n.startSpan(e,t);const r=Bo(e),{forceTransaction:s,parentSpan:o}=e;return Ae(e.scope,()=>Xc(o)(()=>{const a=X(),c=Uo(a),d=e.onlyIfParent&&!c?new _t:Ho({parentSpan:c,spanArguments:r,forceTransaction:s,scope:a});return Wn(a,d),Lo(()=>t(d),()=>{const{status:l}=j(d);d.isRecording()&&(!l||l==="ok")&&d.setStatus({code:Rt,message:"internal_error"})},()=>d.end())}))}function Vc(e,t){const n=jn();if(n.startSpanManual)return n.startSpanManual(e,t);const r=Bo(e),{forceTransaction:s,parentSpan:o}=e;return Ae(e.scope,()=>Xc(o)(()=>{const a=X(),c=Uo(a),d=e.onlyIfParent&&!c?new _t:Ho({parentSpan:c,spanArguments:r,forceTransaction:s,scope:a});Wn(a,d);function l(){d.end()}return Lo(()=>t(d,l),()=>{const{status:f}=j(d);d.isRecording()&&(!f||f==="ok")&&d.setStatus({code:Rt,message:"internal_error"})})}))}function hn(e){const t=jn();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Bo(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?i=>Ae(e.scope,i):s!==void 0?i=>zn(s,i):i=>i())(()=>{const i=X(),a=Uo(i);return e.onlyIfParent&&!a?new _t:Ho({parentSpan:a,spanArguments:n,forceTransaction:r,scope:i})})}const Hf=(e,t)=>{const n=Io(),r=To(n);if(r.continueTrace)return r.continueTrace(e,t);const{sentryTrace:s,baggage:o}=e;return Ae(i=>{const a=wc(s,o);return i.setPropagationContext(a),t()})};function zn(e,t){const n=jn();return n.withActiveSpan?n.withActiveSpan(e,t):Ae(r=>(Wn(r,e||void 0),t(r)))}function Bf(e){const t=jn();return t.suppressTracing?t.suppressTracing(e):Ae(n=>(n.setSDKProcessingMetadata({[$o]:!0}),e()))}function Uf(e){return Ae(t=>(t.setPropagationContext({traceId:Nn()}),F&&S.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),zn(null,e)))}function Ho({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!At())return new _t;const s=et();let o;if(e&&!n)o=Wf(e,r,t),Ec(e,o);else if(e){const i=fn(e),{traceId:a,spanId:c}=e.spanContext(),u=ts(e);o=Bi({traceId:a,parentSpanId:c,...t},r,u),ki(o,i)}else{const{traceId:i,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};o=Bi({traceId:i,parentSpanId:c,...t},r,u),a&&ki(o,a)}return Sf(o),gf(o,r,s),o}function Bo(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=In(e.startTime),delete r.startTime,r}return n}function jn(){const e=Io();return To(e)}function Bi(e,t,n){const r=O(),s=r&&r.getOptions()||{},{name:o="",attributes:i}=e,[a,c]=t.getScopeData().sdkProcessingMetadata[$o]?[!1]:Ef(s,{name:o,parentSampled:n,attributes:i,transactionContext:{name:o,parentSampled:n}}),u=new Fo({...e,attributes:{[Be]:"custom",...e.attributes},sampled:a});return c!==void 0&&u.setAttribute(vc,c),r&&r.emit("spanStart",u),u}function Wf(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[$o]?!1:ts(e),i=o?new Fo({...n,parentSpanId:r,traceId:s,sampled:o}):new _t({traceId:s});Ec(e,i);const a=O();return a&&(a.emit("spanStart",i),n.endTimestamp&&a.emit("spanEnd",i)),i}function Uo(e){const t=Hd(e);if(!t)return;const n=O();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?me(t):t}function Xc(e){return e!==void 0?t=>zn(e,t):t=>t()}const _r={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},zf="heartbeatFailed",jf="idleTimeout",qf="finalTimeout",Gf="externalFinish";function Kc(e,t={}){const n=new Map;let r=!1,s,o=Gf,i=!t.disableAutoFinish;const a=[],{idleTimeout:c=_r.idleTimeout,finalTimeout:u=_r.finalTimeout,childSpanTimeout:d=_r.childSpanTimeout,beforeSpanEnd:l}=t,f=O();if(!f||!At())return new _t;const p=X(),h=fe(),g=Yf(e);g.end=new Proxy(g.end,{apply(b,k,x){l&&l(g);const[m,...y]=x,I=m||pe(),w=In(I),H=Tn(g).filter(L=>L!==g);if(!H.length)return T(w),Reflect.apply(b,k,[w,...y]);const G=H.map(L=>j(L).timestamp).filter(L=>!!L),B=G.length?Math.max(...G):void 0,M=j(g).start_timestamp,oe=Math.min(M?M+u/1e3:1/0,Math.max(M||-1/0,Math.min(w,B||1/0)));return T(oe),Reflect.apply(b,k,[oe,...y])}});function E(){s&&(clearTimeout(s),s=void 0)}function _(b){E(),s=setTimeout(()=>{!r&&n.size===0&&i&&(o=jf,g.end(b))},c)}function v(b){s=setTimeout(()=>{!r&&i&&(o=zf,g.end(b))},d)}function A(b){E(),n.set(b,!0);const k=pe();v(k+d/1e3)}function R(b){if(n.has(b)&&n.delete(b),n.size===0){const k=pe();_(k+c/1e3)}}function T(b){r=!0,n.clear(),a.forEach(w=>w()),Wn(p,h);const k=j(g),{start_timestamp:x}=k;if(!x)return;(k.data||{})[Us]||g.setAttribute(Us,o),S.log(`[Tracing] Idle span "${k.op}" finished`);const y=Tn(g).filter(w=>w!==g);let I=0;y.forEach(w=>{w.isRecording()&&(w.setStatus({code:Rt,message:"cancelled"}),w.end(b),F&&S.log("[Tracing] Cancelling span since span ended early",JSON.stringify(w,void 0,2)));const H=j(w),{timestamp:G=0,start_timestamp:B=0}=H,M=B<=b,oe=(u+c)/1e3,L=G-B<=oe;if(F){const Q=JSON.stringify(w,void 0,2);M?L||S.log("[Tracing] Discarding span since it finished after idle span final timeout",Q):S.log("[Tracing] Discarding span since it happened after idle span was finished",Q)}(!L||!M)&&(Bd(g,w),I++)}),I>0&&g.setAttribute("sentry.idle_span_discarded_spans",I)}return a.push(f.on("spanStart",b=>{if(r||b===g||j(b).timestamp)return;Tn(g).includes(b)&&A(b.spanContext().spanId)})),a.push(f.on("spanEnd",b=>{r||R(b.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",b=>{b===g&&(i=!0,_(),n.size&&v())})),t.disableAutoFinish||_(),setTimeout(()=>{r||(g.setStatus({code:Rt,message:"deadline_exceeded"}),o=qf,g.end())},u),g}function Yf(e){const t=hn(e);return Wn(X(),t),F&&S.log("[Tracing] Started span is an idle span"),t}const Vf="7";function Jc(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Xf(e){return`${Jc(e)}${e.projectId}/envelope/`}function Kf(e,t){const n={sentry_version:Vf};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Zc(e,t,n){return t||`${Xf(e)}?${Kf(e,n)}`}function Jf(e,t){const n=qc(e);if(!n)return"";const r=`${Jc(n)}embed/error-page/`;let s=`dsn=${Pt(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const i=t.user;if(!i)continue;i.name&&(s+=`&name=${encodeURIComponent(i.name)}`),i.email&&(s+=`&email=${encodeURIComponent(i.email)}`)}else s+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${s}`}const Ui=[];function Zf(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Qf(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const i=n(t);r=Array.isArray(i)?i:[i]}else r=t;const s=Zf(r),o=s.findIndex(i=>i.name==="Debug");if(o>-1){const[i]=s.splice(o,1);s.push(i)}return s}function ep(e,t){const n={};return t.forEach(r=>{r&&Qc(e,r,n)}),n}function Wi(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Qc(e,t,n){if(n[t.name]){F&&S.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Ui.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Ui.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,o)=>r(s,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((o,i)=>r(o,i,e),{id:t.name});e.addEventProcessor(s)}F&&S.log(`Integration installed: ${t.name}`)}function Ys(e){const t=O();if(!t){F&&S.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function tp(e,t,n){const r=[{type:"client_report"},{timestamp:Ic(),discarded_events:e}];return tt(t?{dsn:t}:{},[r])}class He extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const zi="Not capturing exception because it's already been captured.";class np{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=qc(t.dsn):F&&S.warn("No DSN provided, client will not send events."),this._dsn){const s=Zc(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:s})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(s=>s in t&&t[s]==null);r&&Lt(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const s=Tt();if(Ci(t))return F&&S.log(zi),s;const o={event_id:s,...n};return this._process(this.eventFromException(t,o).then(i=>this._captureEvent(i,o,r))),o.event_id}captureMessage(t,n,r,s){const o={event_id:Tt(),...r},i=xc(t)?t:String(t),a=ko(t)?this.eventFromMessage(i,n,o):this.eventFromException(t,o);return this._process(a.then(c=>this._captureEvent(c,o,s))),o.event_id}captureEvent(t,n,r){const s=Tt();if(n&&n.originalException&&Ci(n.originalException))return F&&S.log(zi),s;const o={event_id:s,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,a||r)),o.event_id}captureSession(t){typeof t.release!="string"?F&&S.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),xi(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):Ke(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Qc(this,t,this._integrations),n||Wi(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Nf(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=Tf(r,Mf(o));const s=this.sendEnvelope(r);s&&s.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const n=Df(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,o=`${t}:${n}`;F&&S.log(`Recording outcome: "${o}"${s>1?` (${s} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(F&&S.error("Error while sending envelope:",n),n)):(F&&S.error("Transport disabled"),Ke({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=ep(this,t),Wi(this,t)}_updateSessionFromEvent(t,n){let r=!1,s=!1;const o=n.exception&&n.exception.values;if(o){s=!0;for(const c of o){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(xi(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Tc(n=>{let r=0;const s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=s,t&&r>=t&&(clearInterval(o),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=X(),s=et()){const o=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i.length>0&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),kc(o,t,n,r,this,s).then(a=>{if(a===null)return a;a.contexts={trace:Ud(r),...a.contexts};const c=Cc(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{if(F){const o=s;o.logLevel==="log"?S.log(o.message):S.warn(o)}})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:o}=s,i=tu(t),a=eu(t),c=t.type||"error",u=`before send for type \`${c}\``,d=typeof o>"u"?void 0:Pr(o);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Rr(new He(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l=c==="replay_event"?"replay":c,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",l,t),new He("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return h;const E=sp(this,s,h,n);return rp(E,u)}).then(h=>{if(h===null){if(this.recordDroppedEvent("before_send",l,t),i){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw new He(`${u} returned \`null\`, will not send event.`,"log")}const g=r&&r.getSession();if(!i&&g&&this._updateSessionFromEvent(g,h),i){const _=h.sdkProcessingMetadata&&h.sdkProcessingMetadata.spanCountBeforeProcessing||0,v=h.spans?h.spans.length:0,A=_-v;A>0&&this.recordDroppedEvent("before_send","span",A)}const E=h.transaction_info;if(i&&E&&h.transaction!==t.transaction){const _="custom";h.transaction_info={...E,source:_}}return this.sendEvent(h,n),h}).then(null,h=>{throw h instanceof He?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new He(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){F&&S.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){F&&S.log("No outcomes to send");return}if(!this._dsn){F&&S.log("No dsn provided, will not send outcomes");return}F&&S.log("Sending outcomes:",t);const n=tp(t,this._options.tunnel&&Pt(this._dsn));this.sendEnvelope(n)}}function rp(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Sc(e))return e.then(r=>{if(!Mr(r)&&r!==null)throw new He(n);return r},r=>{throw new He(`${t} rejected with ${r}`)});if(!Mr(e)&&e!==null)throw new He(n);return e}function sp(e,t,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:i}=t;if(eu(n)&&s)return s(n,r);if(tu(n)){if(n.spans&&i){const a=[];for(const c of n.spans){const u=i(c);u?a.push(u):(bc(),e.recordDroppedEvent("before_send","span"))}n.spans=a}if(o){if(n.spans){const a=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return o(n,r)}}return n}function eu(e){return e.type===void 0}function tu(e){return e.type==="transaction"}function op(e,t){t.debug===!0&&(F?S.enable():Lt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),X().update(t.initialScope);const r=new e(t);return nu(r),r.init(),r}function nu(e){X().setClient(e)}function ip(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function s(i){if(!n())return Rr(new He("Not adding Promise because buffer limit was reached."));const a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(i){return new Tc((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(l=>{Ke(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:s,drain:o}}const ap=60*1e3;function ru(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?ap:r-t}function cp(e,t){return e[t]||e.all||0}function su(e,t,n=Date.now()){return cp(e,t)>n}function ou(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(o)for(const a of o.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else i?s.all=r+ru(i,r):t===429&&(s.all=r+60*1e3);return s}const up=64;function iu(e,t,n=ip(e.bufferSize||up)){let r={};const s=i=>n.drain(i);function o(i){const a=[];if(Nt(i,(l,f)=>{const p=Li(f);if(su(r,p)){const h=ji(l,f);e.recordDroppedEvent("ratelimit_backoff",p,h)}else a.push(l)}),a.length===0)return Ke({});const c=tt(i[0],a),u=l=>{Nt(c,(f,p)=>{const h=ji(f,p);e.recordDroppedEvent(l,Li(p),h)})},d=()=>t({body:$r(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&F&&S.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=ou(r,l),l),l=>{throw u("network_error"),l});return n.add(d).then(l=>l,l=>{if(l instanceof He)return F&&S.error("Skipped sending event because buffer is full."),u("queue_overflow"),Ke({});throw l})}return{send:o,flush:s}}function ji(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const qi=100,Gi=5e3,lp=36e5;function dp(e){function t(...n){F&&S.info("[Offline]:",...n)}return n=>{const r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const s=n.createStore(n);let o=Gi,i;function a(l,f,p){return Ni(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const f=await s.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof i!="number"&&i.unref&&i.unref()}function u(){i||(c(o),o=Math.min(o*2,lp))}async function d(l,f=!1){if(!f&&Ni(l,["replay_event","replay_recording"]))return await s.push(l),c(qi),{};try{const p=await r.send(l);let h=qi;if(p){if(p.headers&&p.headers["retry-after"])h=ru(p.headers["retry-after"]);else if(p.headers&&p.headers["x-sentry-rate-limits"])h=6e4;else if((p.statusCode||0)>=400)return p}return c(h),o=Gi,p}catch(p){if(await a(l,p,o))return f?await s.unshift(l):await s.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>r.flush(l)}}}function au(e,t){let n;return Nt(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function fp(e,t){return n=>{const r=e(n);return{...r,send:async s=>{const o=au(s,["event","transaction","profile","replay_event"]);return o&&(o.release=t),r.send(s)}}}}function pp(e,t){return tt(t?{...e[0],dsn:t}:e[0],e[1])}function hp(e,t){return n=>{const r=e(n),s=new Map;function o(c,u){const d=u?`${c}:${u}`:c;let l=s.get(d);if(!l){const f=zc(c);if(!f)return;const p=Zc(f,n.tunnel);l=u?fp(e,u)({...n,url:p}):e({...n,url:p}),s.set(d,l)}return[c,l]}async function i(c){function u(p){const h=p&&p.length?p:["event"];return au(c,h)}const d=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?o(p,void 0):o(p.dsn,p.release)).filter(p=>!!p),l=d.length?d:[["",r]];return(await Promise.all(l.map(([p,h])=>h.send(pp(c,p)))))[0]}async function a(c){const u=[...s.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:i,flush:a}}}function cu(e,t){const n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return gp(e,n)||mp(e,r)}function mp(e,t){return t?Yi(e)===Yi(t):!1}function gp(e,t){return t?e.includes(t.host):!1}function Yi(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function _p(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function yp(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:Ar})),version:Ar}),e._metadata=s}function uu(e={}){const t=O();if(!Wd()||!t)return{};const n=Io(),r=To(n);if(r.getTraceData)return r.getTraceData(e);const s=X(),o=e.span||fe(),i=o?Rc(o):Sp(s),a=o?fn(o):Cc(t,s),c=zd(a);return jd.test(i)?{"sentry-trace":i,baggage:c}:(S.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function Sp(e){const{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return qd(t,r,n)}const bp=100;function je(e,t){const n=O(),r=et();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=bp}=n.getOptions();if(o<=0)return;const a={timestamp:Ic(),...e},c=s?Lt(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,o))}let Vi;const Ep="FunctionToString",Xi=new WeakMap,vp=()=>({name:Ep,setupOnce(){Vi=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Co(this),n=Xi.has(O())&&t!==void 0?t:this;return Vi.apply(n,e)}}catch{}},setup(e){Xi.set(e,!0)}}),lu=vp,wp=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Ip="InboundFilters",Tp=(e={})=>({name:Ip,processEvent(t,n,r){const s=r.getOptions(),o=kp(e,s);return Cp(t,o)?null:t}}),du=Tp;function kp(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:wp],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Cp(e,t){return t.ignoreInternal&&Dp(e)?(F&&S.warn(`Event dropped due to being internal Sentry Error.
Event: ${st(e)}`),!0):xp(e,t.ignoreErrors)?(F&&S.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${st(e)}`),!0):Lp(e)?(F&&S.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${st(e)}`),!0):Rp(e,t.ignoreTransactions)?(F&&S.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${st(e)}`),!0):Mp(e,t.denyUrls)?(F&&S.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${st(e)}.
Url: ${Hr(e)}`),!0):Ap(e,t.allowUrls)?!1:(F&&S.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${st(e)}.
Url: ${Hr(e)}`),!0)}function xp(e,t){return e.type||!t||!t.length?!1:Op(e).some(n=>dt(n,t))}function Rp(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?dt(n,t):!1}function Mp(e,t){if(!t||!t.length)return!1;const n=Hr(e);return n?dt(n,t):!1}function Ap(e,t){if(!t||!t.length)return!0;const n=Hr(e);return n?dt(n,t):!0}function Op(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function Dp(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Np(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Hr(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Np(t):null}catch{return F&&S.error(`Cannot extract url for event ${st(e)}`),null}}function Lp(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function Pp(e,t,n=250,r,s,o,i){if(!o.exception||!o.exception.values||!i||!Ln(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=Fp(Vs(e,t,s,i.originalException,r,o.exception.values,a,0),n))}function Vs(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let c=[...o];if(Ln(r[s],Error)){Ki(i,a);const u=e(t,r[s]),d=c.length;Ji(u,s,d,a),c=Vs(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(Ln(u,Error)){Ki(i,a);const l=e(t,u),f=c.length;Ji(l,`errors[${d}]`,f,a),c=Vs(e,t,n,u,s,[l,...c],l,f)}}),c}function Ki(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Ji(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Fp(e,t){return e.map(n=>(n.value&&(n.value=xo(n.value,t)),n))}const fu=new Map,Zi=new Set;function $p(e){if(q._sentryModuleMetadata)for(const t of Object.keys(q._sentryModuleMetadata)){const n=q._sentryModuleMetadata[t];if(Zi.has(t))continue;Zi.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){fu.set(s.filename,n);break}}}function Hp(e,t){return $p(e),fu.get(t)}function pu(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const s=Hp(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function hu(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const Bp=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{Nt(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(hu(s),n[1]=s)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;pu(n,t)})}});function Ct(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Up(e){return e.split(/[?#]/,1)[0]}function mu(e){const t="console";mt(t,e),gt(t,Wp)}function Wp(){"console"in q&&Mc.forEach(function(e){e in q.console&&Te(q.console,e,function(t){return Ri[e]=t,function(...n){Me("console",{args:n,level:e});const s=Ri[e];s&&s.apply(q.console,n)}})})}function Wo(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const zp="CaptureConsole",jp=(e={})=>{const t=e.levels||Mc,n=!!e.handled;return{name:zp,setup(r){"console"in q&&mu(({args:s,level:o})=>{O()!==r||!t.includes(o)||Gp(s,o,n)})}}},qp=jp;function Gp(e,t,n){const r={level:Wo(t),extra:{arguments:e}};Ae(s=>{if(s.addEventProcessor(a=>(a.logger="console",Dt(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){const a=`Assertion failed: ${Or(e.slice(1)," ")||"console.assert"}`;s.setExtra("arguments",e.slice(1)),Dr(a,r)}return}const o=e.find(a=>a instanceof Error);if(o){os(o,r);return}const i=Or(e," ");Dr(i,r)})}const Yp="Debug",Vp=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:Yp,setup(n){n.on("beforeSendEvent",(r,s)=>{if(t.debugger)debugger;Lt(()=>{t.stringify?(console.log(JSON.stringify(r,null,2)),s&&Object.keys(s).length&&console.log(JSON.stringify(s,null,2))):(console.log(r),s&&Object.keys(s).length&&console.log(s))})})}}},Xp=Vp,Kp="Dedupe",Jp=()=>{let e;return{name:Kp,processEvent(t){if(t.type)return t;try{if(Zp(t,e))return F&&S.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},gu=Jp;function Zp(e,t){return t?!!(Qp(e,t)||eh(e,t)):!1}function Qp(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!yu(e,t)||!_u(e,t))}function eh(e,t){const n=Qi(t),r=Qi(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!yu(e,t)||!_u(e,t))}function _u(e,t){let n=Ws(e),r=Ws(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],i=n[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function yu(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Qi(e){return e.exception&&e.exception.values&&e.exception.values[0]}const th="ExtraErrorData",nh=(e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:th,processEvent(r,s,o){const{maxValueLength:i=250}=o.getOptions();return sh(r,s,t,n,i)}}},rh=nh;function sh(e,t={},n,r,s){if(!t.originalException||!kt(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,i=oh(t.originalException,r,s);if(i){const a={...e.contexts},c=ns(i,n);return Mr(c)&&(Mt(c,"__sentry_skip_normalization__",!0),a[o]=c),{...e,contexts:a}}return e}function oh(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],s={};for(const o of Object.keys(e)){if(r.indexOf(o)!==-1)continue;const i=e[o];s[o]=kt(i)||typeof i=="string"?xo(`${i}`,n):i}if(t&&e.cause!==void 0&&(s.cause=kt(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){const o=e.toJSON();for(const i of Object.keys(o)){const a=o[i];s[i]=kt(a)?a.toString():a}}return s}catch(r){F&&S.error("Unable to extract extra data from the Error object:",r)}return null}function ih(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const ah=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function ch(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=ah.exec(t);return n?n.slice(1):[]}function ea(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n=s.charAt(0)==="/")}return t=ih(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function ta(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function uh(e,t){e=ea(e).slice(1),t=ea(t).slice(1);const n=ta(e.split("/")),r=ta(t.split("/")),s=Math.min(n.length,r.length);let o=s;for(let a=0;a<s;a++)if(n[a]!==r[a]){o=a;break}let i=[];for(let a=o;a<n.length;a++)i.push("..");return i=i.concat(r.slice(o)),i.join("/")}function lh(e,t){return ch(e)[2]||""}const dh="RewriteFrames",fh=(e={})=>{const t=e.root,n=e.prefix||"app:///",r="window"in q&&q.window!==void 0,s=e.iteratee||ph({isBrowser:r,root:t,prefix:n});function o(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:i(c.stacktrace)}}))}}}catch{return a}}function i(a){return{...a,frames:a&&a.frames&&a.frames.map(c=>s(c))}}return{name:dh,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=o(c)),c}}};function ph({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;const s=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),o=/^\//.test(r.filename);if(e){if(t){const i=r.filename;i.indexOf(t)===0&&(r.filename=i.replace(t,n))}}else if(s||o){const i=s?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?uh(t,i):lh(i);r.filename=`${n}${a}`}return r}}const hh="SessionTiming",mh=()=>{const e=pe()*1e3;return{name:hh,processEvent(t){const n=pe()*1e3;return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}},gh=mh,_h=10,yh="ZodErrors";function Sh(e){return kt(e)&&e.name==="ZodError"&&Array.isArray(e.errors)}function bh(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function Eh(e){const t=new Set;for(const r of e.issues)r.path&&r.path[0]&&t.add(r.path[0]);const n=Array.from(t);return`Failed to validate keys: ${xo(n.join(", "),100)}`}function vh(e,t,n){return!t.exception||!t.exception.values||!n||!n.originalException||!Sh(n.originalException)||n.originalException.issues.length===0?t:{...t,exception:{...t.exception,values:[{...t.exception.values[0],value:Eh(n.originalException)},...t.exception.values.slice(1)]},extra:{...t.extra,"zoderror.issues":n.originalException.errors.slice(0,e).map(bh)}}}const wh=(e={})=>{const t=e.limit||_h;return{name:yh,processEvent(n,r){return vh(t,n,r)}}},Ih=wh,Th=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{Nt(n,(r,s)=>{if(s==="event"){const o=Array.isArray(r)?r[1]:void 0;o&&(hu(o),r[1]=o)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;pu(r,n)})},processEvent(t){const n=kh(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](o=>!o.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function kh(e){const t=Ws(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(na)).map(r=>r.slice(na.length)):[])}const na="_sentryBundlerPluginAppKey:",Su="c",bu="g",zo="s",Eu="d",Ch=5e3;function vu(e,t){const n=Gd("globalMetricsAggregators",()=>new WeakMap),r=n.get(e);if(r)return r;const s=new t(e);return e.on("flush",()=>s.flush()),e.on("close",()=>s.close()),n.set(e,s),s}function is(e,t,n,r,s={}){const o=s.client||O();if(!o)return;const i=fe(),a=i?me(i):void 0,c=a&&j(a).description,{unit:u,tags:d,timestamp:l}=s,{release:f,environment:p}=o.getOptions(),h={};f&&(h.release=f),p&&(h.environment=p),c&&(h.transaction=c),F&&S.log(`Adding value of ${r} to ${t} metric ${n}`),vu(o,e).add(t,n,r,u,{...h,...d},l)}function xh(e,t,n=1,r){is(e,Su,t,jo(n),r)}function Xs(e,t,n,r){is(e,Eu,t,jo(n),r)}function Rh(e,t,n,r="second",s){if(typeof n=="function"){const o=pe();return Vc({op:"metrics.timing",name:t,startTime:o,onlyIfParent:!0},i=>Lo(()=>n(),()=>{},()=>{const a=pe(),c=a-o;Xs(e,t,c,{...s,unit:"second"}),i.end(a)}))}Xs(e,t,n,{...s,unit:r})}function Mh(e,t,n,r){is(e,zo,t,n,r)}function Ah(e,t,n,r){is(e,bu,t,jo(n),r)}const qn={increment:xh,distribution:Xs,set:Mh,gauge:Ah,timing:Rh,getMetricsAggregatorForClient:vu};function jo(e){return typeof e=="string"?parseInt(e):e}function Oh(e,t,n,r){const s=Object.entries(ze(r)).sort((o,i)=>o[0].localeCompare(i[0]));return`${e}${t}${n}${s}`}function Dh(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function Nh(e){let t="";for(const n of e){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([o,i])=>`${o}:${i}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return t}function Lh(e){return e.replace(/[^\w]+/gi,"_")}function Ph(e){return e.replace(/[^\w\-.]+/gi,"_")}function Fh(e){return e.replace(/[^\w\-./]+/gi,"")}const $h=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function Hh(e){for(const[t,n]of $h)if(e===t)return n;return e}function Bh(e){return[...e].reduce((t,n)=>t+Hh(n),"")}function Uh(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=Fh(n);t[r]=Bh(String(e[n]))}return t}function Wh(e,t){S.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=e.getDsn(),r=e.getSdkMetadata(),s=e.getOptions().tunnel,o=zh(t,n,r,s);e.sendEnvelope(o)}function zh(e,t,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=Pt(t));const o=jh(e);return tt(s,[o])}function jh(e){const t=Nh(e);return[{type:"statsd",length:t.length},t]}class qh{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}}class Gh{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class Yh{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}}class Vh{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?Dh(t):t).join(":")}}const Xh={[Su]:qh,[bu]:Gh,[Eu]:Yh,[zo]:Vh};class Gn{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),Ch)}add(t,n,r,s="none",o={},i=pe()){const a=Math.floor(i),c=Ph(n),u=Uh(o),d=Lh(s),l=Oh(t,c,d,u);let f=this._buckets.get(l);const p=f&&t===zo?f.metric.weight:0;f?(f.metric.add(r),f.timestamp<a&&(f.timestamp=a)):(f={metric:new Xh[t](r),timestamp:a,metricType:t,name:c,unit:d,tags:u},this._buckets.set(l,f));const h=typeof r=="string"?f.metric.weight-p:r;Yd(t,c,h,d,o,l)}flush(){if(this._buckets.size===0)return;const t=Array.from(this._buckets.values());Wh(this._client,t),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}function Kh(e,t,n,r,s="auto.http.browser"){if(!e.fetchData)return;const o=At()&&t(e.fetchData.url);if(e.endTimestamp&&o){const f=e.fetchData.__span;if(!f)return;const p=r[f];p&&(Qh(p,e),delete r[f]);return}const{method:i,url:a}=e.fetchData,c=Zh(a),u=c?Ct(c).host:void 0,d=!!fe(),l=o&&d?hn({name:`${i} ${a}`,attributes:{url:a,type:"fetch","http.method":i,"http.url":c,"server.address":u,[ge]:s,[Ot]:"http.client"}}):new _t;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){const f=e.args[0],p=e.args[1]||{},h=Jh(f,p,At()&&d?l:void 0);h&&(e.args[1]=p,p.headers=h)}return l}function Jh(e,t,n){const r=uu({span:n}),s=r["sentry-trace"],o=r.baggage;if(!s)return;const i=t.headers||(em(e)?e.headers:void 0);if(i)if(tm(i)){const a=new Headers(i);if(a.set("sentry-trace",s),o){const c=a.get("baggage");if(c){const u=tr(c);a.set("baggage",u?`${u},${o}`:o)}else a.set("baggage",o)}return a}else if(Array.isArray(i)){const a=[...i.filter(c=>!(Array.isArray(c)&&c[0]==="sentry-trace")).map(c=>{if(Array.isArray(c)&&c[0]==="baggage"&&typeof c[1]=="string"){const[u,d,...l]=c;return[u,tr(d),...l]}else return c}),["sentry-trace",s]];return o&&a.push(["baggage",o]),a}else{const a="baggage"in i?i.baggage:void 0;let c=[];return Array.isArray(a)?c=a.map(u=>typeof u=="string"?tr(u):u).filter(u=>u===""):a&&c.push(tr(a)),o&&c.push(o),{...i,"sentry-trace":s,baggage:c.length>0?c.join(","):void 0}}else return{...r}}function Zh(e){try{return new URL(e).href}catch{return}}function Qh(e,t){if(t.response){Ro(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Rt,message:"internal_error"});e.end()}function tr(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(Vd)).join(",")}function em(e){return typeof Request<"u"&&Ln(e,Request)}function tm(e){return typeof Headers<"u"&&Ln(e,Headers)}function wu(e,t={},n=X()){const{message:r,name:s,email:o,url:i,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:ze({contact_email:o,name:s,message:r,url:i,source:a,associated_event_id:c})},type:"feedback",level:"info",tags:u},l=n&&n.getClient()||O();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}function nm(){return{bindClient(e){X().setClient(e)},withScope:Ae,getClient:()=>O(),getScope:X,getIsolationScope:et,captureException:(e,t)=>X().captureException(e,t),captureMessage:(e,t,n)=>X().captureMessage(e,t,n),captureEvent:pn,addBreadcrumb:je,setUser:Ao,setTags:Dc,setTag:Lr,setExtra:Oc,setExtras:Ac,setContext:Mo,getIntegration(e){const t=O();return t&&t.getIntegrationByName(e.id)||null},startSession:Nr,endSession:zs,captureSession(e){if(e)return zs();sm()}}}const rm=nm;function sm(){const e=X(),t=O(),n=e.getSession();t&&n&&t.captureSession(n)}function Iu(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Br=q;function Tu(){if(!("fetch"in Br))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Ks(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ku(){if(typeof EdgeRuntime=="string")return!0;if(!Tu())return!1;if(Ks(Br.fetch))return!0;let e=!1;const t=Br.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Ks(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){es&&S.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function om(){return"ReportingObserver"in Br}function qo(e,t){const n="fetch";mt(n,e),gt(n,()=>Cu(void 0,t))}function im(e){const t="fetch-body-resolved";mt(t,e),gt(t,()=>Cu(cm))}function Cu(e,t=!1){t&&!ku()||Te(q,"fetch",function(n){return function(...r){const s=new Error,{method:o,url:i}=um(r),a={args:r,fetchData:{method:o,url:i},startTimestamp:pe()*1e3,virtualError:s};return e||Me("fetch",{...a}),n.apply(q,r).then(async c=>(e?e(c):Me("fetch",{...a,endTimestamp:pe()*1e3,response:c}),c),c=>{throw Me("fetch",{...a,endTimestamp:pe()*1e3,error:c}),kt(c)&&c.stack===void 0&&(c.stack=s.stack,Mt(c,"framesToPop",1)),c})}})}async function am(e,t){if(e&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let i;try{i=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(i),a&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(i)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function cm(e){let t;try{t=e.clone()}catch{return}am(t,()=>{Me("fetch-body-resolved",{endTimestamp:pe()*1e3,response:e})})}function Js(e,t){return!!e&&typeof e=="object"&&!!e[t]}function ra(e){return typeof e=="string"?e:e?Js(e,"url")?e.url:e.toString?e.toString():"":""}function um(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:ra(n),method:Js(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:ra(t),method:Js(t,"method")?String(t.method).toUpperCase():"GET"}}function lm(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function dm(){return"npm"}function fm(){return!lm()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Zs(){return typeof window<"u"&&(!fm()||pm())}function pm(){const e=q.process;return!!e&&e.type==="renderer"}const nr=q;function hm(){const e=nr.chrome,t=e&&e.app&&e.app.runtime,n="history"in nr&&!!nr.history.pushState&&!!nr.history.replaceState;return!t&&n}function mm(e,t){return e??t()}function xt(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}const C=q;let Qs=0;function xu(){return Qs>0}function gm(){Qs++,setTimeout(()=>{Qs--})}function en(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(Co(e))return e}catch{return e}const r=function(...s){try{const o=s.map(i=>en(i,t));return e.apply(this,o)}catch(o){throw gm(),Ae(i=>{i.addEventProcessor(a=>(t.mechanism&&(js(a,void 0),Dt(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),os(o)}),o}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Xd(r,e),Mt(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const z=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function as(e,t){const n=Go(e,t),r={type:Em(t),value:vm(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function _m(e,t,n,r){const s=O(),o=s&&s.getOptions().normalizeDepth,i=Tm(t),a={__serialized__:Jd(t,o)};if(i)return{exception:{values:[as(e,i)]},extra:a};const c={exception:{values:[{type:Oo(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:wm(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=Go(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function ws(e,t){return{exception:{values:[as(e,t)]}}}function Go(e,t){const n=t.stacktrace||t.stack||"",r=Sm(t),s=bm(t);try{return e(n,r,s)}catch{}return[]}const ym=/Minified React error #\d+;/i;function Sm(e){return e&&ym.test(e.message)?1:0}function bm(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Ru(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Em(e){const t=e&&e.name;return!t&&Ru(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function vm(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:Ru(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function Mu(e,t,n,r){const s=n&&n.syntheticException||void 0,o=Yo(e,t,s,r);return Dt(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),Ke(o)}function Au(e,t,n="info",r,s){const o=r&&r.syntheticException||void 0,i=eo(e,t,o,s);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),Ke(i)}function Yo(e,t,n,r,s){let o;if(Nc(t)&&t.error)return ws(e,t.error);if(Mi(t)||Kd(t)){const i=t;if("stack"in t)o=ws(e,t);else{const a=i.name||(Mi(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;o=eo(e,c,n,r),js(o,c)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return kt(t)?ws(e,t):Mr(t)||Oo(t)?(o=_m(e,t,n,s),Dt(o,{synthetic:!0}),o):(o=eo(e,t,n,r),js(o,`${t}`),Dt(o,{synthetic:!0}),o)}function eo(e,t,n,r){const s={};if(r&&n){const o=Go(e,n);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]}),Dt(s,{synthetic:!0})}if(xc(t)){const{__sentry_template_string__:o,__sentry_template_values__:i}=t;return s.logentry={message:o,params:i},s}return s.message=t,s}function wm(e,{isUnhandledRejection:t}){const n=Zd(e),r=t?"promise rejection":"exception";return Nc(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Oo(e)?`Event \`${Im(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Im(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function Tm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function Ou(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Pt(r)}},o=km(e);return tt(s,[o])}function km(e){return[{type:"user_report"},e]}class Du extends np{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=C.SENTRY_SDK_SOURCE||dm();yp(n,"browser",["browser"],r),super(n),n.sendClientReports&&C.document&&C.document.addEventListener("visibilitychange",()=>{C.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return Mu(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Au(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){z&&S.warn("SDK not enabled, will not capture user feedback.");return}const n=Ou(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const Vo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Cm=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",mn=(e,t,n,r)=>{let s,o;return i=>{t.value>=0&&(i||r)&&(o=t.value-(s||0),(o||s===void 0)&&(s=t.value,t.delta=o,t.rating=Cm(t.value,n),e(t)))}},D=q,xm=()=>`v4-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Yn=(e=!0)=>{const t=D.performance&&D.performance.getEntriesByType&&D.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Vn=()=>{const e=Yn();return e&&e.activationStart||0},gn=(e,t)=>{const n=Yn();let r="navigate";return n&&(D.document&&D.document.prerendering||Vn()>0?r="prerender":D.document&&D.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:xm(),navigationType:r}},Ft=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},_n=e=>{const t=n=>{(n.type==="pagehide"||D.document&&D.document.visibilityState==="hidden")&&e(n)};D.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},cs=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Cn=-1;const Rm=()=>D.document.visibilityState==="hidden"&&!D.document.prerendering?0:1/0,Ur=e=>{D.document.visibilityState==="hidden"&&Cn>-1&&(Cn=e.type==="visibilitychange"?e.timeStamp:0,Am())},Mm=()=>{addEventListener("visibilitychange",Ur,!0),addEventListener("prerenderingchange",Ur,!0)},Am=()=>{removeEventListener("visibilitychange",Ur,!0),removeEventListener("prerenderingchange",Ur,!0)},us=()=>(D.document&&Cn<0&&(Cn=Rm(),Mm()),{get firstHiddenTime(){return Cn}}),Xn=e=>{D.document&&D.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Om=[1800,3e3],Dm=(e,t={})=>{Xn(()=>{const n=us(),r=gn("FCP");let s;const i=Ft("paint",a=>{a.forEach(c=>{c.name==="first-contentful-paint"&&(i.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Vn(),0),r.entries.push(c),s(!0)))})});i&&(s=mn(e,r,Om,t.reportAllChanges))})},Nm=[.1,.25],Lm=(e,t={})=>{Dm(cs(()=>{const n=gn("CLS",0);let r,s=0,o=[];const i=c=>{c.forEach(u=>{if(!u.hadRecentInput){const d=o[0],l=o[o.length-1];s&&d&&l&&u.startTime-l.startTime<1e3&&u.startTime-d.startTime<5e3?(s+=u.value,o.push(u)):(s=u.value,o=[u])}}),s>n.value&&(n.value=s,n.entries=o,r())},a=Ft("layout-shift",i);a&&(r=mn(e,n,Nm,t.reportAllChanges),_n(()=>{i(a.takeRecords()),r(!0)}),setTimeout(r,0))}))},Pm=[100,300],Fm=(e,t={})=>{Xn(()=>{const n=us(),r=gn("FID");let s;const o=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),s(!0))},i=c=>{c.forEach(o)},a=Ft("first-input",i);s=mn(e,r,Pm,t.reportAllChanges),a&&_n(cs(()=>{i(a.takeRecords()),a.disconnect()}))})};let Nu=0,Is=1/0,rr=0;const $m=e=>{e.forEach(t=>{t.interactionId&&(Is=Math.min(Is,t.interactionId),rr=Math.max(rr,t.interactionId),Nu=rr?(rr-Is)/7+1:0)})};let to;const Hm=()=>to?Nu:performance.interactionCount||0,Bm=()=>{"interactionCount"in performance||to||(to=Ft("event",$m,{type:"event",buffered:!0,durationThreshold:0}))},Ve=[],Ts=new Map,Um=40;let Wm=0;const zm=()=>Hm()-Wm,jm=()=>{const e=Math.min(Ve.length-1,Math.floor(zm()/50));return Ve[e]},ks=10,qm=[],Gm=e=>{if(qm.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;const t=Ve[Ve.length-1],n=Ts.get(e.interactionId);if(n||Ve.length<ks||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};Ts.set(r.id,r),Ve.push(r)}Ve.sort((r,s)=>s.latency-r.latency),Ve.length>ks&&Ve.splice(ks).forEach(r=>Ts.delete(r.id))}},Lu=e=>{const t=D.requestIdleCallback||D.setTimeout;let n=-1;return e=cs(e),D.document&&D.document.visibilityState==="hidden"?e():(n=t(e),_n(e)),n},Ym=[200,500],Vm=(e,t={})=>{"PerformanceEventTiming"in D&&"interactionId"in PerformanceEventTiming.prototype&&Xn(()=>{Bm();const n=gn("INP");let r;const s=i=>{Lu(()=>{i.forEach(Gm);const a=jm();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())})},o=Ft("event",s,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:Um});r=mn(e,n,Ym,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),_n(()=>{s(o.takeRecords()),r(!0)}))})},Xm=[2500,4e3],sa={},Km=(e,t={})=>{Xn(()=>{const n=us(),r=gn("LCP");let s;const o=a=>{t.reportAllChanges||(a=a.slice(-1)),a.forEach(c=>{c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Vn(),0),r.entries=[c],s())})},i=Ft("largest-contentful-paint",o);if(i){s=mn(e,r,Xm,t.reportAllChanges);const a=cs(()=>{sa[r.id]||(o(i.takeRecords()),i.disconnect(),sa[r.id]=!0,s(!0))});["keydown","click"].forEach(c=>{D.document&&addEventListener(c,()=>Lu(a),{once:!0,capture:!0})}),_n(a)}})},Jm=[800,1800],no=e=>{D.document&&D.document.prerendering?Xn(()=>no(e)):D.document&&D.document.readyState!=="complete"?addEventListener("load",()=>no(e),!0):setTimeout(e,0)},Zm=(e,t={})=>{const n=gn("TTFB"),r=mn(e,n,Jm,t.reportAllChanges);no(()=>{const s=Yn();s&&(n.value=Math.max(s.responseStart-Vn(),0),n.entries=[s],r(!0))})},xn={},Wr={};let Pu,Fu,$u,Hu,Bu;function Xo(e,t=!1){return Kn("cls",e,eg,Pu,t)}function Uu(e,t=!1){return Kn("lcp",e,ng,$u,t)}function Wu(e){return Kn("fid",e,tg,Fu)}function Qm(e){return Kn("ttfb",e,rg,Hu)}function zu(e){return Kn("inp",e,sg,Bu)}function tn(e,t){return ju(e,t),Wr[e]||(og(e),Wr[e]=!0),qu(e,t)}function yn(e,t){const n=xn[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(s){Vo&&S.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${pt(r)}
Error:`,s)}}function eg(){return Lm(e=>{yn("cls",{metric:e}),Pu=e},{reportAllChanges:!0})}function tg(){return Fm(e=>{yn("fid",{metric:e}),Fu=e})}function ng(){return Km(e=>{yn("lcp",{metric:e}),$u=e},{reportAllChanges:!0})}function rg(){return Zm(e=>{yn("ttfb",{metric:e}),Hu=e})}function sg(){return Vm(e=>{yn("inp",{metric:e}),Bu=e})}function Kn(e,t,n,r,s=!1){ju(e,t);let o;return Wr[e]||(o=n(),Wr[e]=!0),r&&t({metric:r}),qu(e,t,s?o:void 0)}function og(e){const t={};e==="event"&&(t.durationThreshold=0),Ft(e,n=>{yn(e,{entries:n})},t)}function ju(e,t){xn[e]=xn[e]||[],xn[e].push(t)}function qu(e,t,n){return()=>{n&&n();const r=xn[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function ig(e){return"duration"in e}function Cs(e){return typeof e=="number"&&isFinite(e)}function Ze(e,t,n,{...r}){const s=j(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),zn(e,()=>{const o=hn({startTime:t,...r});return o&&o.end(n),o})}function Gu(e){const t=O();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:o}=e,{release:i,environment:a}=t.getOptions(),c=t.getIntegrationByName("Replay"),u=c&&c.getReplayId(),d=X(),l=d.getUser(),f=l!==void 0?l.email||l.id||l.ip_address:void 0;let p;try{p=d.getScopeData().contexts.profile.profile_id}catch{}const h={release:i,environment:a,user:f||void 0,profile_id:p||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":D.navigator&&D.navigator.userAgent,...s};return hn({name:n,attributes:h,startTime:o,experimental:{standalone:!0}})}function Ko(){return D&&D.addEventListener&&D.performance}function de(e){return e/1e3}function ag(){let e=0,t,n;if(!ug())return;let r=!1;function s(){r||(r=!0,n&&cg(e,t,n),o())}const o=Xo(({metric:i})=>{const a=i.entries[i.entries.length-1];a&&(e=i.value,t=a)},!0);_n(()=>{s()}),setTimeout(()=>{const i=O();if(!i)return;const a=i.on("startNavigationSpan",()=>{s(),a&&a()}),c=fe(),u=c&&me(c),d=u&&j(u);d&&d.op==="pageload"&&(n=u.spanContext().spanId)},0)}function cg(e,t,n){Vo&&S.log(`Sending CLS span (${e})`);const r=de((Se||0)+(t&&t.startTime||0)),s=X().getScopeData().transactionName,o=t?ht(t.sources[0]&&t.sources[0].node):"Layout shift",i=ze({[ge]:"auto.http.browser.cls",[Ot]:"ui.webvital.cls",[wo]:t&&t.duration||0,"sentry.pageload.span_id":n}),a=Gu({name:o,transaction:s,attributes:i,startTime:r});a&&(a.addEvent("cls",{[rs]:"",[ss]:e}),a.end(r))}function ug(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}const lg=2147483647;let oa=0,ye={},Ie,Rn;function dg({recordClsStandaloneSpans:e}){const t=Ko();if(t&&Se){t.mark&&D.performance.mark("sentry-tracing-init");const n=_g(),r=gg(),s=yg(),o=e?ag():mg();return()=>{n(),r(),s(),o&&o()}}return()=>{}}function fg(){tn("longtask",({entries:e})=>{const t=fe();if(!t)return;const{op:n,start_timestamp:r}=j(t);for(const s of e){const o=de(Se+s.startTime),i=de(s.duration);n==="navigation"&&r&&o<r||Ze(t,o,o+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[ge]:"auto.ui.browser.metrics"}})}})}function pg(){new PerformanceObserver(t=>{const n=fe();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=de(Se+r.startTime),{start_timestamp:o,op:i}=j(n);if(i==="navigation"&&o&&s<o)continue;const a=de(r.duration),c={[ge]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:h}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),h!==-1&&(c["browser.script.source_char_position"]=h),Ze(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function hg(){tn("event",({entries:e})=>{const t=fe();if(t){for(const n of e)if(n.name==="click"){const r=de(Se+n.startTime),s=de(n.duration),o={name:ht(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[ge]:"auto.ui.browser.metrics"}},i=Lc(n.target);i&&(o.attributes["ui.component_name"]=i),Ze(t,r,r+s,o)}}})}function mg(){return Xo(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ye.cls={value:e.value,unit:""},Rn=t)},!0)}function gg(){return Uu(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ye.lcp={value:e.value,unit:"millisecond"},Ie=t)},!0)}function _g(){return Wu(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=de(Se),r=de(t.startTime);ye.fid={value:e.value,unit:"millisecond"},ye["mark.fid"]={value:n+r,unit:"second"}})}function yg(){return Qm(({metric:e})=>{e.entries[e.entries.length-1]&&(ye.ttfb={value:e.value,unit:"millisecond"})})}function Sg(e,t){const n=Ko();if(!n||!n.getEntries||!Se)return;const r=de(Se),s=n.getEntries(),{op:o,start_timestamp:i}=j(e);if(s.slice(oa).forEach(a=>{const c=de(a.startTime),u=de(Math.max(0,a.duration));if(!(o==="navigation"&&i&&r+c<i))switch(a.entryType){case"navigation":{Eg(e,a,r);break}case"mark":case"paint":case"measure":{bg(e,a,c,u,r);const d=us(),l=a.startTime<d.firstHiddenTime;a.name==="first-paint"&&l&&(ye.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&l&&(ye.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{Ig(e,a,a.name,c,u,r);break}}}),oa=Math.max(s.length-1,0),Tg(e),o==="pageload"){Cg(ye);const a=ye["mark.fid"];a&&ye.fid&&(Ze(e,a.value,a.value+de(ye.fid.value),{name:"first input delay",op:"ui.action",attributes:{[ge]:"auto.ui.browser.metrics"}}),delete ye["mark.fid"]),(!("fcp"in ye)||!t.recordClsOnPageloadSpan)&&delete ye.cls,Object.entries(ye).forEach(([c,u])=>{Yc(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",Vn()),kg(e)}Ie=void 0,Rn=void 0,ye={}}function bg(e,t,n,r,s){const o=Yn(!1),i=de(o?o.requestStart:0),a=s+Math.max(n,i),c=s+n,u=c+r,d={[ge]:"auto.resource.browser.metrics"};return a!==c&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=a),Ze(e,a,u,{name:t.name,op:t.entryType,attributes:d}),a}function Eg(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{sr(e,t,r,n)}),sr(e,t,"secureConnection",n,"TLS/SSL"),sr(e,t,"fetch",n,"cache"),sr(e,t,"domainLookup",n,"DNS"),wg(e,t,n)}function sr(e,t,n,r,s=n){const o=vg(n),i=t[o],a=t[`${n}Start`];!a||!i||Ze(e,r+de(a),r+de(i),{op:`browser.${s}`,name:t.name,attributes:{[ge]:"auto.ui.browser.metrics"}})}function vg(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function wg(e,t,n){const r=n+de(t.requestStart),s=n+de(t.responseEnd),o=n+de(t.responseStart);t.responseEnd&&(Ze(e,r,s,{op:"browser.request",name:t.name,attributes:{[ge]:"auto.ui.browser.metrics"}}),Ze(e,o,s,{op:"browser.response",name:t.name,attributes:{[ge]:"auto.ui.browser.metrics"}}))}function Ig(e,t,n,r,s,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const i=Ct(n),a={[ge]:"auto.resource.browser.metrics"};xs(a,t,"transferSize","http.response_transfer_size"),xs(a,t,"encodedBodySize","http.response_content_length"),xs(a,t,"decodedBodySize","http.decoded_response_content_length");const c=t.deliveryType;c!=null&&(a["http.response_delivery_type"]=c);const u=t.renderBlockingStatus;u&&(a["resource.render_blocking_status"]=u),i.protocol&&(a["url.scheme"]=i.protocol.split(":").pop()),i.host&&(a["server.address"]=i.host),a["url.same_origin"]=n.includes(D.location.origin);const d=o+r,l=d+s;Ze(e,d,l,{name:n.replace(D.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function Tg(e){const t=D.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Cs(n.rtt)&&(ye["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Cs(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Cs(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function kg(e){Ie&&(Ie.element&&e.setAttribute("lcp.element",ht(Ie.element)),Ie.id&&e.setAttribute("lcp.id",Ie.id),Ie.url&&e.setAttribute("lcp.url",Ie.url.trim().slice(0,200)),Ie.loadTime!=null&&e.setAttribute("lcp.loadTime",Ie.loadTime),Ie.renderTime!=null&&e.setAttribute("lcp.renderTime",Ie.renderTime),e.setAttribute("lcp.size",Ie.size)),Rn&&Rn.sources&&Rn.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,ht(t.node)))}function xs(e,t,n,r){const s=t[n];s!=null&&s<lg&&(e[r]=s)}function Cg(e){const t=Yn(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}const xg=1e3;let ia,ro,so;function Yu(e){const t="dom";mt(t,e),gt(t,Rg)}function Rg(){if(!D.document)return;const e=Me.bind(null,"dom"),t=aa(e,!0);D.document.addEventListener("click",t,!1),D.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const s=D[n],o=s&&s.prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(Te(o,"addEventListener",function(i){return function(a,c,u){if(a==="click"||a=="keypress")try{const d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},l=d[a]=d[a]||{refCount:0};if(!l.handler){const f=aa(e);l.handler=f,i.call(this,a,f,u)}l.refCount++}catch{}return i.call(this,a,c,u)}}),Te(o,"removeEventListener",function(i){return function(a,c,u){if(a==="click"||a=="keypress")try{const d=this.__sentry_instrumentation_handlers__||{},l=d[a];l&&(l.refCount--,l.refCount<=0&&(i.call(this,a,l.handler,u),l.handler=void 0,delete d[a]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,c,u)}}))})}function Mg(e){if(e.type!==ro)return!1;try{if(!e.target||e.target._sentryId!==so)return!1}catch{}return!0}function Ag(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function aa(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Og(n);if(Ag(n.type,r))return;Mt(n,"_sentryCaptured",!0),r&&!r._sentryId&&Mt(r,"_sentryId",Tt());const s=n.type==="keypress"?"input":n.type;Mg(n)||(e({event:n,name:s,global:t}),ro=n.type,so=r?r._sentryId:void 0),clearTimeout(ia),ia=D.setTimeout(()=>{so=void 0,ro=void 0},xg)}}function Og(e){try{return e.target}catch{return null}}let or;function ls(e){const t="history";mt(t,e),gt(t,Dg)}function Dg(){if(!hm())return;const e=D.onpopstate;D.onpopstate=function(...n){const r=D.location.href,s=or;if(or=r,Me("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const o=or,i=String(s);or=i,Me("history",{from:o,to:i})}return n.apply(this,r)}}Te(D.history,"pushState",t),Te(D.history,"replaceState",t)}const yr={};function Jo(e){const t=yr[e];if(t)return t;let n=D[e];if(Ks(n))return yr[e]=n.bind(D);const r=D.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(s)}catch(s){Vo&&S.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(yr[e]=n.bind(D))}function ca(e){yr[e]=void 0}function nn(...e){return Jo("setTimeout")(...e)}const ut="__sentry_xhr_v3__";function Zo(e){const t="xhr";mt(t,e),gt(t,Ng)}function Ng(){if(!D.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,o=pe()*1e3,i=kn(r[0])?r[0].toUpperCase():void 0,a=Lg(r[1]);if(!i||!a)return t.apply(n,r);n[ut]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[ut];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:pe()*1e3,startTimestamp:o,xhr:n,virtualError:s};Me("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[f,p]=l,h=d[ut];return h&&kn(f)&&kn(p)&&(h.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[ut];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const o={startTimestamp:pe()*1e3,xhr:n};return Me("xhr",o),t.apply(n,r)}})}function Lg(e){if(kn(e))return e;try{return e.toString()}catch{}}const Rs=[],Sr=new Map;function Pg(){if(Ko()&&Se){const t=Fg();return()=>{t()}}return()=>{}}const ua={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Fg(){return zu(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(h=>h.duration===e.value&&ua[h.name]);if(!t)return;const{interactionId:n}=t,r=ua[t.name],s=de(Se+t.startTime),o=de(e.value),i=fe(),a=i?me(i):void 0,u=(n!=null?Sr.get(n):void 0)||a,d=u?j(u).description:X().getScopeData().transactionName,l=ht(t.target),f=ze({[ge]:"auto.http.browser.inp",[Ot]:`ui.interaction.${r}`,[wo]:t.duration}),p=Gu({name:l,transaction:d,attributes:f,startTime:s});p&&(p.addEvent("inp",{[rs]:"millisecond",[ss]:e.value}),p.end(s+o))})}function $g(e){const t=({entries:n})=>{const r=fe(),s=r&&me(r);n.forEach(o=>{if(!ig(o)||!s)return;const i=o.interactionId;if(i!=null&&!Sr.has(i)){if(Rs.length>10){const a=Rs.shift();Sr.delete(a)}Rs.push(i),Sr.set(i,s)}})};tn("event",t),tn("first-input",t)}function Qo(e,t=Jo("fetch")){let n=0,r=0;function s(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return ca("fetch"),Rr("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=i,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return ca("fetch"),n-=i,r--,Rr(c)}}return iu(e,s)}const Hg=10,Bg=20,Ug=30,Wg=40,zg=50;function rn(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Je:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const jg=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,qg=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Gg=/\((\S*)(?::(\d+))(?::(\d+))\)/,Yg=e=>{const t=jg.exec(e);if(t){const[,r,s,o]=t;return rn(r,Je,+s,+o)}const n=qg.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=Gg.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[s,o]=Zu(n[1]||Je,n[2]);return rn(o,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Vu=[Ug,Yg],Vg=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Xg=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Kg=e=>{const t=Vg.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=Xg.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],s=t[1]||Je;return[s,r]=Zu(s,r),rn(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Xu=[zg,Kg],Jg=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Zg=e=>{const t=Jg.exec(e);return t?rn(t[2],t[1]||Je,+t[3],t[4]?+t[4]:void 0):void 0},Qg=[Wg,Zg],e_=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,t_=e=>{const t=e_.exec(e);return t?rn(t[2],t[3]||Je,+t[1]):void 0},n_=[Hg,t_],r_=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,s_=e=>{const t=r_.exec(e);return t?rn(t[5],t[3]||t[4]||Je,+t[1],+t[2]):void 0},o_=[Bg,s_],Ku=[Vu,Xu],Ju=Qd(...Ku),Zu=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Je,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},ir=1024,i_="Breadcrumbs",a_=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:i_,setup(n){t.console&&mu(l_(n)),t.dom&&Yu(u_(n,t.dom)),t.xhr&&Zo(d_(n)),t.fetch&&qo(f_(n)),t.history&&ls(p_(n)),t.sentry&&n.on("beforeSendEvent",c_(n))}}},Qu=a_;function c_(e){return function(n){O()===e&&je({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:st(n)},{event:n})}}function u_(e,t){return function(r){if(O()!==e)return;let s,o,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>ir&&(z&&S.warn(`\`dom.maxStringLength\` cannot exceed ${ir}, but a value of ${a} was configured. Sentry will use ${ir} instead.`),a=ir),typeof i=="string"&&(i=[i]);try{const u=r.event,d=h_(u)?u.target:u;s=ht(d,{keyAttrs:i,maxStringLength:a}),o=Lc(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};o&&(c.data={"ui.component_name":o}),je(c,{event:r.event,name:r.name,global:r.global})}}function l_(e){return function(n){if(O()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Wo(n.level),message:Or(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Or(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;je(r,{input:n.args,level:n.level})}}function d_(e){return function(n){if(O()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[ut];if(!r||!s||!o)return;const{method:i,url:a,status_code:c,body:u}=o,d={method:i,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},f=Iu(c);je({category:"xhr",data:d,type:"http",level:f},l)}}function f_(e){return function(n){if(O()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const o=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};je({category:"fetch",data:o,level:"error",type:"http"},i)}else{const o=n.response,i={...n.fetchData,status_code:o&&o.status},a={input:n.args,response:o,startTimestamp:r,endTimestamp:s},c=Iu(i.status_code);je({category:"fetch",data:i,type:"http",level:c},a)}}}function p_(e){return function(n){if(O()!==e)return;let r=n.from,s=n.to;const o=Ct(C.location.href);let i=r?Ct(r):void 0;const a=Ct(s);(!i||!i.path)&&(i=o),o.protocol===a.protocol&&o.host===a.host&&(s=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),je({category:"navigation",data:{from:r,to:s}})}}function h_(e){return!!e&&!!e.target}const m_=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],g_="BrowserApiErrors",__=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:g_,setupOnce(){t.setTimeout&&Te(C,"setTimeout",la),t.setInterval&&Te(C,"setInterval",la),t.requestAnimationFrame&&Te(C,"requestAnimationFrame",y_),t.XMLHttpRequest&&"XMLHttpRequest"in C&&Te(XMLHttpRequest.prototype,"send",S_);const n=t.eventTarget;n&&(Array.isArray(n)?n:m_).forEach(b_)}}},el=__;function la(e){return function(...t){const n=t[0];return t[0]=en(n,{mechanism:{data:{function:pt(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function y_(e){return function(t){return e.apply(this,[en(t,{mechanism:{data:{function:"requestAnimationFrame",handler:pt(e)},handled:!1,type:"instrument"}})])}}function S_(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Te(n,s,function(o){const i={mechanism:{data:{function:s,handler:pt(o)},handled:!1,type:"instrument"}},a=Co(o);return a&&(i.mechanism.data.handler=pt(a)),en(o,i)})}),e.apply(this,t)}}function b_(e){const n=C[e],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Te(r,"addEventListener",function(s){return function(o,i,a){try{E_(i)&&(i.handleEvent=en(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:pt(i),target:e},handled:!1,type:"instrument"}}))}catch{}return s.apply(this,[o,en(i,{mechanism:{data:{function:"addEventListener",handler:pt(i),target:e},handled:!1,type:"instrument"}}),a])}}),Te(r,"removeEventListener",function(s){return function(o,i,a){try{const c=i.__sentry_wrapped__;c&&s.call(this,o,c,a)}catch{}return s.call(this,o,i,a)}}))}function E_(e){return typeof e.handleEvent=="function"}const tl=()=>({name:"BrowserSession",setupOnce(){if(typeof C.document>"u"){z&&S.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Nr({ignoreDuration:!0}),qs(),ls(({from:e,to:t})=>{e!==void 0&&e!==t&&(Nr({ignoreDuration:!0}),qs())})}}),v_="GlobalHandlers",w_=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:v_,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(I_(n),da("onerror")),t.onunhandledrejection&&(T_(n),da("onunhandledrejection"))}}},nl=w_;function I_(e){Hc(t=>{const{stackParser:n,attachStacktrace:r}=rl();if(O()!==e||xu())return;const{msg:s,url:o,line:i,column:a,error:c}=t,u=x_(Yo(n,c||s,void 0,r,!1),o,i,a);u.level="error",pn(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function T_(e){Bc(t=>{const{stackParser:n,attachStacktrace:r}=rl();if(O()!==e||xu())return;const s=k_(t),o=ko(s)?C_(s):Yo(n,s,void 0,r,!0);o.level="error",pn(o,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function k_(e){if(ko(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function C_(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function x_(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=kn(t)&&t.length>0?t:Do();return c.length===0&&c.push({colno:u,filename:l,function:Je,in_app:!0,lineno:d}),e}function da(e){z&&S.log(`Global Handler attached: ${e}`)}function rl(){const e=O();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const sl=()=>({name:"HttpContext",preprocessEvent(e){if(!C.navigator&&!C.location&&!C.document)return;const t=e.request&&e.request.url||C.location&&C.location.href,{referrer:n}=C.document||{},{userAgent:r}=C.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:s};e.request=o}}),R_="cause",M_=5,A_="LinkedErrors",O_=(e={})=>{const t=e.limit||M_,n=e.key||R_;return{name:A_,preprocessEvent(r,s,o){const i=o.getOptions();Pp(as,i.stackParser,i.maxValueLength,n,t,r,s)}}},ol=O_;function il(e){const t=[du(),lu(),el(),Qu(),nl(),ol(),gu(),sl()];return e.autoSessionTracking!==!1&&t.push(tl()),t}function D_(e={}){const t={defaultIntegrations:il(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:C.SENTRY_RELEASE&&C.SENTRY_RELEASE.id?C.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function N_(){const e=typeof C.window<"u"&&C;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,s=C.location&&C.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],i=!!r&&C===C.top&&o.some(c=>s.startsWith(`${c}//`)),a=typeof e.nw<"u";return!!r&&!i&&!a}function al(e={}){const t=D_(e);if(!t.skipBrowserExtensionCheck&&N_()){Lt(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}z&&(Tu()||S.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:ef(t.stackParser||Ju),integrations:Qf(t),transport:t.transport||Qo};return op(Du,n)}function L_(e={}){if(!C.document){z&&S.error("Global document not defined in showReportDialog call");return}const t=X(),n=t.getClient(),r=n&&n.getDsn();if(!r){z&&S.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){const a=Pc();a&&(e.eventId=a)}const s=C.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=Jf(r,e),e.onLoad&&(s.onload=e.onLoad);const{onClose:o}=e;if(o){const a=c=>{if(c.data==="__sentry_reportdialog_closed__")try{o()}finally{C.removeEventListener("message",a)}};C.addEventListener("message",a)}const i=C.document.head||C.document.body;i?i.appendChild(s):z&&S.error("Not injecting report dialog. No injection point found in HTML")}function P_(){}function F_(e){e()}function $_(e){const t=O();t&&t.captureUserFeedback(e)}const H_={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},fa=C;async function cl(e,t){const n=H_[e],r=fa.Sentry=fa.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const s=r[e];if(typeof s=="function"&&!("_isShim"in s))return s;const o=B_(n),i=C.document.createElement("script");i.src=o,i.crossOrigin="anonymous",i.referrerPolicy="origin",t&&i.setAttribute("nonce",t);const a=new Promise((l,f)=>{i.addEventListener("load",()=>l()),i.addEventListener("error",f)}),c=C.document.currentScript,u=C.document.body||C.document.head||c&&c.parentElement;if(u)u.appendChild(i);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}const d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function B_(e){const t=O(),n=t&&t.getOptions(),r=n&&n.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Ar}/${e}.min.js`,r).toString()}const U_=q,W_="ReportingObserver",pa=new WeakMap,z_=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(pa.has(O()))for(const s of r)Ae(o=>{o.setExtra("url",s.url);const i=`ReportingObserver [${s.type}]`;let a="No details available";if(s.body){const c={};for(const u in s.body)c[u]=s.body[u];if(o.setExtra("body",c),s.type==="crash"){const u=s.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=s.body.message||a}Dr(`${i}: ${a}`)})}return{name:W_,setupOnce(){if(!om())return;new U_.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){pa.set(r,!0)}}},j_=z_,q_="HttpClient",G_=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:q_,setup(n){ty(n,t),ny(n,t)}}},Y_=G_;function V_(e,t,n,r,s){if(ll(e,n.status,n.url)){const o=ry(t,r);let i,a,c,u;fl()&&([i,c]=ha("Cookie",o),[a,u]=ha("Set-Cookie",n));const d=dl({url:o.url,method:o.method,status:n.status,requestHeaders:i,responseHeaders:a,requestCookies:c,responseCookies:u,error:s});pn(d)}}function ha(e,t){const n=J_(t.headers);let r;try{const s=n[e]||n[e.toLowerCase()]||void 0;s&&(r=ul(s))}catch{}return[n,r]}function X_(e,t,n,r,s){if(ll(e,t.status,t.responseURL)){let o,i,a;if(fl()){try{const u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(i=ul(u))}catch{}try{a=Z_(t)}catch{}o=r}const c=dl({url:t.responseURL,method:n,status:t.status,requestHeaders:o,responseHeaders:a,responseCookies:i,error:s});pn(c)}}function K_(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function ul(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return r&&s&&(t[r]=s),t},{})}function J_(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Z_(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return s&&o&&(n[s]=o),n},{}):{}}function Q_(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function ey(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function ty(e,t){ku()&&qo(n=>{if(O()!==e)return;const{response:r,args:s,error:o,virtualError:i}=n,[a,c]=s;r&&V_(t,a,r,c,o||i)},!1)}function ny(e,t){"XMLHttpRequest"in q&&Zo(n=>{if(O()!==e)return;const{error:r,virtualError:s}=n,o=n.xhr,i=o[ut];if(!i)return;const{method:a,request_headers:c}=i;try{X_(t,o,a,c,r||s)}catch(u){z&&S.warn("Error while extracting response event form XHR response",u)}})}function ll(e,t,n){return ey(e.failedRequestStatusCodes,t)&&Q_(e.failedRequestTargets,n)&&!cu(n,O())}function dl(e){const t=O(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,s=`HTTP Client Error with status code: ${e.status}`,o={message:s,exception:{values:[{type:"Error",value:s,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:K_(e.responseHeaders)}}};return Dt(o,{type:"http.client",handled:!1}),o}function ry(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function fl(){const e=O();return e?!!e.getOptions().sendDefaultPii:!1}const Ms=q,sy=7,oy="ContextLines",iy=(e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:sy;return{name:oy,processEvent(n){return cy(n,t)}}},ay=iy;function cy(e,t){const n=Ms.document,r=Ms.location&&Up(Ms.location.href);if(!n||!r)return e;const s=e.exception&&e.exception.values;if(!s||!s.length)return e;const o=n.documentElement.innerHTML;if(!o)return e;const i=["<!DOCTYPE html>","<html>",...o.split(`
`),"</html>"];return s.forEach(a=>{const c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>uy(u,i,r,t)))}),e}function uy(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||tf(t,e,r),e}const se=q,ei="sentryReplaySession",ly="replay_event",ti="Unable to send Replay",dy=3e5,fy=9e5,py=5e3,hy=5500,my=6e4,gy=5e3,_y=3,ma=15e4,ar=5e3,yy=3e3,Sy=300,ni=2e7,by=4999,Ey=15e3,ga=36e5;function oo(e,t){return e??t()}function Pn(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}var he;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(he||(he={}));function vy(e){return e.nodeType===e.ELEMENT_NODE}function Mn(e){const t=Pn([e,"optionalAccess",n=>n.host]);return Pn([t,"optionalAccess",n=>n.shadowRoot])===e}function An(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function wy(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function Iy(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function zr(e){try{const t=e.rules||e.cssRules;return t?wy(Array.from(t,pl).join("")):null}catch{return null}}function Ty(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],o=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function pl(e){let t;if(Cy(e))try{t=zr(e.styleSheet)||Iy(e)}catch{}else if(xy(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=Ty(e)),r&&(n=ky(n)),r||s)return n}return t||e.cssText}function ky(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Cy(e){return"styleSheet"in e}function xy(e){return"selectorText"in e}class hl{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=Pn([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return oo(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Ry(){return new hl}function ds({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Fn({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function sn(e){return e.toLowerCase()}function io(e){return e.toUpperCase()}const _a="__rrweb_original__";function My(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const o=t.getImageData,i=_a in o?o[_a]:o;if(new Uint32Array(i.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function ri(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?sn(t):null}function jr(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function ml(e,t){let n;try{n=new URL(e,oo(t,()=>window.location.href))}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return oo(Pn([s,"optionalAccess",o=>o[1]]),()=>null)}const ya={};function gl(e){const t=ya[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return ya[e]=r.bind(window)}function ao(...e){return gl("setTimeout")(...e)}function _l(...e){return gl("clearTimeout")(...e)}function yl(e){try{return e.contentDocument}catch{}}let Ay=1;const Oy=new RegExp("[^a-z0-9-_:]"),$n=-2;function si(){return Ay++}function Dy(e){if(e instanceof HTMLFormElement)return"form";const t=sn(e.tagName);return Oy.test(t)?"div":t}function Ny(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let zt,Sa;const Ly=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Py=/^(?:[a-z+]+:)?\/\//i,Fy=/^www\..*/i,$y=/^(data:)([^,]*),(.*)/i;function qr(e,t){return(e||"").replace(Ly,(n,r,s,o,i,a)=>{const c=s||i||a,u=r||o||"";if(!c)return n;if(Py.test(c)||Fy.test(c))return`url(${u}${c}${u})`;if($y.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${Ny(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}const Hy=/^[^ \t\n\r\u000c]+/,By=/^[, \t\n\r\u000c]+/;function Uy(e,t){if(t.trim()==="")return t;let n=0;function r(o){let i;const a=o.exec(t.substring(n));return a?(i=a[0],n+=i.length,i):""}const s=[];for(;r(By),!(n>=t.length);){let o=r(Hy);if(o.slice(-1)===",")o=Yt(e,o.substring(0,o.length-1)),s.push(o);else{let i="";o=Yt(e,o);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((o+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((o+i).trim());break}else c==="("&&(a=!0);i+=c,n+=1}}}return s.join(", ")}const ba=new WeakMap;function Yt(e,t){return!t||t.trim()===""?t:fs(e,t)}function Wy(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function fs(e,t){let n=ba.get(e);if(n||(n=e.createElement("a"),ba.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Sl(e,t,n,r,s,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Yt(e,r):n==="srcset"?Uy(e,r):n==="style"?qr(r,fs(e)):t==="object"&&n==="data"?Yt(e,r):typeof o=="function"?o(n,r,s):r)}function bl(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function zy(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const o=e.classList[s];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function jy(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function wt(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:wt(e.parentNode,t,n,r+1)}function Vt(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(jy(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function on(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(o){if(c=wt(i,Vt(r,s)),c<0)return!0;a=wt(i,Vt(t,n),c>=0?c:1/0)}else{if(a=wt(i,Vt(t,n)),a<0)return!1;c=wt(i,Vt(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!o}catch{}return!!o}function qy(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=ao(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{_l(a),s=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return ao(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Gy(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const o=ao(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{_l(o),r=!0,t()})}function Yy(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:g,maskInputFn:E,dataURLOptions:_={},inlineImages:v,recordCanvas:A,keepIframeSrcFn:R,newlyAddedElement:T=!1}=t,b=Vy(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:he.Document,childNodes:[],compatMode:e.compatMode}:{type:he.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:he.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return Ky(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:E,dataURLOptions:_,inlineImages:v,recordCanvas:A,keepIframeSrcFn:R,newlyAddedElement:T,rootId:b,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return Xy(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:h,maskInputFn:E,rootId:b});case e.CDATA_SECTION_NODE:return{type:he.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:he.Comment,textContent:e.textContent||"",rootId:b};default:return!1}}function Vy(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function Xy(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,g=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||Pn([e,"access",_=>_.parentNode,"access",_=>_.sheet,"optionalAccess",_=>_.cssRules])&&(f=zr(e.parentNode.sheet))}catch(_){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${_}`,e)}f=qr(f,fs(t.doc))}h&&(f="SCRIPT_PLACEHOLDER");const E=on(e,r,o,s,i,n);if(!p&&!h&&!g&&f&&E&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||E)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){const _=ds({type:null,tagName:l,maskInputOptions:c});f=Fn({isMasked:on(e,r,o,s,i,_),element:e,value:f,maskInputFn:u})}return{type:he.Text,textContent:f||"",isStyle:p,rootId:d}}function Ky(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:g,maskTextClass:E,unmaskTextClass:_,maskTextSelector:v,unmaskTextSelector:A}=t,R=zy(e,r,s,o),T=Dy(e);let b={};const k=e.attributes.length;for(let m=0;m<k;m++){const y=e.attributes[m];y.name&&!bl(T,y.name,y.value)&&(b[y.name]=Sl(n,T,sn(y.name),y.value,e,c))}if(T==="link"&&i){const m=Array.from(n.styleSheets).find(I=>I.href===e.href);let y=null;m&&(y=zr(m)),y&&(b.rel=null,b.href=null,b.crossorigin=null,b._cssText=qr(y,m.href))}if(T==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const m=zr(e.sheet);m&&(b._cssText=qr(m,fs(n)))}if(T==="input"||T==="textarea"||T==="select"||T==="option"){const m=e,y=ri(m),I=jr(m,io(T),y),w=m.checked;if(y!=="submit"&&y!=="button"&&I){const H=on(m,E,v,_,A,ds({type:y,tagName:io(T),maskInputOptions:a}));b.value=Fn({isMasked:H,element:m,value:I,maskInputFn:u})}w&&(b.checked=w)}if(T==="option"&&(e.selected&&!a.select?b.selected=!0:delete b.selected),T==="canvas"&&f){if(e.__context==="2d")My(e)||(b.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const m=e.toDataURL(d.type,d.quality),y=n.createElement("canvas");y.width=e.width,y.height=e.height;const I=y.toDataURL(d.type,d.quality);m!==I&&(b.rr_dataURL=m)}}if(T==="img"&&l){zt||(zt=n.createElement("canvas"),Sa=zt.getContext("2d"));const m=e,y=m.currentSrc||m.getAttribute("src")||"<unknown-src>",I=m.crossOrigin,w=()=>{m.removeEventListener("load",w);try{zt.width=m.naturalWidth,zt.height=m.naturalHeight,Sa.drawImage(m,0,0),b.rr_dataURL=zt.toDataURL(d.type,d.quality)}catch(H){if(m.crossOrigin!=="anonymous"){m.crossOrigin="anonymous",m.complete&&m.naturalWidth!==0?w():m.addEventListener("load",w);return}else console.warn(`Cannot inline img src=${y}! Error: ${H}`)}m.crossOrigin==="anonymous"&&(I?b.crossOrigin=I:m.removeAttribute("crossorigin"))};m.complete&&m.naturalWidth!==0?w():m.addEventListener("load",w)}if((T==="audio"||T==="video")&&(b.rr_mediaState=e.paused?"paused":"played",b.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(b.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(b.rr_scrollTop=e.scrollTop)),R){const{width:m,height:y}=e.getBoundingClientRect();b={class:b.class,rr_width:`${m}px`,rr_height:`${y}px`}}T==="iframe"&&!p(b.src)&&(!R&&!yl(e)&&(b.rr_src=b.src),delete b.src);let x;try{customElements.get(T)&&(x=!0)}catch{}return{type:he.Element,tagName:T,attributes:b,childNodes:[],isSVG:Wy(e)||void 0,needBlock:R,rootId:g,isCustom:x}}function re(e){return e==null?"":e.toLowerCase()}function Jy(e,t){if(t.comment&&e.type===he.Comment)return!0;if(e.type===he.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&ml(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(re(e.attributes.name).match(/^msapplication-tile(image|color)$/)||re(e.attributes.name)==="application-name"||re(e.attributes.rel)==="icon"||re(e.attributes.rel)==="apple-touch-icon"||re(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&re(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(re(e.attributes.property).match(/^(og|twitter|fb):/)||re(e.attributes.name).match(/^(og|twitter):/)||re(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(re(e.attributes.name)==="robots"||re(e.attributes.name)==="googlebot"||re(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(re(e.attributes.name)==="author"||re(e.attributes.name)==="generator"||re(e.attributes.name)==="framework"||re(e.attributes.name)==="publisher"||re(e.attributes.name)==="progid"||re(e.attributes.property).match(/^article:/)||re(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(re(e.attributes.name)==="google-site-verification"||re(e.attributes.name)==="yandex-verification"||re(e.attributes.name)==="csrf-token"||re(e.attributes.name)==="p:domain_verify"||re(e.attributes.name)==="verify-v1"||re(e.attributes.name)==="verification"||re(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Xt(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:g,maskTextFn:E,maskInputFn:_,slimDOMOptions:v,dataURLOptions:A={},inlineImages:R=!1,recordCanvas:T=!1,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:x=5e3,onStylesheetLoad:m,stylesheetLoadTimeout:y=5e3,keepIframeSrcFn:I=()=>!1,newlyAddedElement:w=!1}=t;let{preserveWhiteSpace:H=!0}=t;const G=Yy(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:E,maskInputFn:_,dataURLOptions:A,inlineImages:R,recordCanvas:T,keepIframeSrcFn:I,newlyAddedElement:w});if(!G)return console.warn(e,"not serialized"),null;let B;r.hasNode(e)?B=r.getId(e):Jy(G,v)||!H&&G.type===he.Text&&!G.isStyle&&!G.textContent.replace(/^\s+|\s+$/gm,"").length?B=$n:B=si();const M=Object.assign(G,{id:B});if(r.add(e,M),B===$n)return null;b&&b(e);let oe=!f;if(M.type===he.Element){oe=oe&&!M.needBlock,delete M.needBlock;const L=e.shadowRoot;L&&An(L)&&(M.isShadowHost=!0)}if((M.type===he.Document||M.type===he.Element)&&oe){v.headWhitespace&&M.type===he.Element&&M.tagName==="head"&&(H=!1);const L={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:E,maskInputFn:_,slimDOMOptions:v,dataURLOptions:A,inlineImages:R,recordCanvas:T,preserveWhiteSpace:H,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:m,stylesheetLoadTimeout:y,keepIframeSrcFn:I};for(const Q of Array.from(e.childNodes)){const be=Xt(Q,L);be&&M.childNodes.push(be)}if(vy(e)&&e.shadowRoot)for(const Q of Array.from(e.shadowRoot.childNodes)){const be=Xt(Q,L);be&&(An(e.shadowRoot)&&(be.isShadow=!0),M.childNodes.push(be))}}return e.parentNode&&Mn(e.parentNode)&&An(e.parentNode)&&(M.isShadow=!0),M.type===he.Element&&M.tagName==="iframe"&&qy(e,()=>{const L=yl(e);if(L&&k){const Q=Xt(L,{doc:L,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:E,maskInputFn:_,slimDOMOptions:v,dataURLOptions:A,inlineImages:R,recordCanvas:T,preserveWhiteSpace:H,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:m,stylesheetLoadTimeout:y,keepIframeSrcFn:I});Q&&k(e,Q)}},x),M.type===he.Element&&M.tagName==="link"&&typeof M.attributes.rel=="string"&&(M.attributes.rel==="stylesheet"||M.attributes.rel==="preload"&&typeof M.attributes.href=="string"&&ml(M.attributes.href)==="css")&&Gy(e,()=>{if(m){const L=Xt(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:E,maskInputFn:_,slimDOMOptions:v,dataURLOptions:A,inlineImages:R,recordCanvas:T,preserveWhiteSpace:H,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:m,stylesheetLoadTimeout:y,keepIframeSrcFn:I});L&&m(e,L)}},y),M}function Zy(e,t){const{mirror:n=new hl,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:g,maskTextFn:E,maskInputFn:_,slimDOM:v=!1,dataURLOptions:A,preserveWhiteSpace:R,onSerialize:T,onIframeLoad:b,iframeLoadTimeout:k,onStylesheetLoad:x,stylesheetLoadTimeout:m,keepIframeSrcFn:y=()=>!1}=t||{};return Xt(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:g,maskTextFn:E,maskInputFn:_,slimDOMOptions:v===!0||v==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:v==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:v===!1?{}:v,dataURLOptions:A,inlineImages:f,recordCanvas:p,preserveWhiteSpace:R,onSerialize:T,onIframeLoad:b,iframeLoadTimeout:k,onStylesheetLoad:x,stylesheetLoadTimeout:m,keepIframeSrcFn:y,newlyAddedElement:!1})}function ot(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}function ve(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const qt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Ea={map:{},getId(){return console.error(qt),-1},getNode(){return console.error(qt),null},removeNodeFromMap(){console.error(qt)},has(){return console.error(qt),!1},reset(){console.error(qt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Ea=new Proxy(Ea,{get(e,t,n){return t==="map"&&console.error(qt),Reflect.get(e,t,n)}}));function Hn(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();!s&&n.leading===!1&&(s=i);const a=t-(i-s),c=this;a<=0||a>t?(r&&(oS(r),r=null),s=i,e.apply(c,o)):!r&&n.trailing!==!1&&(r=ps(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,o)},a))}}function El(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){ps(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>El(e,t,o||{},!0)}function oi(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let Gr=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Gr=()=>new Date().getTime());function vl(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:ot([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||ot([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||ot([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:ot([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||ot([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||ot([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function wl(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Il(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Tl(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function ke(e,t,n,r,s){if(!e)return!1;const o=Tl(e);if(!o)return!1;const i=Vt(t,n);if(!s){const u=r&&o.matches(r);return i(o)&&!u}const a=wt(o,i);let c=-1;return a<0?!1:(r&&(c=wt(o,Vt(null,r))),a>-1&&c<0?!0:a<c)}function Qy(e,t){return t.getId(e)!==-1}function As(e,t){return t.getId(e)===$n}function kl(e,t){if(Mn(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?kl(e.parentNode,t):!0:!0}function co(e){return!!e.changedTouches}function eS(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Cl(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function xl(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function uo(e){return!!ot([e,"optionalAccess",t=>t.shadowRoot])}class tS{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return mm(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Rl(e){let t=null;return ot([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function nS(e){let t=e,n;for(;n=Rl(t);)t=n;return t}function rS(e){const t=e.ownerDocument;if(!t)return!1;const n=nS(e);return t.contains(n)}function Ml(e){const t=e.ownerDocument;return t?t.contains(e)||rS(e):!1}const va={};function ii(e){const t=va[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return va[e]=r.bind(window)}function sS(...e){return ii("requestAnimationFrame")(...e)}function ps(...e){return ii("setTimeout")(...e)}function oS(...e){return ii("clearTimeout")(...e)}var U=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(U||{}),$=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))($||{}),Ee=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ee||{}),Ge=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ge||{}),wa;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(wa||(wa={}));var Ia;(function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(Ia||(Ia={}));function ai(e){try{return e.contentDocument}catch{}}function iS(e){try{return e.contentWindow}catch{}}function aS(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}function Ta(e){return"__ln"in e}class cS{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=aS([n,"optionalAccess",s=>s.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Ta(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Ta(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const ka=(e,t)=>`${e}@${t}`;class uS{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new cS,s=c=>{let u=c,d=$n;for(;d===$n;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},o=c=>{if(!c.parentNode||!Ml(c))return;const u=Mn(c.parentNode)?this.mirror.getId(Rl(c)):this.mirror.getId(c.parentNode),d=s(c);if(u===-1||d===-1)return r.addNode(c);const l=Xt(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Cl(f,this.mirror)&&!ke(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),xl(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),uo(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{ke(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)Ca(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||o(c);for(const c of this.addedSet)!xa(this.droppedSet,c)&&!Ca(this.removes,c,this.mirror)||xa(this.movedSet,c)?o(c):this.droppedSet.add(c);let i=null;for(;r.length;){let c=null;if(i){const u=this.mirror.getId(i.value.parentNode),d=s(i.value);u!==-1&&d!==-1&&(c=i)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(l!==-1){c=d;break}else{const p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=p.parentNode.host;if(this.mirror.getId(h)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}i=c.previous,r.removeNode(c.value),o(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!As(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!ke(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:on(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Tl(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const i=ri(n),a=n.tagName;s=jr(n,a,i);const c=ds({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=on(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=Fn({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(ke(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!ai(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!bl(n.tagName,r)&&(o.attributes[r]=Sl(this.doc,sn(n.tagName),sn(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?o.styleDiff[a]=c:o.styleDiff[a]=[c,u]:o._unchangedStyles[a]=[c,u]}for(const a of Array.from(i.style))n.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(ke(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=Mn(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ke(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||As(n,this.mirror)||!Qy(n,this.mirror)||(this.addedSet.has(n)?(lo(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||kl(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[ka(r,s)]?lo(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:Mn(t.target)&&An(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(As(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[ka(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ke(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),uo(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function lo(e,t){e.delete(t),t.childNodes.forEach(n=>lo(e,n))}function Ca(e,t,n){return e.length===0?!1:lS(e,t,n)}function lS(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(o=>o.id===s))return!0;r=r.parentNode}return!1}function xa(e,t){return e.size===0?!1:Al(e,t)}function Al(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Al(e,n):!1}let On;function dS(e){On=e}function fS(){On=void 0}const V=e=>On?(...n)=>{try{return e(...n)}catch(r){if(On&&On(r)===!0)return()=>{};throw r}}:e;function Fe(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}const Kt=[];function Jn(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Ol(e,t){const n=new uS;Kt.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=Fe([window,"optionalAccess",i=>i.Zone,"optionalAccess",i=>i.__symbol__,"optionalCall",i=>i("MutationObserver")]);s&&window[s]&&(r=window[s]);const o=new r(V(i=>{e.onMutation&&e.onMutation(i)===!1||n.processMutations.bind(n)(i)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function pS({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],a;const c=Hn(V(l=>{const f=Date.now()-a;e(i.map(p=>(p.timeOffset-=f,p)),l),i=[],a=null}),o),u=V(Hn(V(l=>{const f=Jn(l),{clientX:p,clientY:h}=co(l)?l.changedTouches[0]:l;a||(a=Gr()),i.push({x:p,y:h,id:r.getId(f),timeOffset:Gr()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?$.Drag:l instanceof MouseEvent?$.MouseMove:$.TouchMove)}),s,{trailing:!1})),d=[ve("mousemove",u,n),ve("touchmove",u,n),ve("drag",u,n)];return V(()=>{d.forEach(l=>l())})}function hS({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[];let u=null;const d=l=>f=>{const p=Jn(f);if(ke(p,r,s,o,!0))return;let h=null,g=l;if("pointerType"in f){switch(f.pointerType){case"mouse":h=Ge.Mouse;break;case"touch":h=Ge.Touch;break;case"pen":h=Ge.Pen;break}h===Ge.Touch?Ee[l]===Ee.MouseDown?g="TouchStart":Ee[l]===Ee.MouseUp&&(g="TouchEnd"):Ge.Pen}else co(f)&&(h=Ge.Touch);h!==null?(u=h,(g.startsWith("Touch")&&h===Ge.Touch||g.startsWith("Mouse")&&h===Ge.Mouse)&&(h=null)):Ee[l]===Ee.Click&&(h=u,u=null);const E=co(f)?f.changedTouches[0]:f;if(!E)return;const _=n.getId(p),{clientX:v,clientY:A}=E;V(e)({type:Ee[g],id:_,x:v,y:A,...h!==null&&{pointerType:h}})};return Object.keys(Ee).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=sn(l);const p=d(l);if(window.PointerEvent)switch(Ee[l]){case Ee.MouseDown:case Ee.MouseUp:f=f.replace("mouse","pointer");break;case Ee.TouchStart:case Ee.TouchEnd:return}c.push(ve(f,p,t))}),V(()=>{c.forEach(l=>l())})}function Dl({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){const a=V(Hn(V(c=>{const u=Jn(c);if(!u||ke(u,r,s,o,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=vl(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return ve("scroll",a,t)}function mS({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=V(Hn(V(()=>{const o=wl(),i=Il();(n!==o||r!==i)&&(e({width:Number(i),height:Number(o)}),n=o,r=i)}),200));return ve("resize",s,t)}const gS=["INPUT","TEXTAREA","SELECT"],Ra=new WeakMap;function _S({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:g}){function E(k){let x=Jn(k);const m=k.isTrusted,y=x&&io(x.tagName);if(y==="OPTION"&&(x=x.parentElement),!x||!y||gS.indexOf(y)<0||ke(x,r,s,o,!0))return;const I=x;if(I.classList.contains(i)||a&&I.matches(a))return;const w=ri(x);let H=jr(I,y,w),G=!1;const B=ds({maskInputOptions:c,tagName:y,type:w}),M=on(x,f,h,p,g,B);(w==="radio"||w==="checkbox")&&(G=x.checked),H=Fn({isMasked:M,element:x,value:H,maskInputFn:u}),_(x,l?{text:H,isChecked:G,userTriggered:m}:{text:H,isChecked:G});const oe=x.name;w==="radio"&&oe&&G&&t.querySelectorAll(`input[type="radio"][name="${oe}"]`).forEach(L=>{if(L!==x){const Q=Fn({isMasked:M,element:L,value:jr(L,y,w),maskInputFn:u});_(L,l?{text:Q,isChecked:!G,userTriggered:!1}:{text:Q,isChecked:!G})}})}function _(k,x){const m=Ra.get(k);if(!m||m.text!==x.text||m.isChecked!==x.isChecked){Ra.set(k,x);const y=n.getId(k);V(e)({...x,id:y})}}const A=(d.input==="last"?["change"]:["input","change"]).map(k=>ve(k,V(E),t)),R=t.defaultView;if(!R)return()=>{A.forEach(k=>k())};const T=R.Object.getOwnPropertyDescriptor(R.HTMLInputElement.prototype,"value"),b=[[R.HTMLInputElement.prototype,"value"],[R.HTMLInputElement.prototype,"checked"],[R.HTMLSelectElement.prototype,"value"],[R.HTMLTextAreaElement.prototype,"value"],[R.HTMLSelectElement.prototype,"selectedIndex"],[R.HTMLOptionElement.prototype,"selected"]];return T&&T.set&&A.push(...b.map(k=>El(k[0],k[1],{set(){V(E)({target:this,isTrusted:!1})}},!1,R))),V(()=>{A.forEach(k=>k())})}function Yr(e){const t=[];function n(r,s){if(cr("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||cr("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||cr("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||cr("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(i)}return s}return n(e,t)}function it(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function yS({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:V((d,l,f)=>{const[p,h]=f,{id:g,styleId:E}=it(l,t,n.styleMirror);return(g&&g!==-1||E&&E!==-1)&&e({id:g,styleId:E,adds:[{rule:p,index:h}]}),d.apply(l,f)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:V((d,l,f)=>{const[p]=f,{id:h,styleId:g}=it(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,removes:[{index:p}]}),d.apply(l,f)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:V((d,l,f)=>{const[p]=f,{id:h,styleId:g}=it(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:V((d,l,f)=>{const[p]=f,{id:h,styleId:g}=it(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replaceSync:p}),d.apply(l,f)})}));const c={};ur("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(ur("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),ur("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),ur("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:V((f,p,h)=>{const[g,E]=h,{id:_,styleId:v}=it(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||v&&v!==-1)&&e({id:_,styleId:v,adds:[{rule:g,index:[...Yr(p),E||0]}]}),f.apply(p,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:V((f,p,h)=>{const[g]=h,{id:E,styleId:_}=it(p.parentStyleSheet,t,n.styleMirror);return(E&&E!==-1||_&&_!==-1)&&e({id:E,styleId:_,removes:[{index:[...Yr(p),g]}]}),f.apply(p,h)})})}),V(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function Nl({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?Fe([n,"access",i=>i.defaultView,"optionalAccess",i=>i.Document]):Fe([n,"access",i=>i.ownerDocument,"optionalAccess",i=>i.defaultView,"optionalAccess",i=>i.ShadowRoot]),o=Fe([s,"optionalAccess",i=>i.prototype])?Object.getOwnPropertyDescriptor(Fe([s,"optionalAccess",i=>i.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return Fe([o,"access",i=>i.get,"optionalAccess",i=>i.call,"call",i=>i(this)])},set(i){const a=Fe([o,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,i)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(i,r)}catch{}return a}}),V(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function SS({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:V((a,c,u)=>{const[d,l,f]=u;if(n.has(d))return o.apply(c,[d,l,f]);const{id:p,styleId:h}=it(Fe([c,"access",g=>g.parentRule,"optionalAccess",g=>g.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:d,value:l,priority:f},index:Yr(c.parentRule)}),a.apply(c,u)})});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:V((a,c,u)=>{const[d]=u;if(n.has(d))return i.apply(c,[d]);const{id:l,styleId:f}=it(Fe([c,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:Yr(c.parentRule)}),a.apply(c,u)})}),V(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i})}function bS({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const a=V(u=>Hn(V(d=>{const l=Jn(d);if(!l||ke(l,t,n,r,!0))return;const{currentTime:f,volume:p,muted:h,playbackRate:g}=l;e({type:u,id:s.getId(l),currentTime:f,volume:p,muted:h,playbackRate:g})}),o.media||500)),c=[ve("play",a(0),i),ve("pause",a(1),i),ve("seeked",a(2),i),ve("volumechange",a(3),i),ve("ratechange",a(4),i)];return V(()=>{c.forEach(u=>u())})}function ES({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(c,u,d){const l=new o(c,u,d);return s.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const i=oi(t.fonts,"add",function(a){return function(c){return ps(V(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=o}),r.push(i),V(()=>{r.forEach(a=>a())})}function vS(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let a=!0;const c=V(()=>{const u=t.getSelection();if(!u||a&&Fe([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const p=u.getRangeAt(f),{startContainer:h,startOffset:g,endContainer:E,endOffset:_}=p;ke(h,r,s,o,!0)||ke(E,r,s,o,!0)||d.push({start:n.getId(h),startOffset:g,end:n.getId(E),endOffset:_})}i({ranges:d})});return c(),ve("selectionchange",c)}function wS({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:oi(n.customElements,"define",function(s){return function(o,i,a){try{t({define:{name:o}})}catch{}return s.apply(this,[o,i,a])}})}function IS(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Ol(e,e.doc));const s=pS(e),o=hS(e),i=Dl(e),a=mS(e,{win:n}),c=_S(e),u=bS(e);let d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=yS(e,{win:n}),l=Nl(e,e.doc),f=SS(e,{win:n}),e.collectFonts&&(p=ES(e)));const h=vS(e),g=wS(e),E=[];for(const _ of e.plugins)E.push(_.observer(_.callback,n,_.options));return V(()=>{Kt.forEach(_=>_.reset()),Fe([r,"optionalAccess",_=>_.disconnect,"call",_=>_()]),s(),o(),i(),a(),c(),u(),d(),l(),f(),p(),h(),g(),E.forEach(_=>_())})}function cr(e){return typeof window[e]<"u"}function ur(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class fo{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t),i=s||this.getRemoteIdToIdMap(t);let a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),i.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function Ma(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=o(n)):(s==="call"||s==="optionalCall")&&(n=o((...i)=>n.call(t,...i)),t=void 0)}return n}class TS{constructor(){this.crossOriginIframeMirror=new fo(si),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class kS{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new fo(si),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new fo(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Ma([this,"access",s=>s.loadListener,"optionalCall",s=>s(t)]);const r=ai(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case U.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:U.IncrementalSnapshot,data:{source:$.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case U.Meta:case U.Load:case U.DomContentLoaded:return!1;case U.Plugin:return n;case U.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case U.IncrementalSnapshot:switch(n.data.source){case $.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case $.Drag:case $.TouchMove:case $.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case $.ViewportResize:return!1;case $.MediaInteraction:case $.MouseInteraction:case $.Scroll:case $.CanvasMutation:case $.Input:return this.replaceIds(n.data,t,["id"]),n;case $.StyleSheetRule:case $.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case $.Font:return n;case $.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case $.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),Ma([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,t,["styleId"])})]),n}}return!1}replace(t,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==he.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class CS{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class xS{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!An(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Ol({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Dl({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),ps(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Nl({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=ai(t),r=iS(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(oi(t.prototype,"attachShadow",function(s){return function(o){const i=s.call(this,o);return this.shadowRoot&&Ml(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class Aa{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class RS{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new tS,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of t){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(a,c)=>({rule:pl(a),index:c}))})),r.styleIds.push(i)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class MS{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,sS(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let ue,Vr;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=xt([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Pe=Ry();function Xe(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:g,maskInputOptions:E,slimDOMOptions:_,maskAttributeFn:v,maskInputFn:A,maskTextFn:R,maxCanvasSize:T=null,packFn:b,sampling:k={},dataURLOptions:x={},mousemoveWait:m,recordDOM:y=!0,recordCanvas:I=!1,recordCrossOriginIframes:w=!1,recordAfter:H=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:G=!1,collectFonts:B=!1,inlineImages:M=!1,plugins:oe,keepIframeSrcFn:L=()=>!1,ignoreCSSAttributes:Q=new Set([]),errorHandler:be,onMutation:Oe,getCanvasManager:yt}=e;dS(be);const Ht=w?window.parent===window:!0;let De=!1;if(!Ht)try{window.parent.document&&(De=!1)}catch{De=!0}if(Ht&&!t)throw new Error("emit function is required");if(!Ht&&!De)return()=>{};m!==void 0&&k.mousemove===void 0&&(k.mousemove=m),Pe.reset();const xe=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:E!==void 0?E:{},qe=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:_==="all",headMetaDescKeywords:_==="all"}:_||{};eS();let Bt,Ut=0;const Sn=K=>{for(const Le of oe||[])Le.eventProcessor&&(K=Le.eventProcessor(K));return b&&!De&&(K=b(K)),K};ue=(K,Le)=>{const Y=K;if(Y.timestamp=Gr(),xt([Kt,"access",ae=>ae[0],"optionalAccess",ae=>ae.isFrozen,"call",ae=>ae()])&&Y.type!==U.FullSnapshot&&!(Y.type===U.IncrementalSnapshot&&Y.data.source===$.Mutation)&&Kt.forEach(ae=>ae.unfreeze()),Ht)xt([t,"optionalCall",ae=>ae(Sn(Y),Le)]);else if(De){const ae={type:"rrweb",event:Sn(Y),origin:window.location.origin,isCheckout:Le};window.parent.postMessage(ae,"*")}if(Y.type===U.FullSnapshot)Bt=Y,Ut=0;else if(Y.type===U.IncrementalSnapshot){if(Y.data.source===$.Mutation&&Y.data.isAttachIframe)return;Ut++;const ae=r&&Ut>=r,J=n&&Bt&&Y.timestamp-Bt.timestamp>n;(ae||J)&&bs(!0)}};const nt=K=>{ue({type:U.IncrementalSnapshot,data:{source:$.Mutation,...K}})},ne=K=>ue({type:U.IncrementalSnapshot,data:{source:$.Scroll,...K}}),_e=K=>ue({type:U.IncrementalSnapshot,data:{source:$.CanvasMutation,...K}}),Ne=K=>ue({type:U.IncrementalSnapshot,data:{source:$.AdoptedStyleSheet,...K}}),le=new RS({mutationCb:nt,adoptedStyleSheetCb:Ne}),ie=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new TS:new kS({mirror:Pe,mutationCb:nt,stylesheetManager:le,recordCrossOriginIframes:w,wrappedEmit:ue});for(const K of oe||[])K.getMirror&&K.getMirror({nodeMirror:Pe,crossOriginIframeMirror:ie.crossOriginIframeMirror,crossOriginIframeStyleMirror:ie.crossOriginIframeStyleMirror});const Re=new MS,St=OS(yt,{mirror:Pe,win:window,mutationCb:K=>ue({type:U.IncrementalSnapshot,data:{source:$.CanvasMutation,...K}}),recordCanvas:I,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:T,sampling:k.canvas,dataURLOptions:x,errorHandler:be}),Wt=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new CS:new xS({mutationCb:nt,scrollCb:ne,bypassOptions:{onMutation:Oe,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:xe,dataURLOptions:x,maskAttributeFn:v,maskTextFn:R,maskInputFn:A,recordCanvas:I,inlineImages:M,sampling:k,slimDOMOptions:qe,iframeManager:ie,stylesheetManager:le,canvasManager:St,keepIframeSrcFn:L,processedNodeManager:Re},mirror:Pe}),bs=(K=!1)=>{if(!y)return;ue({type:U.Meta,data:{href:window.location.href,width:Il(),height:wl()}},K),le.reset(),Wt.init(),Kt.forEach(Y=>Y.lock());const Le=Zy(document,{mirror:Pe,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:xe,maskAttributeFn:v,maskInputFn:A,maskTextFn:R,slimDOM:qe,dataURLOptions:x,recordCanvas:I,inlineImages:M,onSerialize:Y=>{Cl(Y,Pe)&&ie.addIframe(Y),xl(Y,Pe)&&le.trackLinkElement(Y),uo(Y)&&Wt.addShadowRoot(Y.shadowRoot,document)},onIframeLoad:(Y,ae)=>{ie.attachIframe(Y,ae),Y.contentWindow&&St.addWindow(Y.contentWindow),Wt.observeAttachShadow(Y)},onStylesheetLoad:(Y,ae)=>{le.attachLinkElement(Y,ae)},keepIframeSrcFn:L});if(!Le)return console.warn("Failed to snapshot the document");ue({type:U.FullSnapshot,data:{node:Le,initialOffset:vl(window)}}),Kt.forEach(Y=>Y.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&le.adoptStyleSheets(document.adoptedStyleSheets,Pe.getId(document))};Vr=bs;try{const K=[],Le=ae=>V(IS)({onMutation:Oe,mutationCb:nt,mousemoveCb:(J,bt)=>ue({type:U.IncrementalSnapshot,data:{source:bt,positions:J}}),mouseInteractionCb:J=>ue({type:U.IncrementalSnapshot,data:{source:$.MouseInteraction,...J}}),scrollCb:ne,viewportResizeCb:J=>ue({type:U.IncrementalSnapshot,data:{source:$.ViewportResize,...J}}),inputCb:J=>ue({type:U.IncrementalSnapshot,data:{source:$.Input,...J}}),mediaInteractionCb:J=>ue({type:U.IncrementalSnapshot,data:{source:$.MediaInteraction,...J}}),styleSheetRuleCb:J=>ue({type:U.IncrementalSnapshot,data:{source:$.StyleSheetRule,...J}}),styleDeclarationCb:J=>ue({type:U.IncrementalSnapshot,data:{source:$.StyleDeclaration,...J}}),canvasMutationCb:_e,fontCb:J=>ue({type:U.IncrementalSnapshot,data:{source:$.Font,...J}}),selectionCb:J=>{ue({type:U.IncrementalSnapshot,data:{source:$.Selection,...J}})},customElementCb:J=>{ue({type:U.IncrementalSnapshot,data:{source:$.CustomElement,...J}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:xe,inlineStylesheet:h,sampling:k,recordDOM:y,recordCanvas:I,inlineImages:M,userTriggeredOnInput:G,collectFonts:B,doc:ae,maskAttributeFn:v,maskInputFn:A,maskTextFn:R,keepIframeSrcFn:L,blockSelector:o,unblockSelector:i,slimDOMOptions:qe,dataURLOptions:x,mirror:Pe,iframeManager:ie,stylesheetManager:le,shadowDomManager:Wt,processedNodeManager:Re,canvasManager:St,ignoreCSSAttributes:Q,plugins:xt([oe,"optionalAccess",J=>J.filter,"call",J=>J(bt=>bt.observer),"optionalAccess",J=>J.map,"call",J=>J(bt=>({observer:bt.observer,options:bt.options,callback:Nd=>ue({type:U.Plugin,data:{plugin:bt.name,payload:Nd}})}))])||[]},{});ie.addLoadListener(ae=>{try{K.push(Le(ae.contentDocument))}catch(J){console.warn(J)}});const Y=()=>{bs(),K.push(Le(document))};return document.readyState==="interactive"||document.readyState==="complete"?Y():(K.push(ve("DOMContentLoaded",()=>{ue({type:U.DomContentLoaded,data:{}}),H==="DOMContentLoaded"&&Y()})),K.push(ve("load",()=>{ue({type:U.Load,data:{}}),H==="load"&&Y()},window))),()=>{K.forEach(ae=>ae()),Re.destroy(),Vr=void 0,fS()}}catch(K){console.warn(K)}}function AS(e){if(!Vr)throw new Error("please take full snapshot after start recording");Vr(e)}Xe.mirror=Pe;Xe.takeFullSnapshot=AS;function OS(e,t){try{return e?e(t):new Aa}catch{return console.warn("Unable to initialize CanvasManager"),new Aa}}const DS=3,NS=5;function ci(e){return e>9999999999?e:e*1e3}function Os(e){return e>9999999999?e/1e3:e}function Zn(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:U.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:ns(t,10,1e3)}}),t.category==="console")))}const LS="button,a";function Ll(e){return e.closest(LS)||e}function Pl(e){const t=Fl(e);return!t||!(t instanceof Element)?t:Ll(t)}function Fl(e){return PS(e)?e.target:e}function PS(e){return typeof e=="object"&&!!e&&"target"in e}let at;function FS(e){return at||(at=[],$S()),at.push(e),()=>{const t=at?at.indexOf(e):-1;t>-1&&at.splice(t,1)}}function $S(){Te(se,"open",function(e){return function(...t){if(at)try{at.forEach(n=>n())}catch{}return e.apply(se,t)}})}const HS=new Set([$.Mutation,$.StyleSheetRule,$.StyleDeclaration,$.AdoptedStyleSheet,$.CanvasMutation,$.Selection,$.MediaInteraction]);function BS(e,t,n){e.handleClick(t,n)}class US{constructor(t,n,r=Zn){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=FS(()=>{this._lastMutation=Oa()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(zS(n,this._ignoreSelector)||!jS(t))return;const r={timestamp:Os(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Os(t)}registerScroll(t=Date.now()){this._lastScroll=Os(t)}registerClick(t){const n=Ll(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Oa();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:i,clickBreadcrumb:a}=t;if(o){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:se.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,d);return}if(i>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:se.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=nn(()=>this._checkClicks(),1e3)}}const WS=["A","BUTTON","INPUT"];function zS(e,t){return!!(!WS.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function jS(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Oa(){return Date.now()/1e3}function qS(e,t){try{if(!GS(t))return;const{source:n}=t.data;if(HS.has(n)&&e.registerMutation(t.timestamp),n===$.Scroll&&e.registerScroll(t.timestamp),YS(t)){const{type:r,id:s}=t.data,o=Xe.mirror.getNode(s);o instanceof HTMLElement&&r===Ee.Click&&e.registerClick(o)}}catch{}}function GS(e){return e.type===DS}function YS(e){return e.data.source===$.MouseInteraction}function Ue(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Xr;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Xr||(Xr={}));const VS=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function XS(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(VS.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const KS=e=>t=>{if(!e.isEnabled())return;const n=JS(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&BS(e.clickDetector,n,Pl(t.event)),Zn(e,n)};function $l(e,t){const n=Xe.mirror.getId(e),r=n&&Xe.mirror.getNode(n),s=r&&Xe.mirror.getMeta(r),o=s&&QS(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(i=>i.type===Xr.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:XS(o.attributes)}}:{}}}function JS(e){const{target:t,message:n}=ZS(e);return Ue({category:`ui.${e.name}`,...$l(t,n)})}function ZS(e){const t=e.name==="click";let n,r=null;try{r=t?Pl(e.event):Fl(e.event),n=ht(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function QS(e){return e.type===Xr.Element}function eb(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=tb(t);n&&Zn(e,n)}function tb(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||nb(i)||!o)return null;const a=t||r||s,c=o.length===1;if(!a&&c)return null;const u=ht(i,{maxStringLength:200})||"<unknown>",d=$l(i,u);return Ue({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function nb(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const rb={resource:cb,paint:ib,navigation:ab};function lr(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function sb(e){return e.map(ob).filter(Boolean)}function ob(e){const t=rb[e.entryType];return t?t(e):null}function an(e){return((Se||se.performance.timeOrigin)+e)/1e3}function ib(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=an(s);return{type:n,name:r,start:o,end:o+t,data:void 0}}function ab(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:h,type:g}=e;return s===0?null:{type:`${t}.${g}`,start:an(p),end:an(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:o,redirectCount:f}}}function cb(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:an(o),end:an(s),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function ub(e){const t=e.entries[e.entries.length-1],n=t&&t.element?[t.element]:void 0;return hs(e,"largest-contentful-paint",n)}function lb(e){return e.sources!==void 0}function db(e){const t=[],n=[];for(const r of e.entries)if(lb(r)){const s=[];for(const o of r.sources)if(o.node){n.push(o.node);const i=Xe.mirror.getId(o.node);i&&s.push(i)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return hs(e,"cumulative-layout-shift",n,t)}function fb(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return hs(e,"first-input-delay",n)}function pb(e){const t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return hs(e,"interaction-to-next-paint",n)}function hs(e,t,n,r){const s=e.value,o=e.rating,i=an(s);return{type:"web-vital",name:t,start:i,end:i,data:{value:s,size:s,rating:o,nodeIds:n?n.map(a=>Xe.mirror.getId(a)):void 0,attributions:r}}}function hb(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(tn(s,n))}),r.push(Uu(lr(ub,e)),Xo(lr(db,e)),Wu(lr(fb,e)),zu(lr(pb,e))),()=>{r.forEach(s=>s())}}const N=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,mb='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function gb(){const e=new Blob([mb]);return URL.createObjectURL(e)}const Da=["info","warn","error","log"],br="[Replay] ";function Ds(e,t="info"){je({category:"console",data:{logger:"replay"},level:t,message:`${br}${e}`},{level:t})}function _b(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=r.captureExceptions,t=r.traceInternals}};return N?(Da.forEach(r=>{n[r]=(...s)=>{S[r](br,...s),t&&Ds(s.join(""),Wo(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),S.error(br,r),e?os(r):t&&Ds(r,"error")},n.infoTick=(...r)=>{S.info(br,...r),t&&setTimeout(()=>Ds(r[0]),0)}):Da.forEach(r=>{n[r]=()=>{}}),n}const P=_b();class ui extends Error{constructor(){super(`Event buffer exceeded maximum size of ${ni}.`)}}class Hl{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>ni)throw new ui;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?ci(t):null}}class yb{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){N&&P.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const i=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",i),!c.success){N&&P.error("Error in compression worker: ",c.response),o(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Sb{constructor(t){this._worker=new yb(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=ci(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>ni?Promise.reject(new ui):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{N&&P.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class bb{constructor(t){this._fallback=new Hl,this._compression=new Sb(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){N&&P.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const o of t)s.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(o){N&&P.exception(o,"Failed to add events when switching buffers.")}}}function Eb({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=vb(t);if(n)return n}return N&&P.info("Using simple buffer"),new Hl}function vb(e){try{const t=e||wb();if(!t)return;N&&P.info(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new bb(n)}catch(t){N&&P.exception(t,"Failed to create compression worker")}}function wb(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?gb():""}function li(){try{return"sessionStorage"in se&&!!se.sessionStorage}catch{return!1}}function Ib(e){Tb(),e.session=void 0}function Tb(){if(li())try{se.sessionStorage.removeItem(ei)}catch{}}function Bl(e){return e===void 0?!1:Math.random()<e}function Ul(e){const t=Date.now(),n=e.id||Tt(),r=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:i,previousSessionId:a}}function di(e){if(li())try{se.sessionStorage.setItem(ei,JSON.stringify(e))}catch{}}function kb(e,t){return Bl(e)?"session":t?"buffer":!1}function Na({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=kb(e,t),o=Ul({sampled:s,previousSessionId:r});return n&&di(o),o}function Cb(){if(!li())return null;try{const e=se.sessionStorage.getItem(ei);if(!e)return null;const t=JSON.parse(e);return N&&P.infoTick("Loading existing session"),Ul(t)}catch{return null}}function po(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Wl(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return po(e.started,t,r)||po(e.lastActivity,n,r)}function zl(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Wl(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Ns({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&Cb();return s?zl(s,{sessionIdleExpire:e,maxReplayDuration:t})?(N&&P.infoTick("Session in sessionStorage is expired, creating new one..."),Na(r,{previousSessionId:s.id})):s:(N&&P.infoTick("Creating new session"),Na(r,{previousSessionId:n}))}function xb(e){return e.type===U.Custom}function fi(e,t,n){return ql(e,t)?(jl(e,t,n),!0):!1}function Rb(e,t,n){return ql(e,t)?jl(e,t,n):Promise.resolve(null)}async function jl(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=e.getOptions(),i=Mb(t,o.beforeAddRecordingEvent);return i?await r.addEvent(i):void 0}catch(o){const i=o&&o instanceof ui,a=i?"addEventSizeExceeded":"addEvent";if(i&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:a});const c=O();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function ql(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=ci(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(N&&P.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Mb(e,t){try{if(typeof t=="function"&&xb(e))return t(e)}catch(n){return N&&P.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function pi(e){return!e.type}function ho(e){return e.type==="transaction"}function Ab(e){return e.type==="replay_event"}function La(e){return e.type==="feedback"}function Ob(e){return(t,n)=>{if(!e.isEnabled()||!pi(t)&&!ho(t))return;const r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(ho(t)){Db(e,t);return}Nb(e,t)}}}function Db(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function Nb(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||nn(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function Lb(e){return t=>{!e.isEnabled()||!pi(t)||Pb(e,t)}}function Pb(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Ue({category:"replay.hydrate-error",data:{url:Do()}});Zn(e,r)}}function Fb(e){const t=O();t&&t.on("beforeAddBreadcrumb",n=>$b(e,n))}function $b(e,t){if(!e.isEnabled()||!Gl(t))return;const n=Hb(t);n&&Zn(e,n)}function Hb(e){return!Gl(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?Bb(e):Ue(e)}function Bb(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Ue(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>ar?(n=!0,`${s.slice(0,ar)}`):s;if(typeof s=="object")try{const o=ns(s,7);return JSON.stringify(o).length>ar?(n=!0,`${JSON.stringify(o,null,2).slice(0,ar)}`):o}catch{}return s});return Ue({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Gl(e){return!!e.category}function Ub(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function Yl(){const e=X().getPropagationContext().dsc;e&&delete e.replay_id;const t=fe();if(t){const n=fn(t);delete n.replay_id}}function Wb(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:U.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function zb(e,t){return e.recordingMode!=="buffer"||t.message===ti||!t.exception||t.type?!1:Bl(e.getOptions().errorSampleRate)}function jb(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:Ab(t)?(delete t.breadcrumbs,t):!pi(t)&&!ho(t)&&!La(t)?t:e.checkAndHandleExpiredSession()?La(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),Wb(e,t),t):Ub(t,n)&&!e.getOptions()._experiments.captureExceptions?(N&&P.log("Ignoring error from rrweb internals",t),null):((zb(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(Yl(),t),{id:"Replay"})}function ms(e,t){return t.map(({type:n,start:r,end:s,name:o,data:i})=>{const a=e.throttledAddEvent({type:U.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function qb(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function Gb(e){return t=>{if(!e.isEnabled())return;const n=qb(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(ms(e,[n]),!1)))}}function Yb(e,t){return N&&e.getOptions()._experiments.traceInternals?!1:cu(t,O())}function Vl(e,t){e.isEnabled()&&t!==null&&(Yb(e,t.name)||e.addUpdate(()=>(ms(e,[t]),!0)))}function gs(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Zl(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Xl(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Kl(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Zl(e)];if(!e)return[void 0]}catch(t){return N&&P.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return N&&P.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Kr(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Jl(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:ze({method:o,statusCode:i,request:a,response:c})}}function Bn(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function ft(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=Vb(n);return r.body=s,o&&o.length>0&&(r._meta={warnings:o}),r}function mo(e,t){return Object.entries(e).reduce((n,[r,s])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=s),n},{})}function Zl(e){return new URLSearchParams(e).toString()}function Vb(e){if(!e||typeof e!="string")return{body:e};const t=e.length>ma,n=Xb(e);if(t){const r=e.slice(0,ma);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function Xb(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Jr(e,t){const n=Kb(e);return dt(n,t)}function Kb(e,t=se.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(se.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function Jb(e,t,n){try{const r=await Qb(e,t,n),s=Jl("resource.fetch",r);Vl(n.replay,s)}catch(r){N&&P.exception(r,"Failed to capture fetch breadcrumb")}}function Zb(e,t){const{input:n,response:r}=t,s=n?Ql(n):void 0,o=gs(s),i=r?Xl(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}async function Qb(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=Jr(i,n.networkDetailAllowUrls)&&!Jr(i,n.networkDetailDenyUrls),f=l?eE(n,t.input,u):Bn(u),p=await tE(l,n,t.response,d);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:c,request:f,response:p}}function eE({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?sE(n,t):{};if(!e)return ft(s,r,void 0);const o=Ql(n),[i,a]=Kl(o),c=ft(s,r,i);return a?Kr(c,a):c}async function tE(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return Bn(s);const o=r?ed(r.headers,n):{};if(!r||!t&&s!==void 0)return ft(o,s,void 0);const[i,a]=await rE(r),c=nE(i,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:o});return a?Kr(c,a):c}function nE(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const o=e&&e.length&&n===void 0?gs(e):n;return r?t?ft(s,o,e):ft(s,o,void 0):Bn(o)}catch(o){return N&&P.exception(o,"Failed to serialize response body"),ft(s,n,void 0)}}async function rE(e){const t=oE(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await iE(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(N&&P.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(N&&P.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function Ql(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function ed(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function sE(e,t){return e.length===1&&typeof e[0]!="string"?Pa(e[0],t):e.length===2?Pa(e[1],t):{}}function Pa(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?ed(n,t):Array.isArray(n)?{}:mo(n,t):{}}function oE(e){try{return e.clone()}catch(t){N&&P.exception(t,"Failed to clone response body")}}function iE(e){return new Promise((t,n)=>{const r=nn(()=>n(new Error("Timeout while trying to read response body")),500);aE(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function aE(e){return await e.text()}async function cE(e,t,n){try{const r=lE(e,t,n),s=Jl("resource.xhr",r);Vl(n.replay,s)}catch(r){N&&P.exception(r,"Failed to capture xhr breadcrumb")}}function uE(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=gs(r),o=n.getResponseHeader("content-length")?Xl(n.getResponseHeader("content-length")):hE(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function lE(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!Jr(c,n.networkDetailAllowUrls)||Jr(c,n.networkDetailDenyUrls)){const b=Bn(l),k=Bn(f);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:b,response:k}}const p=a[ut],h=p?mo(p.request_headers,n.networkRequestHeaders):{},g=mo(dE(a),n.networkResponseHeaders),[E,_]=n.networkCaptureBodies?Kl(i):[void 0],[v,A]=n.networkCaptureBodies?fE(a):[void 0],R=ft(h,l,E),T=ft(g,f,v);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:_?Kr(R,_):R,response:A?Kr(T,A):T}}function dE(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return o&&(n[s.toLowerCase()]=o),n},{}):{}}function fE(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return pE(e.response,e.responseType)}catch(n){t.push(n)}return N&&P.warn("Failed to get xhr response body",...t),[void 0]}function pE(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return N&&P.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return N&&P.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function hE(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return gs(n)}catch{return}}function mE(e){const t=O();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(c,u)=>gE(a,c,u))}catch{}}function gE(e,t,n){if(t.data)try{_E(t)&&SE(n)&&(uE(t,n),cE(t,n,e)),yE(t)&&bE(n)&&(Zb(t,n),Jb(t,n,e))}catch(r){N&&P.exception(r,"Error when enriching network breadcrumb")}}function _E(e){return e.category==="xhr"}function yE(e){return e.category==="fetch"}function SE(e){return e&&e.xhr}function bE(e){return e&&e.response}function EE(e){const t=O();Yu(KS(e)),ls(Gb(e)),Fb(e),mE(e);const n=jb(e);Fc(n),t&&(t.on("beforeSendEvent",Lb(e)),t.on("afterSendEvent",Ob(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,s)=>{const o=e.getSessionId();s&&s.includeReplay&&e.isEnabled()&&o&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=o)}))}async function vE(e){try{return Promise.all(ms(e,[wE(se.performance.memory)]))}catch{return[]}}function wE(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function IE(e,t,n){let r,s,o;const i=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function u(){return s!==void 0||o!==void 0?a():r}function d(){return s&&clearTimeout(s),s=nn(a,t),i&&o===void 0&&(o=nn(a,i)),r}return d.cancel=c,d.flush=u,d}function TE(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){N&&P.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&qS(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!fi(e,n,s))return!0;if(!s)return!1;const o=e.session;if(CE(e,s),e.recordingMode==="buffer"&&o&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(N&&P.info(`Updating session start time to earliest event in buffer to ${new Date(i)}`),o.started=i,e.getOptions().stickySession&&di(o))}return o&&o.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function kE(e){const t=e.getOptions();return{type:U.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function CE(e,t){!t||!e.session||e.session.segmentId!==0||fi(e,kE(e),!1)}function xE(e,t,n,r){return tt(Gc(e,Po(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function RE({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function ME({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:s};e.emit("preprocessEvent",r,o);const i=await kc(e.getOptions(),r,o,t,e,et());if(!i)return null;i.platform=i.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return i.sdk={...i.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},i}async function AE({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=RE({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=O(),f=X(),p=l&&l.getTransport(),h=l&&l.getDsn();if(!l||!p||!h||!o.sampled)return Ke({});const g={type:ly,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},E=await ME({scope:f,client:l,replayId:t,event:g});if(!E)return l.recordDroppedEvent("event_processor","replay",g),N&&P.info("An event processor returned `null`, will not send event."),Ke({});delete E.sdkProcessingMetadata;const _=xE(E,i,h,l.getOptions().tunnel);let v;try{v=await p.send(_)}catch(R){const T=new Error(ti);try{T.cause=R}catch{}throw T}if(typeof v.statusCode=="number"&&(v.statusCode<200||v.statusCode>=300))throw new td(v.statusCode);const A=ou({},v);if(su(A,"replay"))throw new hi(A);return v}class td extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class hi extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function nd(e,t={count:0,interval:gy}){const{recordingData:n,onError:r}=e;if(n.length)try{return await AE(e),!0}catch(s){if(s instanceof td||s instanceof hi)throw s;if(Mo("Replays",{_retryCount:t.count}),r&&r(s),t.count>=_y){const o=new Error(`${ti} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,i)=>{nn(async()=>{try{await nd(e,t),o(!0)}catch(a){i(a)}},t.interval)})}}const rd="__THROTTLED",OE="__SKIPPED";function DE(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},o=()=>[...r.values()].reduce((a,c)=>a+c,0);let i=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),o()>=t){const d=i;return i=!0,d?OE:rd}i=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class ct{constructor({options:t,recordingOptions:n}){ct.prototype.__init.call(this),ct.prototype.__init2.call(this),ct.prototype.__init3.call(this),ct.prototype.__init4.call(this),ct.prototype.__init5.call(this),ct.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:dy,sessionIdleExpire:fy},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=IE(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=DE((i,a)=>Rb(this,i,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(yy,r),timeout:r,scrollTimeout:Sy,ignoreSelector:s?s.join(","):""}:void 0;if(o&&(this.clickDetector=new US(this,o)),N){const i=t._experiments;P.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){N&&P.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){N&&P.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",N&&P.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){N&&P.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){N&&P.info("Buffering is in progress, call `flush()` to save the replay");return}N&&P.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Ns({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){N&&P.info("Buffering is in progress, call `flush()` to save the replay");return}N&&P.infoTick("Starting replay in buffer mode");const t=Ns({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Xe({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:my}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:TE(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{N&&P.info(`Stopping Replay${n?` triggered by ${n}`:""}`),Yl(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Ib(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),N&&P.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),N&&P.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();N&&P.info("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&po(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${se.location.pathname}${se.location.hash}${se.location.search}`,n=`${se.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===rd){const s=Ue({category:"replay.throttled"});this.addUpdate(()=>!fi(this,{type:NS,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||fe(),n=t&&me(t),s=(n&&j(n).data||{})[Be];if(!(!n||!s||!["route","custom"].includes(s)))return j(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Eb({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Ns({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return zl(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{se.document.addEventListener("visibilitychange",this._handleVisibilityChange),se.addEventListener("blur",this._handleWindowBlur),se.addEventListener("focus",this._handleWindowFocus),se.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(EE(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=hb(this)}_removeListeners(){try{se.document.removeEventListener("visibilitychange",this._handleVisibilityChange),se.removeEventListener("blur",this._handleWindowBlur),se.removeEventListener("focus",this._handleWindowFocus),se.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{se.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Ue({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Ue({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{eb(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Wl(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){N&&P.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:U.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=sb(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(ms(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){N&&P.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await vE(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await nd({replayId:t,recordingData:o,segmentId:s,eventContext:r,session:this.session,timestamp:n,onError:i=>this.handleException(i)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=O();if(r){const s=n instanceof hi?"ratelimit_backoff":"send_error";r.recordDroppedEvent(s,"replay")}}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){N&&P.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,i=s>this._options.maxReplayDuration+5e3;if(o||i){N&&P.info(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&N&&P.info("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&di(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,o=r&&n>r;if(n>s||o){const i=Ue({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(i)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function bn(e,t){return[...e,...t].join(",")}function NE({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const o=["base","iframe[srcdoc]:not([src])"],i=bn(e,[".sentry-mask","[data-sentry-mask]"]),a=bn(t,[]);return{maskTextSelector:i,unmaskTextSelector:a,blockSelector:bn(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:bn(r,[]),ignoreSelector:bn(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function LE({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const Fa='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',PE=["content-length","content-type","accept"];let $a=!1;const FE=e=>new _s(e);class _s{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=py,flushMaxDelay:n=hy,minReplayDuration:r=by,maxReplayDuration:s=ga,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:E=[],networkDetailDenyUrls:_=[],networkCaptureBodies:v=!0,networkRequestHeaders:A=[],networkResponseHeaders:R=[],mask:T=[],maskAttributes:b=["title","placeholder"],unmask:k=[],block:x=[],unblock:m=[],ignore:y=[],maskFn:I,beforeAddRecordingEvent:w,beforeErrorSampling:H,onError:G}={}){this.name=_s.id;const B=NE({mask:T,unmask:k,block:x,unblock:m,ignore:y});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(M,oe,L)=>LE({maskAttributes:b,maskAllText:u,privacyOptions:B,key:M,value:oe,el:L}),...B,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:M=>{try{M.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Ey),maxReplayDuration:Math.min(s,ga),stickySession:o,useCompression:i,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:h,slowClickIgnoreSelectors:g,networkDetailAllowUrls:E,networkDetailDenyUrls:_,networkCaptureBodies:v,networkRequestHeaders:Ha(A),networkResponseHeaders:Ha(R),beforeAddRecordingEvent:w,beforeErrorSampling:H,onError:G,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Fa}`:Fa),this._isInitialized&&Zs())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return $a}set _isInitialized(t){$a=t}afterAllSetup(t){!Zs()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=$E(this._initialOptions,t);this._replay=new ct({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}_s.__initStatic();function $E(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...ze(e)},s=Pr(n.replaysSessionSampleRate),o=Pr(n.replaysOnErrorSampleRate);return s==null&&o==null&&Lt(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),o!=null&&(r.errorSampleRate=o),r}function Ha(e){return[...PE,...e.map(t=>t.toLowerCase())]}function HE(){const e=O();return e&&e.getIntegrationByName("Replay")}var Ba;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Ba||(Ba={}));function BE(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function go(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:go(e.parentNode,t,n,r+1)}function Ua(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(BE(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const Gt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Wa={map:{},getId(){return console.error(Gt),-1},getNode(){return console.error(Gt),null},removeNodeFromMap(){console.error(Gt)},has(){return console.error(Gt),!1},reset(){console.error(Gt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Wa=new Proxy(Wa,{get(e,t,n){return t==="map"&&console.error(Gt),Reflect.get(e,t,n)}}));function mi(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){od(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>mi(e,t,o||{},!0)}function gi(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function UE(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function ys(e,t,n,r,s){if(!e)return!1;const o=UE(e);if(!o)return!1;const i=Ua(t,n),a=go(o,i);let c=-1;return a<0?!1:(r&&(c=go(o,Ua(null,r))),a>-1&&c<0?!0:a<c)}const za={};function sd(e){const t=za[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return za[e]=r.bind(window)}function Et(...e){return sd("requestAnimationFrame")(...e)}function od(...e){return sd("setTimeout")(...e)}var cn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(cn||{});let Er;function WE(e){Er=e}const Ls=e=>Er?(...n)=>{try{return e(...n)}catch(r){if(Er&&Er(r)===!0)return()=>{};throw r}}:e;var Jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zE=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dr=0;dr<Jt.length;dr++)zE[Jt.charCodeAt(dr)]=dr;var jE=function(e){var t=new Uint8Array(e),n,r=t.length,s="";for(n=0;n<r;n+=3)s+=Jt[t[n]>>2],s+=Jt[(t[n]&3)<<4|t[n+1]>>4],s+=Jt[(t[n+1]&15)<<2|t[n+2]>>6],s+=Jt[t[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const ja=new Map;function qE(e,t){let n=ja.get(e);return n||(n=new Map,ja.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const id=(e,t,n)=>{if(!e||!(cd(e,t)||typeof e=="object"))return;const r=e.constructor.name,s=qE(n,r);let o=s.indexOf(e);return o===-1&&(o=s.length,s.push(e)),o};function vr(e,t,n){if(e instanceof Array)return e.map(r=>vr(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,s=jE(e);return{rr_type:r,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[vr(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:s}=e;return{rr_type:r,src:s}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",s=e.toDataURL();return{rr_type:r,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[vr(e.data,t,n),e.width,e.height]};if(cd(e,t)||typeof e=="object"){const r=e.constructor.name,s=id(e,t,n);return{rr_type:r,index:s}}}}return e}const ad=(e,t,n)=>e.map(r=>vr(r,t,n)),cd=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function GE(e,t,n,r,s){const o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=gi(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return ys(this.canvas,n,r,s,!0)||od(()=>{const l=ad(d,t,this);e(this.canvas,{type:cn["2D"],property:a,args:l})},0),u.apply(this,d)}});o.push(c)}catch{const u=mi(t.CanvasRenderingContext2D.prototype,a,{set(d){e(this.canvas,{type:cn["2D"],property:a,args:[d],setter:!0})}});o.push(u)}return()=>{o.forEach(a=>a())}}function YE(e){return e==="experimental-webgl"?"webgl":e}function qa(e,t,n,r,s){const o=[];try{const i=gi(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!ys(this,t,n,r,!0)){const d=YE(c);if("__context"in this||(this.__context=d),s&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){const l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(i=>i())}}function Ga(e,t,n,r,s,o,i,a){const c=[],u=Object.getOwnPropertyNames(e);for(const d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;const l=gi(e,d,function(f){return function(...p){const h=f.apply(this,p);if(id(h,a,this),"tagName"in this.canvas&&!ys(this.canvas,r,s,o,!0)){const g=ad(p,a,this),E={type:t,property:d,args:g};n(this.canvas,E)}return h}});c.push(l)}catch{const f=mi(e,d,{set(p){n(this.canvas,{type:t,property:d,args:[p],setter:!0})}});c.push(f)}return c}function VE(e,t,n,r,s,o){const i=[];return i.push(...Ga(t.WebGLRenderingContext.prototype,cn.WebGL,e,n,r,s,o,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(...Ga(t.WebGL2RenderingContext.prototype,cn.WebGL2,e,n,r,s,o,t)),()=>{i.forEach(a=>a())}}var XE='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function KE(){const e=new Blob([XE]);return URL.createObjectURL(e)}class JE{reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,xt([this,"access",t=>t.worker,"optionalAccess",t=>t.terminate,"call",t=>t()]),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.processMutation=(l,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(f)};const{sampling:n="all",win:r,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:d}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,d&&WE(d),(c&&typeof n=="number"||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t.enableManualSnapshot&&Ls(()=>{c&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,s,o,i,a,{dataURLOptions:u})})()}addWindow(t){const{sampling:n="all",blockClass:r,blockSelector:s,unblockSelector:o,recordCanvas:i,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}Ls(()=>{if(i&&n==="all"&&this.initCanvasMutationObserver(t,r,s,o),i&&typeof n=="number"){const c=qa(t,r,s,o,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){const t=new Worker(KE());return t.onmessage=n=>{const r=n.data,{id:s}=r;if(this.snapshotInProgressMap.set(s,!1),!("base64"in r))return;const{base64:o,type:i,width:a,height:c}=r;this.mutationCb({id:s,type:cn["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:o}],type:i}]},0,0,a,c]}]})},t}initCanvasFPSObserver(t,n,r,s,o,i){const a=this.takeSnapshot(!1,t,n,r,s,o,i.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(t,n,r,s){const o=qa(t,n,r,s,!1),i=GE(this.processMutation.bind(this),t,n,r,s),a=VE(this.processMutation.bind(this),t,n,r,s,this.mirror);this.restoreHandlers.push(()=>{o(),i(),a()})}snapshot(t){const{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.restoreHandlers.push(()=>{cancelAnimationFrame(r)})}takeSnapshot(t,n,r,s,o,i,a,c){const u=1e3/n;let d=0,l;const f=h=>{if(h)return[h];const g=[],E=_=>{_.querySelectorAll("canvas").forEach(v=>{ys(v,r,s,o)||g.push(v)})};for(const _ of this.windows){const v=_.deref();v&&E(v.document)}for(const _ of this.shadowDoms){const v=_.deref();v&&E(v)}return g},p=h=>{if(this.windows.length){if(d&&h-d<u){l=Et(p);return}d=h,f(c).forEach(g=>{if(!this.mirror.hasNode(g))return;const E=this.mirror.getId(g);if(!this.snapshotInProgressMap.get(E)&&!(!g.width||!g.height)){if(this.snapshotInProgressMap.set(E,!0),!t&&["webgl","webgl2"].includes(g.__context)){const _=g.getContext(g.__context);xt([_,"optionalAccess",v=>v.getContextAttributes,"call",v=>v(),"optionalAccess",v=>v.preserveDrawingBuffer])===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(g).then(_=>{xt([this,"access",v=>v.worker,"optionalAccess",v=>v.postMessage,"call",v=>v({id:E,bitmap:_,width:g.width,height:g.height,dataURLOptions:a,maxCanvasSize:i},[_])])}).catch(_=>{Ls(()=>{throw _})()})}}),t||(l=Et(p))}};return l=Et(p),l}startPendingCanvasMutationFlusher(){Et(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,Et(t)};Et(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Et(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const s=r.map(i=>{const{type:a,...c}=i;return c}),{type:o}=r[0];this.mutationCb({id:n,type:o,commands:s}),this.pendingCanvasMutations.delete(t)}}const Ya={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},ZE="ReplayCanvas",fr=1280,QE=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,fr):fr,n?Math.min(n,fr):fr]};let s;const o=new Promise(i=>s=i);return{name:ZE,getOptions(){const{quality:i,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const d=new JE({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return s(d),d},...Ya[i]||Ya.medium}},async snapshot(i){(await o).snapshot(i)}}},ev=QE,We=q,Z=We.document,vn=We.navigator,ud="Report a Bug",tv="Cancel",nv="Send Bug Report",rv="Confirm",sv="Report a Bug",ov="your.email@example.org",iv="Email",av="What's the bug? What did you expect?",cv="Description",uv="Your Name",lv="Name",dv="Thank you for your report!",fv="(required)",pv="Add a screenshot",hv="Remove screenshot",mv="widget",gv="api",_v=5e3,ld=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=O();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&X().setTags(e.tags);const r=wu({source:gv,url:Do(),...e},t);return new Promise((s,o)=>{const i=setTimeout(()=>o("Unable to determine if Feedback was correctly sent."),5e3),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(i),a(),u&&typeof u.statusCode=="number"&&u.statusCode>=200&&u.statusCode<300?s(r):u&&typeof u.statusCode=="number"&&u.statusCode===0?o("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):u&&typeof u.statusCode=="number"&&u.statusCode===403?o("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):o("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},wr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function yv(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(vn.userAgent)||/Macintosh/i.test(vn.userAgent)&&vn.maxTouchPoints&&vn.maxTouchPoints>1||!isSecureContext)}function pr(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen&&t.onFormOpen(),e.onFormOpen&&e.onFormOpen()},onFormClose:()=>{t.onFormClose&&t.onFormClose(),e.onFormClose&&e.onFormClose()},onSubmitSuccess:n=>{t.onSubmitSuccess&&t.onSubmitSuccess(n),e.onSubmitSuccess&&e.onSubmitSuccess(n)},onSubmitError:n=>{t.onSubmitError&&t.onSubmitError(n),e.onSubmitError&&e.onSubmitError(n)},onFormSubmitted:()=>{t.onFormSubmitted&&t.onFormSubmitted(),e.onFormSubmitted&&e.onFormSubmitted()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function Sv(e){const t=Z.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function Ce(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const jt=20,bv="http://www.w3.org/2000/svg";function Ev(){const e=a=>We.document.createElementNS(bv,a),t=Ce(e("svg"),{width:`${jt}`,height:`${jt}`,viewBox:`0 0 ${jt} ${jt}`,fill:"var(--actor-color, var(--foreground))"}),n=Ce(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Ce(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),o=Ce(e("clipPath"),{id:"clip0_57_80"}),i=Ce(e("rect"),{width:`${jt}`,height:`${jt}`,fill:"white"});return o.appendChild(i),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(i),t}function vv({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const s=Z.createElement("button");if(s.type="button",s.className="widget__actor",s.ariaHidden="false",s.ariaLabel=t||e||ud,s.appendChild(Ev()),e){const i=Z.createElement("span");i.appendChild(Z.createTextNode(e)),s.appendChild(i)}const o=Sv(r);return{el:s,appendToDom(){n.appendChild(o),n.appendChild(s)},removeFromDom(){n.removeChild(s),n.removeChild(o)},show(){s.ariaHidden="false"},hide(){s.ariaHidden="true"}}}const dd="rgba(88, 74, 192, 1)",wv={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:dd,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Va={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:dd,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Xa(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function Iv({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const s=Z.createElement("style");return s.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Xa(e==="dark"?{...Va,...t}:{...wv,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Xa({...Va,...t})}
  }
}`:""}
}
`,r&&s.setAttribute("nonce",r),s}const fd=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:s="sentry-feedback",autoInject:o=!0,showBranding:i=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:h,scriptNonce:g,colorScheme:E="system",themeLight:_={},themeDark:v={},addScreenshotButtonLabel:A=pv,cancelButtonLabel:R=tv,confirmButtonLabel:T=rv,emailLabel:b=iv,emailPlaceholder:k=ov,formTitle:x=sv,isRequiredLabel:m=fv,messageLabel:y=cv,messagePlaceholder:I=av,nameLabel:w=lv,namePlaceholder:H=uv,removeScreenshotButtonLabel:G=hv,submitButtonLabel:B=nv,successMessageText:M=dv,triggerLabel:oe=ud,triggerAriaLabel:L="",onFormOpen:Q,onFormClose:be,onSubmitSuccess:Oe,onSubmitError:yt,onFormSubmitted:Ht}={})=>{const De={id:s,autoInject:o,showBranding:i,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:h,scriptNonce:g,colorScheme:E,themeDark:v,themeLight:_,triggerLabel:oe,triggerAriaLabel:L,cancelButtonLabel:R,submitButtonLabel:B,confirmButtonLabel:T,formTitle:x,emailLabel:b,emailPlaceholder:k,messageLabel:y,messagePlaceholder:I,nameLabel:w,namePlaceholder:H,successMessageText:M,isRequiredLabel:m,addScreenshotButtonLabel:A,removeScreenshotButtonLabel:G,onFormClose:be,onFormOpen:Q,onSubmitError:yt,onSubmitSuccess:Oe,onFormSubmitted:Ht};let xe=null,qe=[];const Bt=ne=>{if(!xe){const _e=Z.createElement("div");_e.id=String(ne.id),Z.body.appendChild(_e),xe=_e.attachShadow({mode:"open"}),xe.appendChild(Iv(ne))}return xe},Ut=async ne=>{const _e=ne.enableScreenshot&&yv();let Ne,le;try{Ne=(t?t():await e("feedbackModalIntegration",g))(),Ys(Ne)}catch{throw wr&&S.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const Re=_e?n?n():await e("feedbackScreenshotIntegration",g):void 0;Re&&(le=Re(),Ys(le))}catch{wr&&S.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const ie=Ne.createDialog({options:{...ne,onFormClose:()=>{ie&&ie.close(),ne.onFormClose&&ne.onFormClose()},onFormSubmitted:()=>{ie&&ie.close(),ne.onFormSubmitted&&ne.onFormSubmitted()}},screenshotIntegration:le,sendFeedback:ld,shadow:Bt(ne)});return ie},Sn=(ne,_e={})=>{const Ne=pr(De,_e),le=typeof ne=="string"?Z.querySelector(ne):typeof ne.addEventListener=="function"?ne:null;if(!le)throw wr&&S.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let ie=null;const Re=async()=>{ie||(ie=await Ut({...Ne,onFormSubmitted:()=>{ie&&ie.removeFromDom(),Ne.onFormSubmitted&&Ne.onFormSubmitted()}})),ie.appendToDom(),ie.open()};le.addEventListener("click",Re);const St=()=>{qe=qe.filter(Wt=>Wt!==St),ie&&ie.removeFromDom(),ie=null,le.removeEventListener("click",Re)};return qe.push(St),St},nt=(ne={})=>{const _e=pr(De,ne),Ne=Bt(_e),le=vv({triggerLabel:_e.triggerLabel,triggerAriaLabel:_e.triggerAriaLabel,shadow:Ne,styleNonce:h});return Sn(le.el,{..._e,onFormOpen(){le.hide()},onFormClose(){le.show()},onFormSubmitted(){le.show()}}),le};return{name:"Feedback",setupOnce(){!Zs()||!De.autoInject||(Z.readyState==="loading"?Z.addEventListener("DOMContentLoaded",()=>nt().appendToDom()):nt().appendToDom())},attachTo:Sn,createWidget(ne={}){const _e=nt(pr(De,ne));return _e.appendToDom(),_e},async createForm(ne={}){return Ut(pr(De,ne))},remove(){xe&&(xe.parentElement&&xe.parentElement.remove(),xe=null),qe.forEach(ne=>ne()),qe=[]}}};function Tv(){const e=O();return e&&e.getIntegrationByName("Feedback")}var Ss,te,pd,vt,Ka,hd,_o,Un={},_i=[],kv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,yi=Array.isArray;function lt(e,t){for(var n in t)e[n]=t[n];return e}function md(e){var t=e.parentNode;t&&t.removeChild(e)}function W(e,t,n){var r,s,o,i={};for(o in t)o=="key"?r=t[o]:o=="ref"?s=t[o]:i[o]=t[o];if(arguments.length>2&&(i.children=arguments.length>3?Ss.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)i[o]===void 0&&(i[o]=e.defaultProps[o]);return Ir(e,i,r,s,null)}function Ir(e,t,n,r,s){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++pd,__i:-1,__u:0};return s==null&&te.vnode!=null&&te.vnode(o),o}function Qn(e){return e.children}function Tr(e,t){this.props=e,this.context=t}function un(e,t){if(t==null)return e.__?un(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?un(e):null}function Cv(e,t,n){var r,s=e.__v,o=s.__e,i=e.__P;if(i)return(r=lt({},s)).__v=s.__v+1,te.vnode&&te.vnode(r),Si(i,r,s,e.__n,i.ownerSVGElement!==void 0,32&s.__u?[o]:null,t,o??un(s),!!(32&s.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&gd(r),r}function gd(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return gd(e)}}function Ja(e){(!e.__d&&(e.__d=!0)&&vt.push(e)&&!Zr.__r++||Ka!==te.debounceRendering)&&((Ka=te.debounceRendering)||hd)(Zr)}function Zr(){var e,t,n,r=[],s=[];for(vt.sort(_o);e=vt.shift();)e.__d&&(n=vt.length,t=Cv(e,r,s)||t,n===0||vt.length>n?(yo(r,t,s),s.length=r.length=0,t=void 0,vt.sort(_o)):t&&te.__c&&te.__c(t,_i));t&&yo(r,t,s),Zr.__r=0}function _d(e,t,n,r,s,o,i,a,c,u,d){var l,f,p,h,g,E=r&&r.__k||_i,_=t.length;for(n.__d=c,xv(n,t,E),c=n.__d,l=0;l<_;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?Un:E[p.__i]||Un,p.__i=l,Si(e,p,f,s,o,i,a,c,u,d),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&bi(f.ref,null,p),d.push(p.ref,p.__c||h,p)),g==null&&h!=null&&(g=h),65536&p.__u||f.__k===p.__k?c=yd(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=g}function xv(e,t,n){var r,s,o,i,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(s=e.__k[r]=(s=t[r])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Ir(null,s,null,null,s):yi(s)?Ir(Qn,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?Ir(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=e,s.__b=e.__b+1,a=Rv(s,n,i=r+l,d),s.__i=a,o=null,a!==-1&&(d--,(o=n[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&l--,typeof s.type!="function"&&(s.__u|=65536)):a!==i&&(a===i+1?l++:a>i?d>c-i?l+=a-i:l--:l=a<i&&a==i-1?a-i:0,a!==r+l&&(s.__u|=65536))):(o=n[r])&&o.key==null&&o.__e&&(o.__e==e.__d&&(e.__d=un(o)),So(o,o,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(o=n[r])!=null&&(131072&o.__u)==0&&(o.__e==e.__d&&(e.__d=un(o)),So(o,o))}function yd(e,t,n){var r,s;if(typeof e.type=="function"){for(r=e.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=e,t=yd(r[s],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Rv(e,t,n,r){var s=e.key,o=e.type,i=n-1,a=n+1,c=t[n];if(c===null||c&&s==c.key&&o===c.type)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;i>=0||a<t.length;){if(i>=0){if((c=t[i])&&(131072&c.__u)==0&&s==c.key&&o===c.type)return i;i--}if(a<t.length){if((c=t[a])&&(131072&c.__u)==0&&s==c.key&&o===c.type)return a;a++}}return-1}function Za(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||kv.test(t)?n:n+"px"}function hr(e,t,n,r,s){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Za(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Za(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?ec:Qa,o)):e.removeEventListener(t,o?ec:Qa,o);else{if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Qa(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(te.event?te.event(e):e)}}function ec(e){if(this.l)return this.l[e.type+!0](te.event?te.event(e):e)}function Si(e,t,n,r,s,o,i,a,c,u){var d,l,f,p,h,g,E,_,v,A,R,T,b,k,x,m=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[a=t.__e=n.__e]),(d=te.__b)&&d(t);e:if(typeof m=="function")try{if(_=t.props,v=(d=m.contextType)&&r[d.__c],A=d?v?v.props.value:d.__:r,n.__c?E=(l=t.__c=n.__c).__=l.__E:("prototype"in m&&m.prototype.render?t.__c=l=new m(_,A):(t.__c=l=new Tr(_,A),l.constructor=m,l.render=Av),v&&v.sub(l),l.props=_,l.state||(l.state={}),l.context=A,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),m.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=lt({},l.__s)),lt(l.__s,m.getDerivedStateFromProps(_,l.__s))),p=l.props,h=l.state,l.__v=t,f)m.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(m.getDerivedStateFromProps==null&&_!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(_,A),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(_,l.__s,A)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=_,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(y){y&&(y.__=t)}),R=0;R<l._sb.length;R++)l.__h.push(l._sb[R]);l._sb=[],l.__h.length&&i.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(_,l.__s,A),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,h,g)})}if(l.context=A,l.props=_,l.__P=e,l.__e=!1,T=te.__r,b=0,"prototype"in m&&m.prototype.render){for(l.state=l.__s,l.__d=!1,T&&T(t),d=l.render(l.props,l.state,l.context),k=0;k<l._sb.length;k++)l.__h.push(l._sb[k]);l._sb=[]}else do l.__d=!1,T&&T(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++b<25);l.state=l.__s,l.getChildContext!=null&&(r=lt(lt({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(p,h)),_d(e,yi(x=d!=null&&d.type===Qn&&d.key==null?d.props.children:d)?x:[x],t,n,r,s,o,i,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&i.push(l),E&&(l.__E=l.__=null)}catch(y){t.__v=null,c||o!=null?(t.__e=a,t.__u|=c?160:32,o[o.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),te.__e(y,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Mv(n.__e,t,n,r,s,o,i,c,u);(d=te.diffed)&&d(t)}function yo(e,t,n){for(var r=0;r<n.length;r++)bi(n[r],n[++r],n[++r]);te.__c&&te.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(o){o.call(s)})}catch(o){te.__e(o,s.__v)}})}function Mv(e,t,n,r,s,o,i,a,c){var u,d,l,f,p,h,g,E=n.props,_=t.props,v=t.type;if(v==="svg"&&(s=!0),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!v&&(v?p.localName===v:p.nodeType===3)){e=p,o[u]=null;break}}if(e==null){if(v===null)return document.createTextNode(_);e=s?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,_.is&&_),o=null,a=!1}if(v===null)E===_||a&&e.data===_||(e.data=_);else{if(o=o&&Ss.call(e.childNodes),E=n.props||Un,!a&&o!=null)for(E={},u=0;u<e.attributes.length;u++)E[(p=e.attributes[u]).name]=p.value;for(u in E)p=E[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in _||hr(e,u,null,p,s));for(u in _)p=_[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?h=p:u=="checked"?g=p:u==="key"||a&&typeof p!="function"||E[u]===p||hr(e,u,p,E[u],s);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),_d(e,yi(f)?f:[f],t,n,r,s&&v!=="foreignObject",o,i,o?o[0]:n.__k&&un(n,0),a,c),o!=null)for(u=o.length;u--;)o[u]!=null&&md(o[u]);a||(u="value",h!==void 0&&(h!==e[u]||v==="progress"&&!h||v==="option"&&h!==E[u])&&hr(e,u,h,E[u],!1),u="checked",g!==void 0&&g!==e[u]&&hr(e,u,g,E[u],!1))}return e}function bi(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){te.__e(r,n)}}function So(e,t,n){var r,s;if(te.unmount&&te.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||bi(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){te.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&So(r[s],t,n||typeof e.type!="function");n||e.__e==null||md(e.__e),e.__=e.__e=e.__d=void 0}function Av(e,t,n){return this.constructor(e,n)}function Ov(e,t,n){var r,s,o,i;te.__&&te.__(e,t),s=(r=!1)?null:t.__k,o=[],i=[],Si(t,e=t.__k=W(Qn,null,[e]),s||Un,Un,t.ownerSVGElement!==void 0,s?null:t.firstChild?Ss.call(t.childNodes):null,o,s?s.__e:t.firstChild,r,i),e.__d=void 0,yo(o,e,i)}Ss=_i.slice,te={__e:function(e,t,n,r){for(var s,o,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,r||{}),i=s.__d),i)return s.__E=s}catch(a){e=a}throw e}},pd=0,Tr.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=lt({},this.state),typeof e=="function"&&(e=e(lt({},n),this.props)),e&&lt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Ja(this))},Tr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ja(this))},Tr.prototype.render=Qn,vt=[],hd=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_o=function(e,t){return e.__v.__b-t.__v.__b},Zr.__r=0;var Qe,ee,Ps,tc,ln=0,Sd=[],kr=[],ce=te,nc=ce.__b,rc=ce.__r,sc=ce.diffed,oc=ce.__c,ic=ce.unmount,ac=ce.__;function $t(e,t){ce.__h&&ce.__h(ee,e,ln||t),ln=0;var n=ee.__H||(ee.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:kr}),n.__[e]}function Zt(e){return ln=1,bd(vd,e)}function bd(e,t,n){var r=$t(Qe++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):vd(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ee,!ee.u)){var s=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!o||o.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!o||o.call(this,a,c,u))};ee.u=!0;var o=ee.shouldComponentUpdate,i=ee.componentWillUpdate;ee.componentWillUpdate=function(a,c,u){if(this.__e){var d=o;o=void 0,s(a,c,u),o=d}i&&i.call(this,a,c,u)},ee.shouldComponentUpdate=s}return r.__N||r.__}function Dv(e,t){var n=$t(Qe++,3);!ce.__s&&Ei(n.__H,t)&&(n.__=e,n.i=t,ee.__H.__h.push(n))}function Ed(e,t){var n=$t(Qe++,4);!ce.__s&&Ei(n.__H,t)&&(n.__=e,n.i=t,ee.__h.push(n))}function Nv(e){return ln=5,er(function(){return{current:e}},[])}function Lv(e,t,n){ln=6,Ed(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function er(e,t){var n=$t(Qe++,7);return Ei(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Qt(e,t){return ln=8,er(function(){return e},t)}function Pv(e){var t=ee.context[e.__c],n=$t(Qe++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ee)),t.props.value):e.__}function Fv(e,t){ce.useDebugValue&&ce.useDebugValue(t?t(e):e)}function $v(e){var t=$t(Qe++,10),n=Zt();return t.__=e,ee.componentDidCatch||(ee.componentDidCatch=function(r,s){t.__&&t.__(r,s),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Hv(){var e=$t(Qe++,11);if(!e.__){for(var t=ee.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Bv(){for(var e;e=Sd.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Cr),e.__H.__h.forEach(bo),e.__H.__h=[]}catch(t){e.__H.__h=[],ce.__e(t,e.__v)}}ce.__b=function(e){ee=null,nc&&nc(e)},ce.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),ac&&ac(e,t)},ce.__r=function(e){rc&&rc(e),Qe=0;var t=(ee=e.__c).__H;t&&(Ps===ee?(t.__h=[],ee.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=kr,n.__N=n.i=void 0})):(t.__h.forEach(Cr),t.__h.forEach(bo),t.__h=[],Qe=0)),Ps=ee},ce.diffed=function(e){sc&&sc(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Sd.push(t)!==1&&tc===ce.requestAnimationFrame||((tc=ce.requestAnimationFrame)||Uv)(Bv)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==kr&&(n.__=n.__V),n.i=void 0,n.__V=kr})),Ps=ee=null},ce.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Cr),n.__h=n.__h.filter(function(r){return!r.__||bo(r)})}catch(r){t.some(function(s){s.__h&&(s.__h=[])}),t=[],ce.__e(r,n.__v)}}),oc&&oc(e,t)},ce.unmount=function(e){ic&&ic(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Cr(r)}catch(s){t=s}}),n.__H=void 0,t&&ce.__e(t,n.__v))};var cc=typeof requestAnimationFrame=="function";function Uv(e){var t,n=function(){clearTimeout(r),cc&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);cc&&(t=requestAnimationFrame(n))}function Cr(e){var t=ee,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ee=t}function bo(e){var t=ee;e.__c=e.__(),ee=t}function Ei(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function vd(e,t){return typeof t=="function"?t(e):t}const Wv={__proto__:null,useCallback:Qt,useContext:Pv,useDebugValue:Fv,useEffect:Dv,useErrorBoundary:$v,useId:Hv,useImperativeHandle:Lv,useLayoutEffect:Ed,useMemo:er,useReducer:bd,useRef:Nv,useState:Zt},zv="http://www.w3.org/2000/svg";function jv(){const e=r=>Z.createElementNS(zv,r),t=Ce(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=Ce(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function qv({options:e}){const t=er(()=>({__html:jv().outerHTML}),[]);return W("h2",{class:"dialog__header"},W("span",{class:"dialog__title"},e.formTitle),e.showBranding?W("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function Gv(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function Fs(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function Yv({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:s,onSubmitSuccess:o,onSubmitError:i,showEmail:a,showName:c,screenshotInput:u}){const{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:g,isEmailRequired:E,isNameRequired:_,messageLabel:v,messagePlaceholder:A,nameLabel:R,namePlaceholder:T,submitButtonLabel:b,isRequiredLabel:k}=e,[x,m]=Zt(null),[y,I]=Zt(!1),w=u&&u.input,[H,G]=Zt(null),B=Qt(L=>{G(L),I(!1)},[]),M=Qt(L=>{const Q=Gv(L,{emailLabel:h,isEmailRequired:E,isNameRequired:_,messageLabel:v,nameLabel:R});return Q.length>0?m(`Please enter in the following required fields: ${Q.join(", ")}`):m(null),Q.length===0},[h,E,_,v,R]),oe=Qt(async L=>{try{if(L.preventDefault(),!(L.target instanceof HTMLFormElement))return;const Q=new FormData(L.target),be=await(u&&y?u.value():void 0),Oe={name:Fs(Q,"name"),email:Fs(Q,"email"),message:Fs(Q,"message"),attachments:be?[be]:void 0};if(!M(Oe))return;try{await s({name:Oe.name,email:Oe.email,message:Oe.message,source:mv,tags:d},{attachments:Oe.attachments}),o(Oe)}catch(yt){wr&&S.error(yt),m(yt),i(yt)}}catch{}},[u&&y,o,i]);return W("form",{class:"form",onSubmit:oe},w&&y?W(w,{onError:B}):null,W("div",{class:"form__right","data-sentry-feedback":!0},W("div",{class:"form__top"},x?W("div",{class:"form__error-container"},x):null,c?W("label",{for:"name",class:"form__label"},W($s,{label:R,isRequiredLabel:k,isRequired:_}),W("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:T,required:_,type:"text"})):W("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?W("label",{for:"email",class:"form__label"},W($s,{label:h,isRequiredLabel:k,isRequired:E}),W("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:g,required:E,type:"email"})):W("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),W("label",{for:"message",class:"form__label"},W($s,{label:v,isRequiredLabel:k,isRequired:!0}),W("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:A,required:!0,rows:5})),w?W("label",{for:"screenshot",class:"form__label"},W("button",{class:"btn btn--default",type:"button",onClick:()=>{G(null),I(L=>!L)}},y?f:l),H?W("div",{class:"form__error-container"},H.message):null):null),W("div",{class:"btn-group"},W("button",{class:"btn btn--primary",type:"submit"},b),W("button",{class:"btn btn--default",type:"button",onClick:r},p))))}function $s({label:e,isRequired:t,isRequiredLabel:n}){return W("span",{class:"form__label__text"},e,t&&W("span",{class:"form__label__text--required"},n))}const mr=16,uc=17,Vv="http://www.w3.org/2000/svg";function Xv(){const e=c=>We.document.createElementNS(Vv,c),t=Ce(e("svg"),{width:`${mr}`,height:`${uc}`,viewBox:`0 0 ${mr} ${uc}`,fill:"inherit"}),n=Ce(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Ce(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=Ce(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const o=e("defs"),i=Ce(e("clipPath"),{id:"clip0_57_156"}),a=Ce(e("rect"),{width:`${mr}`,height:`${mr}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),t}function Kv({open:e,onFormSubmitted:t,...n}){const r=n.options,s=er(()=>({__html:Xv().outerHTML}),[]),[o,i]=Zt(null),a=Qt(()=>{o&&(clearTimeout(o),i(null)),t()},[o]),c=Qt(u=>{n.onSubmitSuccess(u),i(setTimeout(()=>{t(),i(null)},_v))},[t]);return W(Qn,null,o?W("div",{class:"success__position",onClick:a},W("div",{class:"success__content"},r.successMessageText,W("span",{class:"success__icon",dangerouslySetInnerHTML:s}))):W("dialog",{class:"dialog",onClick:r.onFormClose,open:e},W("div",{class:"dialog__position"},W("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},W(qv,{options:r}),W(Yv,{...n,onSubmitSuccess:c})))))}const Jv=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,Zv=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,Qv=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,e0=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,t0=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function n0(e){const t=Z.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${Jv}
${Zv}
${Qv}
${e0}
${t0}
`,e&&t.setAttribute("nonce",e),t}function r0(){const e=X().getUser(),t=et().getUser(),n=$c().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}const s0=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const s=r,o=e.useSentryUser,i=r0(),a=Z.createElement("div"),c=n0(e.styleNonce);let u="";const d={get el(){return a},appendToDom(){!s.contains(c)&&!s.contains(a)&&(s.appendChild(c),s.appendChild(a))},removeFromDom(){s.removeChild(a),s.removeChild(c),Z.body.style.overflow=u},open(){f(!0),e.onFormOpen&&e.onFormOpen(),u=Z.body.style.overflow,Z.body.style.overflow="hidden"},close(){f(!1),Z.body.style.overflow=u}},l=t&&t.createInput({h:W,hooks:Wv,dialog:d,options:e}),f=p=>{Ov(W(Kv,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&i&&i[o.name]||"",defaultEmail:o&&i&&i[o.email]||"",onFormClose:()=>{f(!1),e.onFormClose&&e.onFormClose()},onSubmit:n,onSubmitSuccess:h=>{f(!1),e.onSubmitSuccess&&e.onSubmitSuccess(h)},onSubmitError:h=>{e.onSubmitError&&e.onSubmitError(h)},onFormSubmitted:()=>{e.onFormSubmitted&&e.onFormSubmitted()},open:p}),a)};return d}});function o0({h:e}){return function({top:n,left:r,corner:s,onGrabButton:o}){return e("button",{class:`editor__crop-corner editor__crop-corner--${s} `,style:{top:n,left:r},onMouseDown:i=>{i.preventDefault(),o(i,s)},onClick:i=>{i.preventDefault()}})}}function i0(e){const t=Z.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  padding: 10px;
  padding-top: 65px;
  padding-bottom: 65px;
  flex-grow: 1;

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container canvas {
  object-fit: contain;
  position: relative;
}

.editor__crop-btn-group {
  padding: 8px;
  gap: 8px;
  border-radius: var(--menu-border-radius, 6px);
  background: var(--button-primary-background, var(--background));
  width: 175px;
  position: absolute;
}

.editor__crop-corner {
  width: 30px;
  height: 30px;
  position: absolute;
  background: none;
  border: 3px solid #ffffff;
}

.editor__crop-corner--top-left {
  cursor: nwse-resize;
  border-right: none;
  border-bottom: none;
}
.editor__crop-corner--top-right {
  cursor: nesw-resize;
  border-left: none;
  border-bottom: none;
}
.editor__crop-corner--bottom-left {
  cursor: nesw-resize;
  border-right: none;
  border-top: none;
}
.editor__crop-corner--bottom-right {
  cursor: nwse-resize;
  border-left: none;
  border-top: none;
}
`,e&&t.setAttribute("nonce",e),t}function a0({hooks:e}){return function({onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:s,onError:o}){e.useEffect(()=>{(async()=>{n();const a=await vn.mediaDevices.getDisplayMedia({video:{width:We.innerWidth*We.devicePixelRatio,height:We.innerHeight*We.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),c=Z.createElement("video");await new Promise((u,d)=>{c.srcObject=a,c.onloadedmetadata=()=>{r(c),a.getTracks().forEach(l=>l.stop()),u()},c.play().catch(d)}),s()})().catch(o)},[])}}const wn=30,Ye=3,rt=wn+Ye,we=We.devicePixelRatio,En=e=>({x:Math.min(e.startX,e.endX),y:Math.min(e.startY,e.endY),width:Math.abs(e.startX-e.endX),height:Math.abs(e.startY-e.endY)}),Hs=e=>{const t=e.clientHeight,n=e.clientWidth,r=e.width/e.height;let s=t*r,o=t;s>n&&(s=n,o=n/r);const i=(n-s)/2,a=(t-o)/2;return{startX:i,startY:a,endX:s+i,endY:o+a}};function c0({h:e,hooks:t,imageBuffer:n,dialog:r,options:s}){const o=a0({hooks:t});return function({onError:a}){const c=t.useMemo(()=>({__html:i0(s.styleNonce).innerText}),[]),u=o0({h:e}),d=t.useRef(null),l=t.useRef(null),f=t.useRef(null),[p,h]=t.useState({startX:0,startY:0,endX:0,endY:0}),[g,E]=t.useState(!1),[_,v]=t.useState(!1);t.useEffect(()=>{We.addEventListener("resize",A,!1)},[]);function A(){const m=f.current,y=En(Hs(n));if(m){m.width=y.width*we,m.height=y.height*we,m.style.width=`${y.width}px`,m.style.height=`${y.height}px`;const w=m.getContext("2d");w&&w.scale(we,we)}const I=l.current;I&&(I.style.width=`${y.width}px`,I.style.height=`${y.height}px`),h({startX:0,startY:0,endX:y.width,endY:y.height})}t.useEffect(()=>{const m=f.current;if(!m)return;const y=m.getContext("2d");if(!y)return;const I=En(Hs(n)),w=En(p);y.clearRect(0,0,I.width,I.height),y.fillStyle="rgba(0, 0, 0, 0.5)",y.fillRect(0,0,I.width,I.height),y.clearRect(w.x,w.y,w.width,w.height),y.strokeStyle="#ffffff",y.lineWidth=3,y.strokeRect(w.x+1,w.y+1,w.width-2,w.height-2),y.strokeStyle="#000000",y.lineWidth=1,y.strokeRect(w.x+3,w.y+3,w.width-6,w.height-6)},[p]);function R(m,y){E(!1),v(!0);const I=T(y),w=()=>{Z.removeEventListener("mousemove",I),Z.removeEventListener("mouseup",w),E(!0),v(!1)};Z.addEventListener("mouseup",w),Z.addEventListener("mousemove",I)}const T=t.useCallback(m=>function(y){if(!f.current)return;const I=f.current,w=I.getBoundingClientRect(),H=y.clientX-w.x,G=y.clientY-w.y;switch(m){case"top-left":h(B=>({...B,startX:Math.min(Math.max(0,H),B.endX-rt),startY:Math.min(Math.max(0,G),B.endY-rt)}));break;case"top-right":h(B=>({...B,endX:Math.max(Math.min(H,I.width/we),B.startX+rt),startY:Math.min(Math.max(0,G),B.endY-rt)}));break;case"bottom-left":h(B=>({...B,startX:Math.min(Math.max(0,H),B.endX-rt),endY:Math.max(Math.min(G,I.height/we),B.startY+rt)}));break;case"bottom-right":h(B=>({...B,endX:Math.max(Math.min(H,I.width/we),B.startX+rt),endY:Math.max(Math.min(G,I.height/we),B.startY+rt)}));break}},[]),b=t.useRef({initialX:0,initialY:0});function k(m){if(_)return;b.current={initialX:m.clientX,initialY:m.clientY};const y=w=>{const H=f.current;if(!H)return;const G=w.clientX-b.current.initialX,B=w.clientY-b.current.initialY;h(M=>{const oe=Math.max(0,Math.min(M.startX+G,H.width/we-(M.endX-M.startX))),L=Math.max(0,Math.min(M.startY+B,H.height/we-(M.endY-M.startY))),Q=oe+(M.endX-M.startX),be=L+(M.endY-M.startY);return b.current.initialX=w.clientX,b.current.initialY=w.clientY,{startX:oe,startY:L,endX:Q,endY:be}})},I=()=>{Z.removeEventListener("mousemove",y),Z.removeEventListener("mouseup",I)};Z.addEventListener("mousemove",y),Z.addEventListener("mouseup",I)}function x(){const m=Z.createElement("canvas"),y=En(Hs(n)),I=En(p);m.width=I.width*we,m.height=I.height*we;const w=m.getContext("2d");w&&n&&w.drawImage(n,I.x/y.width*n.width,I.y/y.height*n.height,I.width/y.width*n.width,I.height/y.height*n.height,0,0,m.width,m.height);const H=n.getContext("2d");H&&(H.clearRect(0,0,n.width,n.height),n.width=m.width,n.height=m.height,n.style.width=`${I.width}px`,n.style.height=`${I.height}px`,H.drawImage(m,0,0),A())}return o({onBeforeScreenshot:t.useCallback(()=>{r.el.style.display="none"},[]),onScreenshot:t.useCallback(m=>{const y=n.getContext("2d");if(!y)throw new Error("Could not get canvas context");n.width=m.videoWidth,n.height=m.videoHeight,n.style.width="100%",n.style.height="100%",y.drawImage(m,0,0)},[n]),onAfterScreenshot:t.useCallback(()=>{r.el.style.display="block";const m=d.current;m&&m.appendChild(n),A()},[]),onError:t.useCallback(m=>{r.el.style.display="block",a(m)},[])}),e("div",{class:"editor"},e("style",{nonce:s.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__canvas-container",ref:d},e("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:l},e("canvas",{onMouseDown:k,style:{position:"absolute",cursor:g?"move":"auto"},ref:f}),e(u,{left:p.startX-Ye,top:p.startY-Ye,onGrabButton:R,corner:"top-left"}),e(u,{left:p.endX-wn+Ye,top:p.startY-Ye,onGrabButton:R,corner:"top-right"}),e(u,{left:p.startX-Ye,top:p.endY-wn+Ye,onGrabButton:R,corner:"bottom-left"}),e(u,{left:p.endX-wn+Ye,top:p.endY-wn+Ye,onGrabButton:R,corner:"bottom-right"}),e("div",{style:{left:Math.max(0,p.endX-191),top:Math.max(0,p.endY+8),display:g?"flex":"none"},class:"editor__crop-btn-group"},e("button",{onClick:m=>{m.preventDefault(),f.current&&h({startX:0,startY:0,endX:f.current.width/we,endY:f.current.height/we}),E(!1)},class:"btn btn--default"},s.cancelButtonLabel),e("button",{onClick:m=>{m.preventDefault(),x(),E(!1)},class:"btn btn--primary"},s.confirmButtonLabel)))))}}const u0=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const s=Z.createElement("canvas");return{input:c0({h:e,hooks:t,imageBuffer:s,dialog:n,options:r}),value:async()=>{const o=await new Promise(i=>{s.toBlob(i,"image/png")});if(o)return{data:new Uint8Array(await o.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}),l0=fd({lazyLoadIntegration:cl}),Eo=fd({getModalIntegration:()=>s0,getScreenshotIntegration:()=>u0});function d0(e,t=1,n){qn.increment(Gn,e,t,n)}function f0(e,t,n){qn.distribution(Gn,e,t,n)}function p0(e,t,n){qn.set(Gn,e,t,n)}function h0(e,t,n){qn.gauge(Gn,e,t,n)}function m0(e,t,n="second",r){return qn.timing(Gn,e,t,n,r)}const g0={increment:d0,distribution:f0,set:p0,gauge:h0,timing:m0},lc=new WeakMap,Bs=new Map,Dn={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function wd(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:o,enableHTTPTimings:i,tracePropagationTargets:a}={traceFetch:Dn.traceFetch,traceXHR:Dn.traceXHR,trackFetchStreamPerformance:Dn.trackFetchStreamPerformance,...t},c=typeof o=="function"?o:l=>!0,u=l=>b0(l,a),d={};n&&(e.addEventProcessor(l=>(l.type==="transaction"&&l.spans&&l.spans.forEach(f=>{if(f.op==="http.client"){const p=Bs.get(f.span_id);p&&(f.timestamp=p/1e3,Bs.delete(f.span_id))}}),l)),s&&im(l=>{if(l.response){const f=lc.get(l.response);f&&l.endTimestamp&&Bs.set(f,l.endTimestamp)}}),qo(l=>{const f=Kh(l,c,u,d);if(l.response&&l.fetchData.__span&&lc.set(l.response,l.fetchData.__span),f){const p=Id(l.fetchData.url),h=p?Ct(p).host:void 0;f.setAttributes({"http.url":p,"server.address":h})}i&&f&&dc(f)})),r&&Zo(l=>{const f=E0(l,c,u,d);i&&f&&dc(f)})}function _0(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function dc(e){const{url:t}=j(e).data||{};if(!t||typeof t!="string")return;const n=tn("resource",({entries:r})=>{r.forEach(s=>{_0(s)&&s.name.endsWith(t)&&(S0(s).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function y0(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function $e(e=0){return((Se||performance.timeOrigin)+e)/1e3}function S0(e){const{name:t,version:n}=y0(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),Se?[...r,["http.request.redirect_start",$e(e.redirectStart)],["http.request.fetch_start",$e(e.fetchStart)],["http.request.domain_lookup_start",$e(e.domainLookupStart)],["http.request.domain_lookup_end",$e(e.domainLookupEnd)],["http.request.connect_start",$e(e.connectStart)],["http.request.secure_connection_start",$e(e.secureConnectionStart)],["http.request.connection_end",$e(e.connectEnd)],["http.request.request_start",$e(e.requestStart)],["http.request.response_start",$e(e.responseStart)],["http.request.response_end",$e(e.responseEnd)]]:r}function b0(e,t){const n=C.location&&C.location.href;if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const o=r.origin===s;return t?dt(r.toString(),t)||o&&dt(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?dt(e,t):r}}function E0(e,t,n,r){const s=e.xhr,o=s&&s[ut];if(!s||s.__sentry_own_request__||!o)return;const i=At()&&t(o.url);if(e.endTimestamp&&i){const l=s.__sentry_xhr_span_id__;if(!l)return;const f=r[l];f&&o.status_code!==void 0&&(Ro(f,o.status_code),f.end(),delete r[l]);return}const a=Id(o.url),c=a?Ct(a).host:void 0,u=!!fe(),d=i&&u?hn({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":a,url:o.url,"server.address":c,[ge]:"auto.http.browser",[Ot]:"http.client"}}):new _t;return s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d,n(o.url)&&v0(s,At()&&u?d:void 0),d}function v0(e,t){const{"sentry-trace":n,baggage:r}=uu({span:t});n&&w0(e,n,r)}function w0(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function Id(e){try{return new URL(e,C.location.origin).href}catch{return}}function I0(){C&&C.document?C.document.addEventListener("visibilitychange",()=>{const e=fe();if(!e)return;const t=me(e);if(C.document.hidden&&t){const n="cancelled",{op:r,status:s}=j(t);z&&S.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:Rt,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):z&&S.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const T0="BrowserTracing",k0={..._r,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...Dn},C0=(e={})=>{No();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:s,enableStandaloneClsSpans:o},beforeStartSpan:i,idleTimeout:a,finalTimeout:c,childSpanTimeout:u,markBackgroundSpan:d,traceFetch:l,traceXHR:f,trackFetchStreamPerformance:p,shouldCreateSpanForRequest:h,enableHTTPTimings:g,instrumentPageLoad:E,instrumentNavigation:_}={...k0,...e},v=dg({recordClsStandaloneSpans:o||!1});t&&Pg(),r&&q.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?pg():n&&fg(),s&&hg();const A={name:void 0,source:void 0};function R(T,b){const k=b.op==="pageload",x=i?i(b):b,m=x.attributes||{};b.name!==x.name&&(m[Be]="custom",x.attributes=m),A.name=x.name,A.source=m[Be];const y=Kc(x,{idleTimeout:a,finalTimeout:c,childSpanTimeout:u,disableAutoFinish:k,beforeSpanEnd:w=>{v(),Sg(w,{recordClsOnPageloadSpan:!o})}});function I(){["interactive","complete"].includes(C.document.readyState)&&T.emit("idleSpanEnableAutoFinish",y)}return k&&C.document&&(C.document.addEventListener("readystatechange",()=>{I()}),I()),y}return{name:T0,afterAllSetup(T){let b,k=C.location&&C.location.href;function x(){b&&!j(b).timestamp&&(z&&S.log(`[Tracing] Finishing current active span with op: ${j(b).op}`),b.end())}T.on("startNavigationSpan",m=>{O()===T&&(x(),b=R(T,{op:"navigation",...m}))}),T.on("startPageLoadSpan",(m,y={})=>{if(O()!==T)return;x();const I=y.sentryTrace||fc("sentry-trace"),w=y.baggage||fc("baggage"),H=wc(I,w);X().setPropagationContext(H),b=R(T,{op:"pageload",...m})}),T.on("spanEnd",m=>{const y=j(m).op;if(m!==me(m)||y!=="navigation"&&y!=="pageload")return;const I=X(),w=I.getPropagationContext();I.setPropagationContext({...w,sampled:w.sampled!==void 0?w.sampled:ts(m),dsc:w.dsc||fn(m)})}),C.location&&(E&&Td(T,{name:C.location.pathname,startTime:Se?Se/1e3:void 0,attributes:{[Be]:"url",[ge]:"auto.pageload.browser"}}),_&&ls(({to:m,from:y})=>{if(y===void 0&&k&&k.indexOf(m)!==-1){k=void 0;return}y!==m&&(k=void 0,kd(T,{name:C.location.pathname,attributes:{[Be]:"url",[ge]:"auto.navigation.browser"}}))})),d&&I0(),s&&x0(a,c,u,A),t&&$g(),wd(T,{traceFetch:l,traceXHR:f,trackFetchStreamPerformance:p,tracePropagationTargets:T.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:h,enableHTTPTimings:g})}}};function Td(e,t,n){e.emit("startPageLoadSpan",t,n),X().setTransactionName(t.name);const r=fe();return(r&&j(r).op)==="pageload"?r:void 0}function kd(e,t){et().setPropagationContext({traceId:Nn()}),X().setPropagationContext({traceId:Nn()}),e.emit("startNavigationSpan",t),X().setTransactionName(t.name);const n=fe();return(n&&j(n).op)==="navigation"?n:void 0}function fc(e){const t=nf(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function x0(e,t,n,r){let s;const o=()=>{const i="ui.action.click",a=fe(),c=a&&me(a);if(c){const u=j(c).op;if(["navigation","pageload"].includes(u)){z&&S.warn(`[Tracing] Did not create ${i} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(Us,"interactionInterrupted"),s.end(),s=void 0),!r.name){z&&S.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`);return}s=Kc({name:r.name,op:i,attributes:{[Be]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};C.document&&addEventListener("click",o,{once:!1,capture:!0})}function dn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function R0(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=dn(n);return s=>r.then(o=>s(o.transaction(t,"readwrite").objectStore(t)))}function vi(e){return dn(e.getAllKeys())}function M0(e,t,n){return e(r=>vi(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),dn(r.transaction)}))}function A0(e,t,n){return e(r=>vi(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.min(...s,0)-1),dn(r.transaction)}))}function O0(e){return e(t=>vi(t).then(n=>{const r=n[0];if(r!=null)return dn(t.get(r)).then(s=>(t.delete(r),dn(t.transaction).then(()=>s)))}))}function D0(e){let t;function n(){return t==null&&(t=R0(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{const s=await $r(r);await M0(n(),s,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{const s=await $r(r);await A0(n(),s,e.maxQueueSize||30)}catch{}},shift:async()=>{try{const r=await O0(n());if(r)return xf(r)}catch{}}}}function N0(e){return t=>e({...t,createStore:D0})}function L0(e=Qo){return N0(dp(e))}const pc=1e6,xr=String(0),P0="main";let Cd="",xd="",Rd="",vo=C.navigator&&C.navigator.userAgent||"",Md="";const F0=C.navigator&&C.navigator.language||C.navigator&&C.navigator.languages&&C.navigator.languages[0]||"";function $0(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const hc=C.navigator&&C.navigator.userAgentData;$0(hc)&&hc.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(Cd=e.platform||"",Rd=e.architecture||"",Md=e.model||"",xd=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];vo=`${t.brand} ${t.version}`}}).catch(e=>{});function H0(e){return!("thread_metadata"in e)}function B0(e){return H0(e)?z0(e):e}function U0(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&z&&S.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function W0(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=U0(r),o=B0(n),i=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:pe()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:pe()*1e3;return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||rf,runtime:{name:"javascript",version:C.navigator.userAgent},os:{name:Cd,version:xd,build_number:vo},device:{locale:F0,model:Md,manufacturer:vo,architecture:Rd,is_emulator:!1},debug_meta:{images:G0(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||Tt(),trace_id:s,active_thread_id:xr,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function Ad(e){return j(e).op==="pageload"}function z0(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[xr]:{name:P0}}},s=e.samples[0];if(!s)return r;const o=s.timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:Se||0,a=i-(Se||i);return e.samples.forEach((c,u)=>{if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[u]={elapsed_since_start_ns:((c.timestamp+a-o)*pc).toFixed(0),stack_id:t,thread_id:xr};return}let d=e.stacks[c.stackId];const l=[];for(;d;){l.push(d.frameId);const p=e.frames[d.frameId];p&&r.frames[d.frameId]===void 0&&(r.frames[d.frameId]={function:p.name,abs_path:typeof p.resourceId=="number"?e.resources[p.resourceId]:void 0,lineno:p.line,colno:p.column}),d=d.parentId===void 0?void 0:e.stacks[d.parentId]}const f={elapsed_since_start_ns:((c.timestamp+a-o)*pc).toFixed(0),stack_id:n,thread_id:xr};r.stacks[n]=l,r.samples[u]=f,n++}),r}function j0(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function q0(e){const t=[];return Nt(e,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const o=n[s];o&&o.contexts&&o.contexts.profile&&o.contexts.profile.profile_id&&t.push(n[s])}}),t}function G0(e){const t=O(),n=t&&t.getOptions(),r=n&&n.stackParser;return r?sf(r,e):[]}function Y0(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(z&&S.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(z&&S.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function V0(e){return e.samples.length<2?(z&&S.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(z&&S.log("[Profiling] Discarding profile because it contains no frames"),!1)}let Od=!1;const Dd=3e4;function X0(e){return typeof e=="function"}function K0(){const e=C.Profiler;if(!X0(e)){z&&S.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(Dd/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{z&&(S.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),S.log("[Profiling] Disabling profiling for current user session.")),Od=!0}}function mc(e){if(Od)return z&&S.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return z&&S.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=O(),n=t&&t.getOptions();if(!n)return z&&S.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return Y0(r)?r?(r===!0?!0:Math.random()<r)?!0:(z&&S.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(z&&S.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(z&&S.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function J0(e,t,n,r){return V0(n)?W0(e,t,n,r):null}const It=new Map;function Z0(){return It.size}function Q0(e){const t=It.get(e);return t&&It.delete(e),t}function ew(e,t){if(It.set(e,t),It.size>30){const n=It.keys().next().value;It.delete(n)}}function gc(e){let t;Ad(e)&&(t=pe()*1e3);const n=K0();if(!n)return;z&&S.log(`[Profiling] started profiling span: ${j(e).description}`);const r=Tt();X().setContext("profile",{profile_id:r,start_timestamp:t});async function s(){if(e&&n)return n.stop().then(c=>{if(o&&(C.clearTimeout(o),o=void 0),z&&S.log(`[Profiling] stopped profiling of span: ${j(e).description}`),!c){z&&S.log(`[Profiling] profiler returned null profile for: ${j(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}ew(r,c)}).catch(c=>{z&&S.log("[Profiling] error while stopping profiler:",c)})}let o=C.setTimeout(()=>{z&&S.log("[Profiling] max profile duration elapsed, stopping profiling for:",j(e).description),s()},Dd);const i=e.end.bind(e);function a(){return e?(s().then(()=>{i()},()=>{i()}),e):i()}e.end=a}const tw="BrowserProfiling",nw=()=>({name:tw,setup(e){const t=fe(),n=t&&me(t);n&&Ad(n)&&mc(n)&&gc(n),e.on("spanStart",r=>{r===me(r)&&mc(r)&&gc(r)}),e.on("beforeEnvelope",r=>{if(!Z0())return;const s=q0(r);if(!s.length)return;const o=[];for(const i of s){const a=i&&i.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){z&&S.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){z&&S.log("[Profiling] cannot find profile for a span without a profile context");continue}a&&a.profile&&delete a.profile;const d=Q0(c);if(!d){z&&S.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}const l=J0(c,u,d,i);l&&o.push(l)}j0(r,o)})}}),rw=nw,sw="SpotlightBrowser",ow=(e={})=>{const t=e.sidecarUrl||"http://localhost:8969/stream";return{name:sw,setup:()=>{z&&S.log("Using Sidecar URL",t)},processEvent:n=>cw(n)?null:n,afterAllSetup:n=>{iw(n,t)}}};function iw(e,t){const n=Jo("fetch");let r=0;e.on("beforeEnvelope",s=>{if(r>3){S.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:$r(s),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(o=>{o.status>=200&&o.status<400&&(r=0)},o=>{r++,S.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",o)})})}const aw=ow;function cw(e){return!!(e.type==="transaction"&&e.spans&&e.contexts&&e.contexts.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t&&t.includes("#sentry-spotlight")))}const uw=100;function wi(e){const n=X().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function Qr(e,t,n=uw){const r=X().getScopeData().contexts;r.flags||(r.flags={values:[]});const s=r.flags.values;lw(s,e,t,n)}function lw(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){z&&S.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}const s=e.findIndex(o=>o.flag===t);s!==-1&&e.splice(s,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}const dw=()=>({name:"FeatureFlags",processEvent(e,t,n){return wi(e)},addFeatureFlag(e,t){Qr(e,t)}}),fw=()=>({name:"LaunchDarkly",processEvent(e,t,n){return wi(e)}});function pw(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{Qr(e,t.value)}}}const hw=()=>({name:"OpenFeature",processEvent(e,t,n){return wi(e)}});class mw{after(t,n){Qr(n.flagKey,n.value)}error(t,n,r){Qr(t.flagKey,t.defaultValue)}}const gw=Object.freeze(Object.defineProperty({__proto__:null,BrowserClient:Du,OpenFeatureIntegrationHook:mw,SDK_VERSION:Ar,SEMANTIC_ATTRIBUTE_SENTRY_OP:Ot,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:ge,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:vc,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:Be,Scope:of,WINDOW:C,addBreadcrumb:je,addEventProcessor:Fc,addIntegration:Ys,addTracingExtensions:_f,breadcrumbsIntegration:Qu,browserApiErrorsIntegration:el,browserProfilingIntegration:rw,browserSessionIntegration:tl,browserTracingIntegration:C0,buildLaunchDarklyFlagUsedHandler:pw,captureConsoleIntegration:qp,captureEvent:pn,captureException:os,captureFeedback:wu,captureMessage:Dr,captureSession:qs,captureUserFeedback:$_,chromeStackLineParser:Vu,close:af,contextLinesIntegration:ay,continueTrace:Hf,createTransport:iu,createUserFeedbackEnvelope:Ou,debugIntegration:Xp,dedupeIntegration:gu,defaultRequestInstrumentationOptions:Dn,defaultStackLineParsers:Ku,defaultStackParser:Ju,endSession:zs,eventFromException:Mu,eventFromMessage:Au,exceptionFromError:as,extraErrorDataIntegration:rh,featureFlagsIntegration:dw,feedbackAsyncIntegration:l0,feedbackIntegration:Eo,feedbackSyncIntegration:Eo,flush:cf,forceLoad:P_,functionToStringIntegration:lu,geckoStackLineParser:Xu,getActiveSpan:fe,getClient:O,getCurrentHub:rm,getCurrentScope:X,getDefaultIntegrations:il,getFeedback:Tv,getGlobalScope:$c,getIsolationScope:et,getReplay:HE,getRootSpan:me,getSpanDescendants:Tn,getSpanStatusFromHttpCode:uf,globalHandlersIntegration:nl,httpClientIntegration:Y_,httpContextIntegration:sl,inboundFiltersIntegration:du,init:al,instrumentOutgoingRequests:wd,isInitialized:lf,lastEventId:Pc,launchDarklyIntegration:fw,lazyLoadIntegration:cl,linkedErrorsIntegration:ol,makeBrowserOfflineTransport:L0,makeFetchTransport:Qo,makeMultiplexedTransport:hp,metrics:g0,moduleMetadataIntegration:Bp,onLoad:F_,openFeatureIntegration:hw,opera10StackLineParser:n_,opera11StackLineParser:o_,parameterize:_p,registerSpanErrorInstrumentation:No,replayCanvasIntegration:ev,replayIntegration:FE,reportingObserverIntegration:j_,rewriteFramesIntegration:fh,sendFeedback:ld,sessionTimingIntegration:gh,setContext:Mo,setCurrentClient:nu,setExtra:Oc,setExtras:Ac,setHttpStatus:Ro,setMeasurement:Yc,setTag:Lr,setTags:Dc,setUser:Ao,showReportDialog:L_,spanToBaggageHeader:df,spanToJSON:j,spanToTraceHeader:Rc,spotlightBrowserIntegration:aw,startBrowserTracingNavigationSpan:kd,startBrowserTracingPageLoadSpan:Td,startInactiveSpan:hn,startNewTrace:Uf,startSession:Nr,startSpan:$f,startSpanManual:Vc,suppressTracing:Bf,thirdPartyErrorFilterIntegration:Th,updateSpanName:ff,winjsStackLineParser:Qg,withActiveSpan:zn,withIsolationScope:pf,withScope:Ae,zodErrorsIntegration:Ih},Symbol.toStringTag,{value:"Module"}));window.FIRST_ENV.sentryDsn&&(al({dsn:window.FIRST_ENV.sentryDsn,release:window.FIRST_ENV.appVersion,environment:window.FIRST_ENV.env,ignoreErrors:["[object Object]"],integrations:[Eo({autoInject:!1})]}),window.FIRST_ENV.serverId&&Lr("server_name",window.FIRST_ENV.serverId),window.FIRST_ENV.bootId&&Lr("boot_id",window.FIRST_ENV.bootId),(window.FIRST_ENV.userAccountId||window.FIRST_ENV.userEmail||window.FIRST_ENV.userName)&&Ao({id:window.FIRST_ENV.userAccountId,email:window.FIRST_ENV.userEmail,fullName:window.FIRST_ENV.userName}));window.Sentry=gw;
//# sourceMappingURL=sentry-DOscv33g.js.map
