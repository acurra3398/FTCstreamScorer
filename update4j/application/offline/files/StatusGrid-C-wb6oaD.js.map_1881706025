{"version":3,"file":"StatusGrid-C-wb6oaD.js","sources":["../../../../../../FTCCommon/src/main/javascript/displays/components/DisconnectedBanner.tsx","../../../../../../FTCCommon/src/main/javascript/inspection/status/StatusLegend.tsx","../../../../../../FTCCommon/src/main/javascript/inspection/status/StatusGrid.tsx"],"sourcesContent":["import './DisconnectedBanner.css'\n\nexport default function DisconnectedBanner() {\n    return <div className=\"disconnectedBanner\" style={{zIndex: 99}}>Disconnected!</div>\n}","import {InspectionUpdate} from \"../../javaTypes\";\nimport {t} from \"../../i18n\";\nimport './StatusLegend.css'\n\nexport default function StatusLegend({inspectionData, projector} : {\n    inspectionData?: InspectionUpdate,\n    projector?: boolean\n}) {\n    if (!inspectionData?.forms) {\n        return <></>\n    }\n    const formNames = [<th key={0}>{t`Name`}</th>, ...inspectionData.forms.map(form => <td key={form.code}>{form.name}</td>)];\n    const statusNames = [<th key={0}>{t`Status`}</th>, ...inspectionData.statuses.map(status => <td key={status.name}>{status.displayName}</td>)];\n    const formSymbols = [<th key={0}>{t`Symbol`}</th>, ...inspectionData.forms.map(form => <td key={form.abbrev}>{form.abbrev.toUpperCase()}</td>)];\n    const statusColors = [<th key={0}>{t`Color`}</th>, ...inspectionData.statuses.map(status => <td key={status.name} style={{backgroundColor: status.color}}>&nbsp;</td>)];\n\n    if (projector) { // for projector view - two legends in 1 row since vertical space is premium\n        return <table className={\"status-table ml-auto mr-auto\"}>\n            <tr>{formNames}{statusNames}</tr>\n            <tr>{formSymbols}{statusColors}</tr>\n        </table>\n    }\n    // For non-projector view, split the legend into 2 tables.\n    return <>\n        <table className={\"status-table form-legend-table ml-auto mr-auto\"}>\n            <tr>{formNames}</tr>\n            <tr>{formSymbols}</tr>\n        </table>\n        <table className={\"status-table status-legend-table ml-auto mr-auto\"} style={{marginTop: \"5px\"}}>\n            <tr>{statusNames}</tr>\n            <tr>{statusColors}</tr>\n        </table>\n    </>\n}","import {FormType, InspectionUpdate, InspectionUpdateStatus, InspectionUpdateTeam, Status} from \"../../javaTypes\";\nimport {t} from \"../../i18n\";\nimport ScrollingText from \"../../displays/components/ScrollingText\";\n\nfunction Cell({statusMap, team, form, queues} : {\n    statusMap: Partial<Record<Status, InspectionUpdateStatus>>,\n    team: InspectionUpdateTeam,\n    form: FormType,\n    queues: Record<string, number[]>\n}) {\n    const status = statusMap[team.statuses[form.code]];\n    let content = <>&nbsp;</>\n    if (status?.name === Status.READY) {\n        if (queues[form.code] && queues[form.code].includes(team.number)) {\n            content = <>{queues[form.code].indexOf(team.number) + 1}</>;\n        }\n    }\n    return <td key={form.code} style={{width: \"7.5%\", backgroundColor: status?.color, color: 'white', fontWeight: 'bold'}}>{content}</td>\n}\n\nexport default function StatusGrid({inspectionData, columns, projector, noNames} : {\n    inspectionData?: InspectionUpdate,\n    columns: number,\n    projector?: boolean,\n    noNames?: boolean\n}) {\n    if(!inspectionData) {\n        return null;\n    }\n    const statusMap: Partial<Record<Status, InspectionUpdateStatus>> = {};\n    for (let s of inspectionData.statuses ?? []) {\n        statusMap[s.name] = s;\n    }\n    const tables = [];\n    let start = 0;\n    for (let c = 0; c < columns && inspectionData.forms; c++) {\n        const headers = inspectionData.forms.map(form => <th key={form.code}>{form.abbrev.toUpperCase()}</th>)\n        headers.push(<th key={\"team\"} className={\"teamNumber\"}>{t`Team`}</th>);\n        if (!noNames) {\n            headers.push(<th key={\"name\"}>{t`Name`}</th>);\n        }\n\n        const teamsInColumn = Math.floor(inspectionData.teams.length / columns) + (inspectionData.teams.length % columns > c ? 1 : 0);\n        const rows = inspectionData.teams.slice(start, start + teamsInColumn).map(team => <tr key={team.number}>\n            {inspectionData.forms.map(form => <Cell key={form.code} statusMap={statusMap} team={team} form={form} queues={inspectionData.readyQueues}/>)}\n            <td className={\"teamNumber\"}>{team.displayNumber}</td>{noNames ? null : <td style={{textAlign: 'left'}} className={\"teamName\"}><div className={\"teamNameWrapper\"}>{team.name}</div></td>}\n        </tr>);\n        start += teamsInColumn;\n        tables.push(<table key={`col_${c}`} className={\"status-table\"} style={{borderCollapse: 'collapse', width: \"100%\"}}><tr>{headers}</tr>{rows}</table>);\n    }\n    return <table width={\"100%\"} style={{fontSize: projector && inspectionData.teams?.length > 32 ? '16px' : '20px'}} className={\"statusGridContainer\"}><tr style={{verticalAlign: \"top\"}}>\n        {tables.map((table, idx) => <td key={idx} style={{width: `${100 / columns}%`, padding: \"5px\"}}>{table}</td>)}\n    </tr></table>\n}"],"names":["DisconnectedBanner","jsx","StatusLegend","inspectionData","projector","Fragment","formNames","t","form","statusNames","status","formSymbols","statusColors","jsxs","Cell","statusMap","team","queues","content","Status","StatusGrid","columns","noNames","s","tables","start","c","headers","teamsInColumn","rows","_a","table","idx"],"mappings":"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"}