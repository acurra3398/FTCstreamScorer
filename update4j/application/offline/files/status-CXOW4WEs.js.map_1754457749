{"version":3,"file":"status-CXOW4WEs.js","sources":["../../../../../../../../FTCCommon/src/main/javascript/inspection/status/InspectionStatus.tsx","../../../../../../../../FTCCommon/src/main/javascript/inspection/status/index.jsx"],"sourcesContent":["import {useState} from \"react\";\nimport StatusGrid from \"./StatusGrid\";\nimport StatusLegend from \"./StatusLegend\";\nimport StatusProgress from \"./StatusProgress\";\nimport DisconnectedBanner from \"../../displays/components/DisconnectedBanner\";\nimport  './InspectionStatus.css';\nimport {InspectionUpdate} from \"../../javaTypes\";\nimport {usePersistentWebsocket} from \"../../utils\";\nimport { t } from \"../../i18n\";\n\n/**\n * @param eventCode The event code\n * @param projector true if this is a projector version\n * @param columns The number of columns to group the teams into\n */\nexport default function InspectionStatus({eventCode, eventName, projector, columns} : {\n    eventCode: string,\n    eventName: string,\n    projector: boolean,\n    columns: number\n}) {\n    const [inspectionData, setInspectionData] = useState<InspectionUpdate>();\n    const { isConnected, send } = usePersistentWebsocket<InspectionUpdate>(`/stream/inspection/?code=${eventCode}`, (data) => {\n        setInspectionData(data);\n    });\n\n    return <div>\n        {projector ? <>\n              <h2 className=\"text-center\">{eventName}</h2>\n              <h4 className=\"text-center\">{t`Inspection Status`}</h4>\n          </> :\n          <div className=\"d-flex\">\n              <div style={{float: \"left\"}}>\n                  <a href={`/event/${eventCode}/`}>\n                      &lt;&lt; {t`To Event Home`}\n                  </a>\n              </div>\n              <div className=\"flex-fill\">\n                  <h1 className=\"text-center\">{eventName}</h1>\n                  <h4 className=\"text-center\">{t`Inspection Status`}</h4>\n              </div>\n              <div style={{float: \"right\"}}>\n                  <b>{t`Projector Friendly:`}</b><br />\n                  <a href=\"proj/1/\">{t`1 column`}</a><br />\n                  <a href=\"proj/2/\">{t`2 columns`}</a><br />\n                  <a href=\"proj/3/\">{t`3 columns`}</a><br />\n              </div>\n          </div>}\n\n        {isConnected ? null : <DisconnectedBanner />}\n        {!projector && inspectionData ? <StatusProgress statusList={inspectionData.statuses}\n                                                        statusData={(inspectionData.teams ?? []).map(x => Object.values(x.statuses)).flat()} /> : null}\n        <StatusGrid inspectionData={inspectionData} columns={columns} projector={projector} />\n        <StatusLegend inspectionData={inspectionData} projector={projector} />\n        </div>\n        }","import InspectionStatus from \"./InspectionStatus\";\nimport { createRoot } from \"react-dom/client\";\n\nconst root = createRoot(document.getElementById(\"reactContainer\"));\nroot.render(<InspectionStatus\n    eventName={window.eventName}\n    eventCode={window.eventCode}\n    projector={window.projector}\n    columns={window.cols}\n/>)\n"],"names":["InspectionStatus","eventCode","eventName","projector","columns","inspectionData","setInspectionData","useState","isConnected","usePersistentWebsocket","data","jsxs","Fragment","jsx","DisconnectedBanner","StatusProgress","x","StatusGrid","StatusLegend","root","createRoot"],"mappings":"0kBAeA,SAAwBA,EAAiB,CAAC,UAAAC,EAAW,UAAAC,EAAW,UAAAC,EAAW,QAAAC,GAKxE,CACC,KAAM,CAACC,EAAgBC,CAAiB,EAAIC,WAA2B,EACjE,CAAE,YAAAC,CAAkB,EAAIC,EAAyC,4BAA4BR,CAAS,GAAKS,GAAS,CACtHJ,EAAkBI,CAAI,CAAA,CACzB,EAED,cAAQ,MACH,CAAA,SAAA,CAAAP,EACKQ,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,cAAe,SAAUX,EAAA,EACtCW,EAAA,IAAA,KAAA,CAAG,UAAU,cAAe,SAAqB,oBAAA,CAAA,CAAA,CACtD,CAAA,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,SACX,SAAA,CAACE,EAAA,IAAA,MAAA,CAAI,MAAO,CAAC,MAAO,MAAA,EAChB,SAAAF,EAAA,KAAC,IAAE,CAAA,KAAM,UAAUV,CAAS,IAAK,SAAA,CAAA,MACnB,gBAAA,CAAA,CACd,CACJ,CAAA,EACAU,EAAAA,KAAC,MAAI,CAAA,UAAU,YACX,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,cAAe,SAAUX,EAAA,EACtCW,EAAA,IAAA,KAAA,CAAG,UAAU,cAAe,SAAqB,oBAAA,CAAA,CAAA,EACtD,SACC,MAAI,CAAA,MAAO,CAAC,MAAO,OAChB,EAAA,SAAA,CAAAA,EAAA,IAAC,KAAG,SAAuB,sBAAA,CAAA,QAAK,KAAG,EAAA,EAClCA,MAAA,IAAA,CAAE,KAAK,UAAW,SAAY,YAAA,QAAK,KAAG,EAAA,EACtCA,MAAA,IAAA,CAAE,KAAK,UAAW,SAAa,aAAA,QAAK,KAAG,EAAA,EACvCA,MAAA,IAAA,CAAE,KAAK,UAAW,SAAa,aAAA,QAAK,KAAG,CAAA,CAAA,CAAA,CAC5C,CAAA,CAAA,EACJ,EAEDL,EAAc,KAAOK,MAACC,EAAmB,CAAA,CAAA,EACzC,CAACX,GAAaE,EAAiBQ,EAAA,IAACE,EAAA,CAAe,WAAYV,EAAe,SAC3B,YAAaA,EAAe,OAAS,CAAA,GAAI,IAASW,GAAA,OAAO,OAAOA,EAAE,QAAQ,CAAC,EAAE,KAAK,CAAA,CAAA,EAAQ,KACzIH,EAAAA,IAAAI,EAAA,CAAW,eAAAZ,EAAgC,QAAAD,EAAkB,UAAAD,CAAsB,CAAA,EACpFU,EAAAA,IAACK,EAAa,CAAA,eAAAb,EAAgC,UAAAF,CAAsB,CAAA,CAAA,EACpE,CACA,CCpDR,MAAMgB,EAAOC,EAAAA,WAAW,SAAS,eAAe,gBAAgB,CAAC,EACjED,EAAK,OAAON,EAAA,IAACb,EAAA,CACT,UAAW,OAAO,UAClB,UAAW,OAAO,UAClB,UAAW,OAAO,UAClB,QAAS,OAAO,IAAA,CACpB,CAAE"}