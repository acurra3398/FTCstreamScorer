{"version":3,"file":"displays-Bk1BlCrW.js","sources":["../../../../../../../FTCCommon/src/main/javascript/displays/index.tsx"],"sourcesContent":["import DisplayContainer from './displayContainer'\nimport AssetHelper from \"../AssetHelper\";\nimport {initSounds} from \"../sounds\";\nimport {preloadVideos} from \"./components/MatchVideo\";\nimport DisplayParams from './DisplayParams';\nimport { useEffect, useState } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nfunction BaseDisplay() {\n    const [displayParams, setDisplayParams] = useState(window.displayParams);\n    useEffect(() => {\n        document.title = `${displayParams.eventCode} - Display`\n        window.history.replaceState(displayParams, '')\n    }, [displayParams]);\n    useEffect(() => {\n        addEventListener(\"popstate\", (evt) => {\n            setDisplayParams(evt.state);\n        })\n    }, []);\n\n    return <DisplayParams.Provider value={displayParams}>\n        <DisplayContainer reconfigure={setDisplayParams}/>\n    </DisplayParams.Provider>;\n}\n\n// useAsset already handles ensuring this is loaded, but to allow preloading a/v clips it's much easier to\n// not be forced to work with async apis\nAssetHelper.ensureProperties().then(() => {\n    initSounds();\n    preloadVideos();\n\n    const target = document.getElementById('displayRoot');\n    if(!target) {\n        throw \"Target element for display not found\"\n    }\n    const root = createRoot(target);\n    root.render(<BaseDisplay />);\n})\n"],"names":["BaseDisplay","displayParams","setDisplayParams","useState","useEffect","evt","jsx","DisplayParams","DisplayContainer","AssetHelper","initSounds","preloadVideos","target","createRoot"],"mappings":"swCAQA,SAASA,GAAc,CACnB,KAAM,CAACC,EAAeC,CAAgB,EAAIC,EAAAA,SAAS,OAAO,aAAa,EACvEC,OAAAA,EAAAA,UAAU,IAAM,CACH,SAAA,MAAQ,GAAGH,EAAc,SAAS,aACpC,OAAA,QAAQ,aAAaA,EAAe,EAAE,CAAA,EAC9C,CAACA,CAAa,CAAC,EAClBG,EAAAA,UAAU,IAAM,CACK,iBAAA,WAAaC,GAAQ,CAClCH,EAAiBG,EAAI,KAAK,CAAA,CAC7B,CACL,EAAG,EAAE,EAEEC,EAAA,IAACC,EAAc,SAAd,CAAuB,MAAON,EAClC,SAACK,EAAAA,IAAAE,EAAA,CAAiB,YAAaN,CAAA,CAAiB,CACpD,CAAA,CACJ,CAIAO,EAAY,iBAAA,EAAmB,KAAK,IAAM,CAC3BC,EAAA,EACGC,EAAA,EAER,MAAAC,EAAS,SAAS,eAAe,aAAa,EACpD,GAAG,CAACA,EACM,KAAA,uCAEGC,aAAWD,CAAM,EACzB,OAAQN,EAAAA,IAAAN,EAAA,CAAY,CAAA,CAAE,CAC/B,CAAC"}