{"version":3,"file":"teamSelect-B2QRqqsv.js","sources":["../../../../../../src/main/javascript/inspection/teamSelect/StatusGrid.tsx","../../../../../../src/main/javascript/inspection/teamSelect/StatusMap.tsx","../../../../../../src/main/javascript/inspection/teamSelect/InspectionStatus.tsx","../../../../../../src/main/javascript/inspection/teamSelect/index.tsx"],"sourcesContent":["\nimport { InspectionUpdate, InspectionUpdateStatus, InspectionUpdateTeam, Status } from \"ftc-common/javaTypes\"\nimport { t } from \"ftc-common/i18n\"\nimport { PermissiveURLSearchParams } from \"ftc-common/utils\";\n\nfunction StatusSelect({statuses, value, team, form, eventCode, allowedStatuses}: {\n    statuses: InspectionUpdateStatus[],\n    value: Status,\n    team: number,\n    form: string,\n    eventCode: string,\n    allowedStatuses: Status[]\n}) {\n    return <select value={value} onChange={async (e) => {\n        const status = (e.target as HTMLSelectElement).value\n        await fetch(`/event/${eventCode}/inspect/${form}/team/`, {\n            method: 'POST',\n            body: PermissiveURLSearchParams({form, team, status})\n        })\n    }}>\n        {statuses.filter(s => allowedStatuses.includes(s.name)).map(s => <option key={s.name} value={s.name}>{s.displayName}</option>)}\n    </select>;\n}\n\nfunction TeamRow({selectable, team, form, statuses, eventCode, allowedStatuses}: {\n    selectable: boolean,\n    team: InspectionUpdateTeam,\n    form: string,\n    statuses: InspectionUpdateStatus[],\n    eventCode: string,\n    allowedStatuses: Status[]\n}) {\n    const status = team.statuses[form]\n    const statusData = statuses.find(s => s.name == status)\n    return <tr>\n        <td>{team.displayNumber}</td>\n        <td>{team.name}</td>\n        <td style={{backgroundColor: statusData?.color, color: statusData?.textWhite ? 'white' : 'black'}}>\n            {/*TODO translation*/}\n            {selectable ? <StatusSelect statuses={statuses} value={status} team={team.number} form={form} eventCode={eventCode} allowedStatuses={allowedStatuses} /> : statusData?.displayName}\n        </td>\n        {!selectable ? <td><a href={`${team.number}/`}>{t`Inspect`}</a></td>: null}\n    </tr>;\n}\n\nexport default function StatusGrid({inspectionData, form, statusSelectable, eventCode, allowedStatuses} : {\n    inspectionData?: InspectionUpdate,\n    form: string,\n    statusSelectable: boolean,\n    eventCode: string,\n    allowedStatuses: Status[]\n}) {\n    if(!inspectionData) {\n        return null;\n    }\n    const allowScanning = form == 'robot' || form == 'sizing';\n    return <>\n        <div className=\"row\">\n            <div className=\"col-6\">\n                {statusSelectable ? t`Set the status of each team:` : t`Select a team to inspect:`}\n            </div>\n            <div className=\"col-6 text-right\">\n                { allowScanning ? <a href=\"../../qr/alt/\" className=\"btn btn-sm btn-secondary\" style={{marginBottom: \"2px\"}}>\n                    {t`Alternate QR Scanning`}\n                </a> : null }\n            </div>\n        </div>\n        <table className=\"table table-striped\" style={{textAlign: 'center', padding: '5px', width: '100%;'}}>\n            <thead>\n                <tr>\n                    <th>{t`Team`}</th>\n                    <th>{t`Name`}</th>\n                    <th>{t`Status`}</th>\n                    {!statusSelectable ? <th>{t`Inspect`}</th> : null}\n                </tr>\n            </thead>\n            <tbody>\n                {inspectionData.teams.map(t =>\n                    <TeamRow key={t.number} team={t} form={form} statuses={inspectionData.statuses} selectable={statusSelectable} eventCode={eventCode} allowedStatuses={allowedStatuses} />)}\n            </tbody>\n    </table>\n    </>\n\n}","import { InspectionUpdate, Status } from \"ftc-common/javaTypes\";\nimport {confirmDialog, promptDialog } from \"first-common/dialogs\";\nimport PitMap, { Cell, LabelMode } from \"@ftcscoring/pit-map\";\nimport { HTMLAttributes, useEffect, useRef } from \"react\";\nimport { t } from \"ftc-common/i18n\";\nimport { PermissiveURLSearchParams } from \"ftc-common/utils\";\nimport {Button} from \"react-bootstrap\";\nimport {useLocalStorageState} from \"first-common/utils\";\n\nexport default function StatusMap({inspectionData, form, pitMapData, mapBb, statusSelectable, eventCode, allowedStatuses} : {\n    inspectionData?: InspectionUpdate,\n    form: string,\n    pitMapData?: Cell[],\n    mapBb?: {w: number},\n    statusSelectable: boolean,\n    eventCode: string,\n    allowedStatuses: Status[]\n}) {\n    const pitMap = useRef<PitMap>();\n    const inspectionDataRef = useRef<InspectionUpdate>();\n    const [showPitMap, setShowPitMap] = useLocalStorageState<boolean>(`show-inspection-pitmap-${eventCode}-${form}`, true)\n\n    useEffect(() => {\n        if(!pitMapData || !mapBb) {\n            return;\n        }\n        pitMap.current = new PitMap({\n            id: 'pitMapCanvas',\n            pitColorCallback: (cell) => {\n                const data = inspectionDataRef.current\n                if(!data) {\n                    return ['white', 'black']\n                }\n                const status = data.teams.find(t => t.number == cell.team)?.statuses[form] || Status.NONE;\n                const statusDetails = data.statuses.find(s => s.name == status);\n                return statusDetails ? [statusDetails.color, statusDetails.textWhite ? 'white' : 'black'] : ['white', 'black']\n            },\n            minView: true\n        });\n        pitMap.current?.setPitLabelMode(LabelMode.TEAM);\n        pitMap.current?.setPitClickCallback(async (cell) => {\n            const teamInfo = inspectionDataRef.current?.teams.find(t => t.number == cell.team)\n            if(!teamInfo) {\n                return\n            }\n            if(statusSelectable) {\n                const currentStatus = teamInfo.statuses[form]\n                const result = await promptDialog({\n                    label: t`Status for ${cell.team}`,\n                    text: t`New status for ${teamInfo.number} - ${teamInfo.name}`,\n                    buttonText: t`Submit`,\n                    defaultValue: currentStatus,\n                    options: inspectionDataRef.current?.statuses.filter(s => allowedStatuses.includes(s.name)).map(s => <option key={s.name} value={s.name}>{s.displayName}</option>)\n                })\n                if(result) {\n                    await fetch(`/event/${eventCode}/inspect/${form}/team/`, {\n                        method: 'POST',\n                        body: PermissiveURLSearchParams({form, team: teamInfo.number, status: result})\n                    })\n                }\n            } else {\n                if(await confirmDialog({\n                    label: t`Inspect ${teamInfo.displayNumber}`,\n                    text: t`Ready to inspect ${teamInfo.displayNumber} - ${teamInfo.name}?`,\n                    buttonText: t`Inspect`\n                })) {\n                    window.location.href = `./${cell.team}/`\n                }\n            }\n        })\n\n        // calculate if need to zoom out for initial fit\n        const wrapper = document.getElementById('pitMapWrapper')!;\n        let newZoom = 1;\n        while(wrapper.clientWidth < (mapBb.w * PitMap.BASE_CELL_SIZE * newZoom) && newZoom > .25) {\n            newZoom -= .1;\n        }\n        newZoom = Math.max(.25, newZoom);\n        pitMap.current.setZoom(newZoom);\n        pitMap.current.setData(pitMapData);\n    }, [pitMapData, mapBb, statusSelectable]);\n\n\n    useEffect(() => {\n        inspectionDataRef.current = inspectionData;\n        if(inspectionData && pitMap.current) {\n            pitMap.current.setDisplayTeamNumbers(Object.fromEntries(inspectionData.teams.map((t) => [t.number, t.displayNumber])));\n        }\n        pitMap.current?.draw()\n    }, [inspectionData])\n\n    if(!pitMapData) {\n        return <div className={\"mb-2\"}></div>;\n    }\n\n    return <div id={\"pitMapWrapper\"} className={\"w-100 mt-2\"} style={{overflowX: 'auto'}}>\n        <Button className={\"mb-1\"} variant={\"secondary\"} size={\"sm\"} onClick={() => setShowPitMap(v => !v)}>{showPitMap ? '▼' : '▶'} {showPitMap ? t`Hide Pit Map` : t`Show Pit Map`}</Button>\n        <div className=\"ml-auto mr-auto\" style={{width: \"fit-content\", display: showPitMap ? undefined : \"none\"}}>\n            <canvas id=\"pitMapCanvas\" style={{position: 'relative'}}></canvas>\n        </div>\n    </div>\n}","import {useState} from \"react\";\nimport {t} from \"ftc-common/i18n\";\nimport {InspectionUpdate, Status} from \"ftc-common/javaTypes\";\nimport {Modal, Button} from \"react-bootstrap\";\n\nimport {Cell} from \"@ftcscoring/pit-map\";\nimport StatusProgress from \"ftc-common/inspection/status/StatusProgress\";\nimport StatusGrid from \"./StatusGrid\";\nimport StatusMap from \"./StatusMap\";\nimport {usePersistentWebsocket, PermissiveURLSearchParams} from \"ftc-common/utils\";\nimport LocalErrorBoundary from \"../../LocalErrorBoundary\";\n\nfunction QueueInfo({form, inspectionData, showModal} : {\n    form: string,\n    inspectionData?: InspectionUpdate,\n    showModal: () => void\n}) {\n    if (!inspectionData || !inspectionData?.readyQueues[form] || inspectionData.readyQueues[form].length === 0) {\n        return null;\n    }\n    return <div className={\"row justify-content-center\"}>\n        <a href={\"#\"} onClick={() => showModal()}>\n            {inspectionData.readyQueues[form].length} Teams In Queue\n        </a>\n    </div>\n}\n\nfunction QueueModal({form, inspectionData, show, hideModal, claim } : {\n    form: string,\n    inspectionData?: InspectionUpdate,\n    show: boolean,\n    hideModal: () => void,\n    claim: (team: number) => void\n}) {\n    if (!inspectionData || !inspectionData?.readyQueues[form]) {\n        return null;\n    }\n    return <Modal show={show}>\n        <Modal.Header closeButton>\n            <Modal.Title>{t`Team Queue`}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            {inspectionData.readyQueues[form].length === 0 ? <i>{t`No teams in queue!`}</i> :  <>\n                <span>{t`Click \"Claim\" to take the team off the Queue and open their form. They will be set to \"In Progress\"`}</span>\n                <ol>\n                    {inspectionData.readyQueues[form].map(x => <li key={x}>{x} - {inspectionData.teams.find(t => t.number === x)?.name}<Button size={'sm'} style={{marginBottom: '10px', marginLeft: '10px'}} onClick={() => claim(x)}>Claim</Button></li>)}\n                </ol>\n            </>}\n        </Modal.Body>\n        <Modal.Footer>\n            <Button variant=\"secondary\" onClick={() => hideModal()}>\n                {t`Close`}\n            </Button>\n        </Modal.Footer>\n    </Modal>\n}\n\n/**\n * @param eventCode The event code\n * @param projector true if this is a projector version\n * @param columns The number of columns to group the teams into\n */\nexport default function InspectionStatus({eventCode, pitMapData, mapBb, form, statusSelectable, allowedStatuses}: {\n    eventCode: string,\n    form: string,\n    pitMapData?: Cell[],\n    mapBb?: {w: number},\n    statusSelectable: boolean,\n    allowedStatuses: Status[]\n}) {\n    const [inspectionData, setInspectionData] = useState<InspectionUpdate>();\n    const [modalVisible, setModalVisible] = useState<boolean>(false);\n    const { isConnected, send } = usePersistentWebsocket<InspectionUpdate>(`/stream/inspection/?code=${eventCode}`, (data) => {\n        setInspectionData(data);\n    });\n\n    return <>\n        {isConnected ? null : <h3>{t`Disconnected`}</h3>}\n        <QueueModal show={modalVisible} form={form} inspectionData={inspectionData} hideModal={() => setModalVisible(false)} claim={async (team) => {\n            const resp = await fetch(`/event/${eventCode}/inspect/${form}/team/`, {\n                method: 'POST',\n                body: PermissiveURLSearchParams({form: form, team: team, status: 'IN_PROGRESS'})\n            })\n            if (resp.ok) {\n                window.location.href = `/event/${eventCode}/inspect/${form}/${team}/`;\n            }\n        }}/>\n        {t`Legend:`}\n        <div className={\"row ml-0 mr-0 mb-2 text-center\"}>\n            {inspectionData?.statuses.filter(s => allowedStatuses.includes(s.name)).map(s => <div key={s.name} className={\"col\"} style={{border: '1px solid black', backgroundColor: s.color, maxWidth: '125px', color: s.textWhite ? 'white' : 'black', whiteSpace: \"nowrap\"}}>{s.displayName}</div>)}\n        </div>\n        {inspectionData ? <StatusProgress statusList={inspectionData.statuses} statusData={inspectionData.teams.map(t => t.statuses[form])} /> : null }\n        <LocalErrorBoundary>\n            <StatusMap inspectionData={inspectionData} pitMapData={pitMapData} mapBb={mapBb} form={form} statusSelectable={statusSelectable} eventCode={eventCode} allowedStatuses={allowedStatuses} />\n            <QueueInfo form={form} inspectionData={inspectionData} showModal={() => setModalVisible(true)}/>\n        </LocalErrorBoundary>\n        <StatusGrid inspectionData={inspectionData} form={form} statusSelectable={statusSelectable} eventCode={eventCode} allowedStatuses={allowedStatuses} />\n    </>\n}","import InspectionStatus from \"./InspectionStatus\";\nimport { Cell } from '@ftcscoring/pit-map';\nimport { Status } from 'ftc-common/javaTypes';\nimport { createRoot } from \"react-dom/client\";\n\ndeclare global {\n    interface Window {\n        eventCode: string,\n        form: string,\n        allowedStatuses: Status[],\n        inspectionStatusSelectable: boolean,\n        inspectionPitMapData?: Cell[],\n        inspectionMapBb?: { x: number, y: number, h: number, w: number },\n    }\n}\n\nconst container = document.getElementById('inspectionStatusContainer');\nif(!container) {\n    console.error(\"Mount point for inspection status container not found\")\n} else {\n    const root = createRoot(container);\n    root.render(<InspectionStatus\n        eventCode={window.eventCode}\n        pitMapData={window.inspectionPitMapData}\n        mapBb={window.inspectionMapBb}\n        statusSelectable={window.inspectionStatusSelectable}\n        form={window.form}\n        allowedStatuses={window.allowedStatuses} />)\n}\n\n"],"names":["StatusSelect","statuses","value","team","form","eventCode","allowedStatuses","jsx","e","status","PermissiveURLSearchParams","s","TeamRow","selectable","statusData","t","StatusGrid","inspectionData","statusSelectable","allowScanning","jsxs","Fragment","StatusMap","pitMapData","mapBb","pitMap","useRef","inspectionDataRef","showPitMap","setShowPitMap","useLocalStorageState","useEffect","PitMap","cell","data","_a","Status","statusDetails","LabelMode","_b","teamInfo","currentStatus","result","promptDialog","confirmDialog","wrapper","newZoom","Button","v","QueueInfo","showModal","QueueModal","show","hideModal","claim","Modal","x","InspectionStatus","setInspectionData","useState","modalVisible","setModalVisible","isConnected","usePersistentWebsocket","StatusProgress","LocalErrorBoundary","container","createRoot"],"mappings":"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"}