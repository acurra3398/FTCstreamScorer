{"version":3,"file":"Counter-BLupmQGT.js","sources":["../../../../../../FTCCommon/src/main/javascript/ref/components/Counter.tsx"],"sourcesContent":["import {useUniqueId} from \"../../utils\";\nimport { ReactNode, useCallback } from \"react\";\n\nimport './Counter.css';\n\nexport default function Counter({value, setValue, label, plain, limit, color, className, conflict, large} : {\n    value: number,\n    setValue: (val : number) => void,\n    label: ReactNode,\n    plain?: false,\n    limit?: number,\n    color?: 'RED' | 'red' | 'BLUE' | 'blue',\n    className?: string,\n    conflict?: boolean,\n    large?: boolean\n} | {\n    value: number,\n    setValue: (val : number) => void,\n    label?: ReactNode,\n    plain: true,\n    limit?: number,\n    color?: 'RED' | 'red' | 'BLUE' | 'blue',\n    className?: string,\n    conflict?: boolean,\n    large?: boolean\n}) {\n    const id = useUniqueId();\n\n    const decrement = useCallback(() => {\n        const oldValue = value || 0;\n        let newValue = oldValue - 1;\n        if(newValue < 0) {\n            newValue = 0;\n        }\n        if(newValue !== oldValue) {\n            setValue(newValue)\n        }\n    }, [value, setValue]);\n\n    const increment = useCallback(() => {\n        const oldValue = Math.max(value || 0, 0); // if null (-1), '+' sets it to 1, '-' sets it to 0\n        let newValue = oldValue + 1;\n        if(limit && newValue > limit) {\n            newValue = limit;\n        }\n        if(newValue !== oldValue) {\n            setValue(newValue)\n        }\n    }, [value, setValue]);\n\n    const input = <div className=\"input-group counter-input-group\" style={large ? {marginTop: \"1.5ch\", marginBottom: \"1.5ch\"} : {}}>\n        <div className=\"input-group-prepend flex-grow-1\">\n            <button className={`btn counterButton w-100`} onClick={decrement}>\n                <i className=\"fa fa-minus-square fa-2x\" aria-hidden=\"true\"></i>\n            </button>\n        </div>\n        <input className={`form-control text-center counter`} id={id} value={value < 0 ? '' : value || 0} readOnly/>\n        <div className=\"input-group-append flex-grow-1\">\n            <button className={`btn ${large ? \"btn-lg\": \"\"} counterButton w-100 ${color ? color.toLowerCase() : ''}`} onClick={increment}>\n                <i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i>\n            </button>\n        </div>\n    </div>\n\n    return plain ? input : <div className={`d-flex align-items-center mb-2 ${className || ''} counter-wrapper ${conflict ? \"conflict\" : \"\"}`}>\n        <label htmlFor={id} className={\"flex-grow-1\"}>{label}</label>\n        {input}\n    </div>\n\n}"],"names":["Counter","value","setValue","label","plain","limit","color","className","conflict","large","id","useUniqueId","decrement","useCallback","oldValue","newValue","increment","input","jsxs","jsx"],"mappings":"iaAKwB,SAAAA,EAAQ,CAAC,MAAAC,EAAO,SAAAC,EAAU,MAAAC,EAAO,MAAAC,EAAO,MAAAC,EAAO,MAAAC,EAAO,UAAAC,EAAW,SAAAC,EAAU,MAAAC,CAAA,EAoBhG,CACC,MAAMC,EAAKC,EAAY,EAEjBC,EAAYC,EAAAA,YAAY,IAAM,CAChC,MAAMC,EAAWb,GAAS,EAC1B,IAAIc,EAAWD,EAAW,EACvBC,EAAW,IACCA,EAAA,GAEZA,IAAaD,GACZZ,EAASa,CAAQ,CACrB,EACD,CAACd,EAAOC,CAAQ,CAAC,EAEdc,EAAYH,EAAAA,YAAY,IAAM,CAChC,MAAMC,EAAW,KAAK,IAAIb,GAAS,EAAG,CAAC,EACvC,IAAIc,EAAWD,EAAW,EACvBT,GAASU,EAAWV,IACRU,EAAAV,GAEZU,IAAaD,GACZZ,EAASa,CAAQ,CACrB,EACD,CAACd,EAAOC,CAAQ,CAAC,EAEde,EAAQC,EAAAA,KAAC,MAAI,CAAA,UAAU,kCAAkC,MAAOT,EAAQ,CAAC,UAAW,QAAS,aAAc,OAAO,EAAI,CACxH,EAAA,SAAA,CAAAU,EAAAA,IAAC,OAAI,UAAU,kCACX,SAACA,EAAA,IAAA,SAAA,CAAO,UAAW,0BAA2B,QAASP,EACnD,SAAAO,MAAC,KAAE,UAAU,2BAA2B,cAAY,OAAO,EAC/D,CACJ,CAAA,EACAA,EAAA,IAAC,QAAM,CAAA,UAAW,mCAAoC,GAAAT,EAAQ,MAAOT,EAAQ,EAAI,GAAKA,GAAS,EAAG,SAAQ,GAAA,EAC1GkB,EAAA,IAAC,MAAI,CAAA,UAAU,iCACX,SAAAA,EAAAA,IAAC,SAAO,CAAA,UAAW,OAAOV,EAAQ,SAAU,EAAE,wBAAwBH,EAAQA,EAAM,YAAA,EAAgB,EAAE,GAAI,QAASU,EAC/G,SAAAG,EAAAA,IAAC,IAAE,CAAA,UAAU,0BAA0B,cAAY,MAAO,CAAA,CAAA,CAC9D,CACJ,CAAA,CAAA,EACJ,EAEA,OAAOf,EAAQa,EAASC,EAAAA,KAAA,MAAA,CAAI,UAAW,kCAAkCX,GAAa,EAAE,oBAAoBC,EAAW,WAAa,EAAE,GAClI,SAAA,CAAAW,MAAC,QAAM,CAAA,QAAST,EAAI,UAAW,cAAgB,SAAMP,EAAA,EACpDc,CAAA,EACL,CAEJ"}